<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>


    <meta name="description" content="Chandler's Blog" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="Chandler&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Amateur Programming">
<meta property="og:url" content="http://github.com/ttma1046/index.html">
<meta property="og:site_name" content="Amateur Programming">
<meta property="og:description" content="Chandler&apos;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Amateur Programming">
<meta name="twitter:description" content="Chandler&apos;s Blog">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>

  <title> Amateur Programming </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">Amateur Programming</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            Tags
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 
  <section id="posts" class="posts-expand">
    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2017/07/06/how-to-build-third-party-library/" itemprop="url">
                how-to-build-third-party-library
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2017-07-06T01:06:55+00:00" content="2017-07-06">
            2017-07-06
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>@title<br>Third Party Library</p>
<p>@intro<br>Create a third party library with support for AOT, JIT and Tree Shaking.</p>
<p>@description</p>
<p>Libraries are the backbone of the Angular ecosystem.<br>They add functionality that would otherwise take a long time to implement from scratch and keep<br>up to date.<br>Everyone benefits from a healthy library ecosystem.</p>
<p>Traditionally, third party JavaScript libraries have been published in the form of a single<br>JavaScript file.<br>Consumers of the library have then included the library, “as is”, somewhere on the page using a<br><code>script</code> tag.</p>
<p>Modern web development has changed this process.<br>Instead of publishing a “one size fits all” bundle, developers want to only include the parts of<br>the library they actually need and in the format they need it in.</p>
<p>This cookbook shows how to publish a third party library in a way that makes it possible to<br>fully benefit from techniques like Ahead of Time Compilation (AOT) and Tree Shaking.</p>
<p>The  <strong>QuickStart Library seed</strong> gives you a ready-to-go setup that implements the library<br>package format described in this guide.</p>
<div class="alert is-important"><br>  The setup shown in this cookbook is only for Angular version 4 (and up) libraries.<br></div>

<h2 id="Table_of_contents">Table of contents</h2><p><a href="guide/third-party-lib#library-package-format">Library package format</a></p>
<p><a href="guide/third-party-lib#building-your-library">Building your library</a></p>
<p><a href="guide/third-party-lib#whats-in-the-quickstart-library-seed">What’s in the QuickStart Library seed?</a></p>
<p><a href="guide/third-party-lib#the-build-step">The build step</a></p>
<p><a href="guide/third-party-lib#testing-libraries">Testing libraries</a></p>
<p><a href="guide/third-party-lib#publishing-your-library">Publishing your library</a></p>
<p><a href="guide/third-party-lib#appendix-supporting-aot">Appendix: Supporting AOT</a></p>
<p><a href="guide/third-party-lib#appendix-supporting-jit">Appendix: Supporting JIT</a></p>
<p><a href="guide/third-party-lib#appendix-dependency-management">Appendix: Dependency Management</a></p>
<h2 id="Library_package_format">Library package format</h2><p>In order to understand how to build and publish a library, you have to consider <em>how</em> the library<br>is going to be consumed.</p>
<p>Some users need to add it as a <code>&lt;script&gt;</code> tag.<br>Others might prefer to use a module loader like <a href="https://github.com/systemjs/systemjs">SystemJS</a><br>or the native Node one.<br>Bundlers, like <a href="https://webpack.js.org/" target="_blank" rel="external">Webpack</a> are very popular as well.<br><a href="guide/typescriptlang">Typescript</a> users need type definitions.<br><a href="https://github.com/rollup/rollup">Rollup</a> users make use of ECMAScript Modules (ESM)<br>for tree-shaking.<br>Even though <a href="guide/third-party-lib#appendix-supporting-aot">AOT</a> is preferred,<br><a href="guide/third-party-lib#appendix-supporting-jit">Just-in-time</a> compilation should be supported.</p>
<p>It’s daunting to think of all the ways your library might be used and how to accommodate it,<br>but you don’t need to have a “one-size-fits-all” library.</p>
<p>You can configure <code>package.json</code> with more entry points besides <a href="https://docs.npmjs.com/files/package.json#main" target="_blank" rel="external">main</a>.</p>
<p>The recommended set of entry points is as follows:</p>
<ul>
<li><code>main</code> (default): an ES5 <a href="https://github.com/umdjs/umd">UMD</a> bundle that can be consumed anywhere.</li>
<li><code>module</code>: a flat ECMAScript Module (ESM) bundle containing ES5 code.</li>
<li><code>es2015</code>: a flat ESM bundle containing ES2015 code.</li>
<li><code>typings</code>: TypeScript and the AOT compiler will look at this entry for metadata.</li>
</ul>
<p>In addition, a minimized version of the UMD bundle should also be provided, as well as full<br>sourcemaps (all the way back to the source) for all JS bundles.</p>
<p>This set of entry points satisfies the following consumers:</p>
<table width="100%"><br>  <col width="40%"><br>  <col width="20%"><br>  <col width="40%"><br>  <tr><br>    <th> Consumer </th><br>    <th> Module format </th><br>    <th> Entry point resolves to </th><br>  </tr><br>  <tr><br>    <td> Webpack (es2015) / Closure Compiler </td><br>    <td> ESM+ES2015 </td><br>    <td> <code>library-name.js</code> </td><br>  </tr><tr><br>    <td> Angular CLI / Webpack/ Rollup </td><br>    <td> ESM+ES5 </td><br>    <td> <code>library-name.es5.js</code> </td><br>  </tr><br>  <tr><br>    <td> Plunker / Fiddle / ES5 / script tag </td><br>    <td> UMD </td><br>    <td><br>      Requires manual resolution to<br>      <code>bundles/library-name.umd.js</code>/<code>bundles/library-name.umd.min.js</code><br>    </td><br>  </tr><br>  <tr><br>    <td> Node.js </td><br>    <td> UMD </td><br>    <td> <code>bundles/library-name.umd.js</code> </td><br>  </tr><br>  <tr><br>    <td> TypeScript </td><br>    <td> ESM+<em>.d.ts </em></td><br>    <td> <code>library-name.d.ts</code> </td><br>  </tr><br>  <tr><br>    <td> AOT compilation </td><br>    <td> .metadata.json </td><br>    <td> <code>library-name.metadata.json</code> </td><br>  </tr><br></table>

<p>A library should have the following file layout when published:</p>
<style>
.filetree {
    background: #fff;
    box-shadow: 0 2px 2px rgba(0,0,0,0.24), 0 0 2px rgba(0,0,0,0.12);
    border: 4px solid #ECEFF1;
    margin: 0 0 24px 0;
    padding: 24px;
}

.filetree .file {
    display: block;
    font-family: Monaco,"Lucida Console",monospace;
    line-height: 32px;
    color: #546E7A;
}

.filetree .children {
    padding-left: 24px;
    position: relative;
    overflow: hidden;
}

.filetree .children .file {
    position: relative;
}

.filetree .children .file:before {
    content: '';
    left: -18px;
    bottom: 16px;
    width: 16px;
    height: 9999px;
    position: absolute;
    border-width: 0 0 1px 1px;
    border-style: solid;
    border-color: #CFD8DC;
    border-radius: 0 0 0 3px;
}
</style>

<div class="filetree"><br>  <div class="file"><br>    node_modules/library-name<br>  </div><br>  <div class="children"><br>    <div class="file"><br>      bundles<br>    </div><br>    <div class="children"><br>      <div class="file"><br>        library-name.umd.js (‘main’ entry point)<br>      </div><br>      <div class="file"><br>        library-name.umd.js.map<br>      </div><br>      <div class="file"><br>        library-name.umd.min.js<br>      </div><br>      <div class="file"><br>        library-name.umd.min.js.map<br>      </div><br>    </div><br>    <div class="file"><br>      src/*.d.ts<br>    </div><br>    <div class="file"><br>      library-name.d.ts (‘typings’ entry point)<br>    </div><br>    <div class="file"><br>      library-name.es5.js (‘module’ entry point)<br>    </div><br>    <div class="file"><br>      library-name.es5.js.map<br>    </div><br>    <div class="file"><br>      library-name.js (‘es2015’ entry point)<br>    </div><br>    <div class="file"><br>      library-name.js.map<br>    </div><br>    <div class="file"><br>      library-name.metadata.json<br>    </div><br>    <div class="file"><br>      index.d.ts<br>    </div><br>    <div class="file"><br>      LICENSE<br>    </div><br>    <div class="file"><br>      package.json (lists all entry points)<br>    </div><br>    <div class="file"><br>      README.md<br>    </div><br>  </div><br></div>

<div class="l-sub-section"><br>  A flat ECMAScript module (FESM) is a bundled ECMAScript module where all imports were<br>  copied onto the same file file.<br>  It always contains ES module import/export statements but can have different levels of ES code<br>  inside.<br></div>


<h2 id="Building_your_library">Building your library</h2><p>You can use any set of tools you choose to package your library.<br>The only tool that is mandatory is the AOT compiler <code>ngc</code>, which should have the following<br>configuration in the used <code>tsconfig.json</code>:</p>
<p><code-example language="json"><br>  {<br>    “compilerOptions”: { … },<br>    “angularCompilerOptions”: {<br>      “annotateForClosureCompiler”: true,<br>      “strictMetadataEmit”: true,<br>      “skipTemplateCodegen”: true,<br>      “flatModuleOutFile”: “library-name.js”,<br>      “flatModuleId”: “library-name”<br>    }<br>  }<br></code-example></p>
<p>You shouldn’t have a <code>library-name.js</code> file, as it will be auto generated by <code>ngc</code> in order to<br>create a flat module, re-exporting the public API of your library.</p>
<p>Below is a handy list for you to check if your entry points files are correctly build:</p>
<ul>
<li>common to all entry points:<ul>
<li>HTML and CSS templates inlined in your TypeScript files that will be compiled.</li>
<li>sourcemaps all the way back to the source files.</li>
<li>compiled using <code>&quot;module&quot;: &quot;es2015&quot;</code> in <code>compilerOptions</code></li>
</ul>
</li>
<li><code>main</code> (<code>bundles/library-name.umd.js</code>)<ul>
<li>compiled with <code>ngc</code>, using <code>&quot;target&quot;: &quot;es5&quot;</code>.</li>
<li>bundled using a UMD format.</li>
<li>also produce a minimized copy.</li>
</ul>
</li>
<li><code>module</code> (<code>library-name.es5.js</code>)<ul>
<li>compiled with <code>ngc</code>, using <code>&quot;target&quot;: &quot;es5&quot;</code>.</li>
<li>bundled using ES modules format.</li>
</ul>
</li>
<li><code>es2015</code> (<code>library-name.js</code>)<ul>
<li>compiled with <code>ngc</code>, using <code>&quot;target&quot;: &quot;es2015&quot;</code>.</li>
<li>bundled using ES modules format.</li>
</ul>
</li>
<li><code>typings</code> (<code>library-name.d.ts</code>)<ul>
<li>compiled with <code>ngc</code>.</li>
<li>only publish <code>*.d.ts</code> and <code>library-name.metadata.json</code> files.</li>
</ul>
</li>
</ul>
<h2 id="The_QuickStart_Library_seed">The QuickStart Library seed</h2><p>Setting up a new library project on your machine is quick and easy with the <strong>QuickStart Library seed</strong>,<br>maintained <a href="https://github.com/angular/quickstart-lib" title="Install the github QuickStart Library repo">on github</a>.</p>
<p>This example repository has an implemention of the described package format but is by no means<br>the only way you should publish a library.<br>Any setup that builds the necessary package format works just as well for a consumer.<br>You are encouraged to customize this process as you see fit.</p>
<p>Make sure you have at least Node 6.9 and NPM 3.0 installed.<br>Then …</p>
<ol>
<li>Create a project folder (you can call it <code>quickstart-lib</code> and rename it later).</li>
<li><a href="guide/third-party-lib#clone" title="Clone it from github">Clone</a> or <a href="guide/third-party-lib#download" title="download it from github">download</a> the <strong>QuickStart Library seed</strong> into your project folder.</li>
<li>Install npm packages.</li>
<li>Run <code>npm start</code> to launch the sample application.</li>
</ol>
<h3 id="Clone">Clone</h3><p>Perform the <em>clone-to-launch</em> steps with these terminal commands.</p>
<p><code-example language="sh" class="code-shell"><br>  git clone <a href="https://github.com/angular/quickstart-lib.git">https://github.com/angular/quickstart-lib.git</a> quickstart-lib<br>  cd quickstart-lib<br>  npm install<br>  npm start<br></code-example></p>
<h3 id="Download">Download</h3><p><a href="https://github.com/angular/quickstart-lib/archive/master.zip">Download the QuickStart Library seed</a><br>and unzip it into your project folder. Then perform the remaining steps with these terminal commands.</p>
<p><code-example language="sh" class="code-shell"><br>  cd quickstart-lib<br>  npm install<br>  npm start<br></code-example></p>
<h2 id="Initialize_your_repository">Initialize your repository</h2><p>If you cloned the package from github, it has a <code>.git</code> folder where the official repository’s history lives.</p>
<p>You don’t want that git history though - you’ll want to make your own. </p>
<p>Delete this folder and initialize this one as a new repository:</p>
<p><code-example language="sh" class="code-shell"><br>  rm -rf .git # Linux or OS/X (bash)<br>  rd .git /S/Q # Windows<br>  git init<br></code-example></p>
<div class="alert is-important"><br>  Do this only in the beginning to avoid accidentally deleting your own git setup!<br></div>


<h2 id="What’s_in_the_QuickStart_Library_seed?">What’s in the QuickStart Library seed?</h2><p>The <strong>QuickStart Library seed</strong> contains a similar structure to the <a href="https://github.com/angular/quickstart">Quickstart seed</a>.<br>It’s modified to build and test a library instead of an application.</p>
<p>Consequently, there are <em>many different files</em> in the project,<br>most of which you can <a href="guide/library-setup-anatomy" title="Library Setup Anatomy">learn about later</a>.</p>
<p>Focus on the following TypeScript (<code>.ts</code>) files in the <strong><code>/src</code></strong> folder.</p>
<div class="filetree"><br>  <div class="file"><br>    src<br>  </div><br>  <div class="children"><br>    <div class="file"><br>      demo<br>    </div><br>    <div class="children"><br>      <div class="file"><br>        app<br>      </div><br>      <div class="children"><br>        <div class="file"><br>          app.component.ts<br>        </div><br>        <div class="file"><br>          app.module.ts<br>        </div><br>      </div><br>    </div><br>    <div class="file"><br>      lib<br>    </div><br>    <div class="children"><br>      <div class="file"><br>        src<br>      </div><br>      <div class="children"><br>        <div class="file"><br>          component<br>        </div><br>        <div class="children"><br>          <div class="file"><br>            lib.component.ts<br>          </div><br>        </div><br>        <div class="file"><br>          service<br>        </div><br>        <div class="children"><br>          <div class="file"><br>            lib.service.ts<br>          </div><br>        </div><br>        <div class="file"><br>          module.ts<br>        </div><br>      </div><br>      <div class="file"><br>        index.ts<br>      </div><br>    </div><br>  </div><br></div>

<p><code-tabs><br>  <code-pane title="src/demo/app/app.component.ts" path="quickstart-lib/src/demo/app/app.component.ts"><br>  </code-pane></code-tabs></p>
<p>  <code-pane title="src/demo/app/app.module.ts" path="quickstart-lib/src/demo/app/app.module.ts"><br>  </code-pane></p>
<p>  <code-pane title="src/lib/src/component/lib.component.ts" path="quickstart-lib/src/lib/src/component/lib.component.ts"><br>  </code-pane></p>
<p>  <code-pane title="src/lib/src/service/lib.service.ts" path="quickstart-lib/src/lib/src/service/lib.service.ts"><br>  </code-pane></p>
<p>  <code-pane title="src/lib/src/module.ts" path="quickstart-lib/src/lib/src/module.ts
    quickstart-lib/ts/src/lib/index.ts"><br>  </code-pane></p>
<p>  <code-pane title="src/lib/index.ts" path="third-party-lib"><br>  </code-pane><br></p>
<p>Each file has a distinct purpose and evolves independently as the application grows.</p>
<p>Files outside <code>src/</code> concern building, deploying, and testing your app.<br>They include configuration files and external dependencies.</p>
<p>Files inside <code>src/lib</code> “belong” to your library, while <code>src/demo</code> contains a demo application<br>that loads your library.</p>
<p>Libraries do not run by themselves, so it’s very useful to have this “demo” app while developing<br>to see how your library would look like to consumers.</p>
<p>When you run <code>npm start</code>, the demo application is served.</p>
<p>The following are all in <code>src/</code></p>
<table width="100%"><br>  <col width="20%"><br>  <br>  <col width="80%"><br>  <br>  <tr><br>    <th><br>      File<br>    </th><br>    <th><br>      Purpose<br>    </th><br>  </tr><br>  <tr><br>    <td><br>      <code>demo/app/app.component.ts</code><br>    </td><br>    <td><br>      A demo component that renders the library component and a value from the library service.<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      <code>demo/app/app.module.ts</code><br>    </td><br>    <td><br>      A demo <code>NgModule</code> that imports the Library <code>LibModule</code>.<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      <code>lib/src/component/app.component.ts</code><br>    </td><br>    <td><br>      A sample library component that renders an <code>h2</code> tag.<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      <code>lib/src/service/lib.service.ts</code><br>    </td><br>    <td><br>      A sample library service that exports a value.<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      <code>lib/src/module.ts</code><br>    </td><br>    <td><br>      The library’s main <code>NgModule</code>, <code>LibModule</code>.<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      <code>lib/index.ts</code><br>    </td><br>    <td><br>      The public API of your library, where you choose what to export to consumers.<br>    </td><br>  </tr><br></table>


<h2 id="The_build_step">The build step</h2><p>You can build the library by running <code>npm run build</code>.<br>This will generate a <code>dist/</code> directory with all the entry points described above.</p>
<p>All the logic for creating the build can be found in <code>./build.js</code>. It consists of roughly 5 steps:</p>
<ul>
<li>Compile with the AOT Compiler (AOT compiler or <code>ngc</code>) for ES5 and ES2015.</li>
<li>Inline html and css inside the generated JavaScript files.</li>
<li>Copy typings, metatada, html and css.</li>
<li>Create each bundle using Rollup.</li>
<li>Copy <code>LICENSE</code>, <code>package.json</code> and <code>README.md</code> files</li>
</ul>
<h2 id="Testing_libraries">Testing libraries</h2><p>While testing is always important, it’s <strong>especially</strong> important in libraries because consumer<br>applications might break due to bugs in libraries.</p>
<p>But the fact that a library is consumed by another application is also what makes it hard to test.</p>
<p>To properly test a library, you need to have an integration tests.<br>An integration test is to libraries what an end-to-end test is to applications.<br>It tests how an app would install and use your library.</p>
<p>The <strong>QuickStart Library seed</strong> includes a directory called <code>integration</code> containing a standalone<br>app that consumes your built library in both AOT and JIT modes, with end-to-end tests to verify<br>it works.</p>
<p>To run the integration tests, do <code>npm run integration</code> which does the following:</p>
<ul>
<li>Build your library.</li>
<li>Enter the integration app’s directory.</li>
<li>Install dependencies.</li>
<li>Build the app in AOT mode.</li>
<li>Test the app in AOT mode.</li>
<li>Test the app in JIT mode.</li>
</ul>
<p>Running integration tests gives you greater confidence that your library is properly built.</p>
<p>In addition to integration tests, you can also run unit tests in watch mode via <code>npm run test</code>,<br>or single-run via <code>npm run test:once</code>.</p>
<p>You can also test your library by installing it in another local repository you have.<br>To do so, first build your lib via <code>npm run build</code>.<br>Then install it from your other repo using a relative path to the dist folder:<br><code>npm install relative/path/to/library/dist</code>.</p>
<h2 id="Publishing_your_library">Publishing your library</h2><p>Every package on NPM has a unique name, and so should yours.<br>If you haven’t already, now is the time to change the name of your library.</p>
<p>Use your editor to search the project for all instances of <code>angular-quickstart-lib</code> and change it<br>to your intended name (also in <code>dash-case</code> format).<br>The library name is mentioned on at least these files: </p>
<ul>
<li><code>integration/src/app/app.component.ts</code></li>
<li><code>integration/src/app/app.module.ts</code></li>
<li><code>integration/src/systemjs.config.js</code></li>
<li><code>integrations/package.json</code></li>
<li><code>src/demo/app/app.component.ts</code></li>
<li><code>src/demo/app/app.module.ts</code></li>
<li><code>src/demo/systemjs.config.js</code></li>
<li><code>src/demo/tsconfig.json</code></li>
<li><code>src/lib/tsconfig.json</code></li>
<li><code>src/lib/tsconfig.es5.json</code></li>
<li><code>bs-config.json</code></li>
<li><code>package.json</code></li>
<li><code>README.md</code></li>
</ul>
<p>You’ll also need to rename the <code>src/lib/angular-quickstart-lib.ts</code> file and the folder your<br>project is in.</p>
<p>After you have changed the package name, you can publish it to NPM (read<br><a href="https://docs.npmjs.com/getting-started/publishing-npm-packages" target="_blank" rel="external">this link</a> for details).</p>
<p>First you’ll need to create a NPM account and login on your local machine.<br>Then you can publish your package by running <code>npm publish dist/</code>.<br>Since your package is built on the <code>dist/</code> folder this is the one you should publish.</p>
<div class="l-sub-section"><br><br>### Be a good library maintainer<br><br>Now that you’ve published a library, you need to maintain it as well.<br>Below are some of the most important points:<br><br>- Document your library.<br>- Keep an eye on the issue tracker.<br>- <a href="guide/third-party-lib#appendix-dependency-management">Manage your dependencies properly</a><br>- Follow <a href="http://semver.org/" target="_blank" rel="external">Semantic Versioning</a><br>- Setup a Continuous Integration solution to test your library (included is a <code>.travis.yml</code><br>file for <a href="https://docs.travis-ci.com/user/getting-started/" target="_blank" rel="external">Travis CI</a>)!<br>- Choose an <a href="https://choosealicense.com/" target="_blank" rel="external">appropriate license</a>.<br><br></div>


<h2 id="Appendix:_Supporting_AOT">Appendix: Supporting AOT</h2><p>AOT plays an important role in optimizing Angular applications.<br>It’s therefore important that third party libraries be published in a format compatible with AOT<br>compilation.<br>Otherwise it will not be possible to include the library in an AOT compiled application.</p>
<p>Only code written in TypeScript can be AOT compiled.</p>
<p>Before publishing the library must first be compiled using the AOT compiler (<code>ngc</code>).<br><code>ngc</code> extends the <code>tsc</code> compiler by adding extensions to support AOT compilation in addition to<br>regular TypeScript compilation.   </p>
<p>AOT compilation outputs three files that must be included in order to be compatible with AOT.</p>
<p><em>Transpiled JavaScript</em></p>
<p>As usual the original TypeScript is transpiled to regular JavaScript.</p>
<p><em>Typings files</em></p>
<p>JavaScript has no way of representing typings.<br>In order to preserve the original typings, <code>ngc</code> will generate <code>.d.ts</code> typings files.</p>
<p><em>Meta Data JSON files</em></p>
<p><code>ngc</code> outputs a metadata.json file for every <code>Component</code> and <code>NgModule</code>.<br>These meta data files represent the information in the original <code>NgModule</code> and <code>Component</code><br>decorators.   </p>
<p>The meta data may reference external templates or css files.<br>These external files must be included with the library.</p>
<h3 id="NgFactories">NgFactories</h3><p><code>ngc</code> generates a series of files with an <code>.ngfactory</code> suffix as well.<br>These files represent the AOT compiled source, but should not be included with the published library.</p>
<p>Instead the <code>ngc</code> compiler in the consuming application will generate <code>.ngfactory</code> files based<br>on the JavaScript, Typings and meta data shipped with the library. </p>
<h3 id="Why_not_publish_TypeScript?">Why not publish TypeScript?</h3><p>Why not ship TypeScript source instead?<br>After all the library will be part of another TypeScript compilation step when the library is<br>imported by the consuming application.</p>
<p>Generally it’s discouraged to ship TypeScript with third party libraries.<br>It would require the consumer to replicate the complete build environment of the library.<br>Not only typings, but potentially a specific version of <code>ngc</code> as well.</p>
<p>Publishing plain JavaScript with typings and meta data allows the consuming application to<br>remain agnostic of the library’s build environment.</p>
<h2 id="Appendix:_Supporting_JIT">Appendix: Supporting JIT</h2><p>AOT compiled code is the preferred format for production builds, but due to the long compilation<br>time it may not be practical to use AOT during development.</p>
<p>To create a more flexible developer experience a JIT compatible build of the library should be<br>published as well.<br>The format of the JIT bundle is <code>umd</code>, which stands for Universal Module Definition.<br>Shipping the bundle as <code>umd</code> ensures compatibility with most common module loading formats.</p>
<p>The <code>umd</code> bundle will ship as a single file containing ES5 JavaScript and inlined versions of<br>any external templates or css. </p>
<h2 id="Appendix:_Dependency_Management">Appendix: Dependency Management</h2><p>As a library maintainer, it’s important to properly manage your dependencies in <code>package.json</code>.</p>
<p>There are <a href="https://docs.npmjs.com/files/package.json#dependencies" target="_blank" rel="external">three kinds of dependencies</a>:<br> <code>dependencies</code>, <code>devDependencies</code> and <code>peerDependencies</code>.</p>
<ul>
<li><code>dependencies</code>: here go all the other libraries yours depends on when being used.<br>A good way to figure out these is to go through your library source code (in <code>src/lib</code> <strong>only</strong>)<br>and list all the libraries there.</li>
<li><code>devDependencies</code>: libraries that you need while developing, testing and building your library<br>go here.<br>When a user installs your library, these won’t be installed.<br>Users don’t need to develop, build or test your library, they just need to run it.</li>
<li><code>peerDependencies</code>: these are similar to <code>dependencies</code> since your library expects them to be<br>there at runtime.<br>The difference is that you don’t want to install a new version of these, but instead use<br>the one already available. </li>
</ul>
<p>A good example of a peer dependency is <code>@angular/core</code> and all other main Angular libraries.<br>If you listed these in <code>dependencies</code>, a new one - with a different version! - could be installed<br>for your library to use.<br>This isn’t what you wanted though. You want your library to use <em>the exact same</em> <code>@angular/core</code><br>that the app is using.</p>
<p>You’ll usually used <code>@angular/*</code> libraries listed in both <code>devDependencies</code> and<br><code>peerDependencies</code>.<br>This is normal and expected, because when you’re developing your library also need a copy of<br>them installed.</p>
<p>Another thing to remember is to keep your dependencies from changing too much unexpectedly.<br>Different versions of libraries can have different features, and if you inadvertently are too<br>lenient with allowed versions your library might stop working because a dependency changed.</p>
<p>You can choose what versions you allow by using <a href="https://docs.npmjs.com/misc/semver" target="_blank" rel="external">ranges</a>.</p>
<p>A good rule of thumb is to have all <code>dependencies</code> specified with a tilde <code>~</code>(<code>~1.2.3</code>),<br>while your <code>peerDependencies</code> have a range (<code>&quot;@angular/core&quot;: &quot;&gt;=4.0.0 &lt;5.0.0 || &gt;=4.0.0-beta &lt;5.0.0&quot;</code>).</p>
<p>Any extra dependency or peer dependency that you add to <code>package.json</code> should also be added<br>to the <code>globals</code> and <code>external</code> array in the <code>rollupBaseConfig</code> variable in <code>./build.js</code>.</p>
<p>This ensures your library doesn’t package extra libraries inside of it and instead uses the ones<br>available in the consuming app.</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2017/06/27/Distributing-an-Angular-Library/" itemprop="url">
                Distributing an Angular Library
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2017-06-27T01:27:56+00:00" content="2017-06-27">
            2017-06-27
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><a href="http://blog.mgechev.com/2017/01/21/distributing-an-angular-library-aot-ngc-types/" target="_blank" rel="external">Distributing an Angular Library - The Brief Guide</a></p>
<p><a href="https://medium.com/@cyrilletuzi/how-to-build-and-publish-an-angular-module-7ad19c0b4464" target="_blank" rel="external">How to build and publish an Angular module</a></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2017/03/01/Visual-Studio-Code-Shortcuts/" itemprop="url">
                Visual Studio Code Shortcuts
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2017-03-01T23:00:18+00:00" content="2017-03-01">
            2017-03-01
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>The code formatting is available in VS Code through the following shortcuts:</p>
<p>On Windows Shift + Alt + F<br>On Mac Shift + Option + F<br>On Ubuntu Ctrl + Shift + I<br>Alternatively, you can find the shortcut, as well as other shortcuts, through the search functionality provided in the editor with Ctrl +Shift+ P (or Command + Shift + P on Mac), and then searching for format code.</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/10/23/angular2resources/" itemprop="url">
                Angular 2 Resources
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2016-10-23T11:25:04+00:00" content="2016-10-23">
            2016-10-23
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h1 id="Angular_2_Resources">Angular 2 Resources</h1><h2 id="Angular-io">Angular.io</h2><p><a href="https://angular.io/" target="_blank" rel="external">https://angular.io/</a></p>
<h2 id="Github">Github</h2><p><a href="https://github.com/angular/angular">https://github.com/angular/angular</a></p>
<p><a href="https://github.com/angular/quickstart">https://github.com/angular/quickstart</a></p>
<p><a href="https://github.com/angular/angular-cli">https://github.com/angular/angular-cli</a></p>
<p><a href="https://github.com/kara/ac-forms">https://github.com/kara/ac-forms</a></p>
<p><a href="https://github.com/mgechev/angular-seed">https://github.com/mgechev/angular-seed</a></p>
<p><a href="https://github.com/AngularClass/angular2-webpack-starter">https://github.com/AngularClass/angular2-webpack-starter</a></p>
<p><a href="https://github.com/AngularClass/angular-starter/wiki/Routing-and-Lazy-loading-@NgModules">Routing and Lazy loading @NgModules</a></p>
<p><a href="https://angular-2-training-book.rangle.io/" target="_blank" rel="external">Rangle.io Angular Training Book</a></p>
<p><a href="https://github.com/telerik/kendo-angular2-quickstart">https://github.com/telerik/kendo-angular2-quickstart</a></p>
<p><a href="https://github.com/telerik/kendo-angular2">https://github.com/telerik/kendo-angular2</a></p>
<p><a href="https://github.com/telerik/ng2-dashboard">https://github.com/telerik/ng2-dashboard</a></p>
<p><a href="https://github.com/akveo/ng2-admin">https://github.com/akveo/ng2-admin</a></p>
<p><a href="https://github.com/akserg/ng2-dnd">https://github.com/akserg/ng2-dnd</a></p>
<h2 id="Youtube_Channel">Youtube Channel</h2><p><a href="https://www.youtube.com/user/angularjs" target="_blank" rel="external">AngularJs</a></p>
<p><a href="https://www.youtube.com/channel/UCzrskTiT_ObAk3xBkVxMz5g" target="_blank" rel="external">AngularConnect</a></p>
<p><a href="https://www.youtube.com/channel/UCm9iiIfgmVODUJxINecHQkA" target="_blank" rel="external">Ng Conf</a></p>
<p><a href="https://www.youtube.com/channel/UCVoCimHRxccJ3xDV3K8Cuyw" target="_blank" rel="external">Ng Conf live</a></p>
<p><a href="https://www.youtube.com/channel/UCdCOpvRk1lsBk26ePGDPLpQ" target="_blank" rel="external">AngularAir</a></p>
<p><a href="https://www.youtube.com/user/programmingwithmosh" target="_blank" rel="external">Mosh Hamedani on Udemy</a></p>
<p><a href="https://www.youtube.com/channel/UCSJbGtTlrDami-tDGPUV9-w" target="_blank" rel="external">Mindspace</a></p>
<p><a href="https://www.youtube.com/channel/UCsAyXAykjUh9EReua5y8xIQ" target="_blank" rel="external">Meligy’s Channel</a></p>
<h2 id="Youtube_Videos">Youtube Videos</h2><p><a href="https://www.youtube.com/watch?v=mH4TpdwZP4A" target="_blank" rel="external">Learn Angular 2 (TypeScript) by building a simple YouTube player</a></p>
<p><a href="https://www.youtube.com/watch?v=xYv9lsrV0s4" target="_blank" rel="external">Angular 2 Forms - Kara Erickson</a></p>
<h1 id="NativeScript_Resources">NativeScript Resources</h1><h2 id="Github-1">Github</h2><p><a href="https://github.com/NativeScript/NativeScript">https://github.com/NativeScript/NativeScript</a></p>
<p><a href="https://github.com/NativeScript/nativescript-angular">https://github.com/NativeScript/nativescript-angular</a></p>
<h2 id="Youtube_Channel-1">Youtube Channel</h2><p><a href="https://www.youtube.com/channel/UCORcUyJOXjF4PbwCP6R6dGw" target="_blank" rel="external">NativeScript</a></p>
<p><a href="https://www.youtube.com/user/nicraboy" target="_blank" rel="external">Nic Raboy</a></p>
<h2 id="NativeScript_Videos">NativeScript Videos</h2><p><a href="https://www.youtube.com/watch?v=WQktviwAGb0" target="_blank" rel="external">NativeScript 2.3 - Angular 2 Awakening!</a></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/10/23/npm-scripts/" itemprop="url">
                NPM Scripts
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2016-10-23T09:45:02+00:00" content="2016-10-23">
            2016-10-23
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h1 id="npm-run-script">npm-run-script</h1><p><strong>Run arbitrary package scripts</strong> </p>
<h2 id="Synopsis">Synopsis</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm run-script &lt;<span class="built_in">command</span>&gt; [-- &lt;args&gt;...]</span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span>: npm run</span><br></pre></td></tr></table></figure>
<h2 id="Description">Description</h2><p>This runs an arbitrary command from a package’s “scripts” object. If no “command” is provided, it will list the available scripts. run[-script] is used by the test, start, restart, and stop commands, but can be called directly, as well. When the scripts in the package are printed out, they’re separated into lifecycle (test, start, restart) and directly-run scripts.</p>
<p>As of npm@2.0.0, you can use custom arguments when executing scripts. The special option — is used by getopt to delimit the end of the options. npm will pass all the arguments after the — directly to your script:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm run <span class="built_in">test</span> -- --grep=<span class="string">"pattern"</span></span><br></pre></td></tr></table></figure>
<p>The arguments will only be passed to the script specified after npm run and not to any pre or post script.</p>
<p>The env script is a special built-in command that can be used to list environment variables that will be available to the script at runtime. If an “env” command is defined in your package it will take precedence over the built-in.</p>
<p>In addition to the shell’s pre-existing PATH, npm run adds node_modules/.bin to the PATH provided to scripts. Any binaries provided by locally-installed dependencies can be used without the node_modules/.bin prefix. For example, if there is a devDependency on tap in your package, you should write:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;<span class="string">"test"</span>: <span class="string">"tap test/\*.js"</span>&#125;</span><br></pre></td></tr></table></figure>
<p>instead of <code>&quot;scripts&quot;: {&quot;test&quot;: &quot;node_modules/.bin/tap test/\*.js&quot;} to run your tests.</code></p>
<p>If you try to run a script without having a node_modules directory and it fails, you will be given a warning to run npm install, just in case you’ve forgotten.</p>
<h1 id="npm-start">npm-start</h1><p><strong>Start a package</strong></p>
<h2 id="Synopsis-1">Synopsis</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm start [-- &lt;args&gt;]</span><br></pre></td></tr></table></figure>
<h2 id="Description-1">Description</h2><p>This runs an arbitrary command specified in the package’s “start” property of its “scripts” object. If no “start” property is specified on the “scripts” object, it will run node server.js.</p>
<p>As of npm@2.0.0, you can use custom arguments when executing scripts. Refer to npm-run-script for more details.</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2016/09/05/angular2/" itemprop="url">
                Angular 2
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2016-09-05T11:09:08+00:00" content="2016-09-05">
            2016-09-05
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h1 id="Note_for_Angular-io_(Angular_2)">Note for Angular.io (Angular 2)</h1><h2 id="Architecture_overview">Architecture overview</h2><p><strong>The basic building blocks of Angular 2 applications</strong></p>
<h3 id="Modules">Modules</h3><p>Angular has its modularity system called Angular modules or NgModules.</p>
<p>Every Angular app has at least one module, the root module, conventionally named <code>AppModule</code>.</p>
<p>maybe root module be the only module in the small application, or many more feature modules in most apps.</p>
<p>Angular module is a class with an <code>@NgModule</code> <a href="https://medium.com/google-developers/exploring-es7-decorators-76ecb65fb841#.cdlfkp42g" target="_blank" rel="external"><strong>decorator</strong></a>.</p>
<p><code>NgModule</code> properties<br>|—-&gt;declarations: [‘view classes, eg. components, directives and pipes’].<br>|—-&gt;exports: the subset of declarations that should be visible and usable in the component templates of the modules.<br>|—-&gt;imports: other modules whose exported classes are needed by component templates declared in this module.<br>|—-&gt;providers: services<br>|—-&gt;bootstrap: the main application view, called the root component, that hosts all other app views.</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; NgModule &#125;      from <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserModule &#125; from <span class="string">'@angular/platform-browser'</span>;</span><br><span class="line">@NgModule(&#123;</span><br><span class="line">  imports:      [ BrowserModule ],</span><br><span class="line">  providers:    [ Logger ],</span><br><span class="line">  declarations: [ AppComponent ],</span><br><span class="line">  exports:      [ AppComponent ],</span><br><span class="line">  bootstrap:    [ AppComponent ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123; &#125;</span><br></pre></td></tr></table></figure>
<p>Launch an application by bootstrapping its root module. During development you’re likely to bootstrap the AppModule in a main.ts file like this one.</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; platformBrowserDynamic &#125; from <span class="string">'@angular/platform-browser-dynamic'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AppModule &#125; from <span class="string">'./app.module'</span>;</span><br><span class="line"></span><br><span class="line">platformBrowserDynamic().bootstrapModule(AppModule);</span><br></pre></td></tr></table></figure>
<h4 id="Angular_libraries">Angular libraries</h4><p>Angular ships as a collection of JavaScript modules. You can think of them as library modules.</p>
<p>Each Angular library name begins with the @angular prefix.</p>
<p>You install them with the npm package manager and import parts of them with JavaScript import statements.</p>
<h3 id="Components">Components</h3><p>A component controls a patch of screen called a view.</p>
<p>You define a component’s application logic - what it does to support the view - inside a class.</p>
<p>The class interacts with the view through an API of properties and methods.</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> HeroListComponent <span class="keyword">implements</span> OnInit &#123;</span><br><span class="line">  heroes: Hero[];</span><br><span class="line">  selectedHero: Hero;</span><br><span class="line"></span><br><span class="line">  <span class="constructor"><span class="keyword">constructor</span>(<span class="keyword">private</span> service: HeroService) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">  ngOnInit() &#123;</span><br><span class="line">    <span class="keyword">this</span>.heroes = <span class="keyword">this</span>.service.getHeroes();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  selectHero(hero: Hero) &#123; <span class="keyword">this</span>.selectedHero = hero; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Templates">Templates</h3><p>You define a component’s view with its companion <code>template</code>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">h2</span>&gt;</span>Hero List<span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span><span class="tag">&lt;<span class="title">i</span>&gt;</span>Pick a hero from the list<span class="tag">&lt;/<span class="title">i</span>&gt;</span><span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">li</span> *<span class="attribute">ngFor</span>=<span class="value">"let hero of heroes"</span> (<span class="attribute">click</span>)=<span class="value">"selectHero(hero)"</span>&gt;</span></span><br><span class="line">    &#123;&#123;hero.name&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">hero-detail</span> *<span class="attribute">ngIf</span>=<span class="value">"selectedHero"</span> [<span class="attribute">hero</span>]=<span class="value">"selectedHero"</span>&gt;</span><span class="tag">&lt;/<span class="title">hero-detail</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Metadata">Metadata</h3><p>Metadata tells Angular how to process a class.</p>
<p>Attaching <strong>metadata</strong> to the class to tell Angular that a class is a component.</p>
<p>In TypeScript, you attach metadata by using a decorator.</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">@Component(&#123;</span><br><span class="line">  selector:    <span class="string">'hero-list'</span>,</span><br><span class="line">  templateUrl: <span class="string">'app/hero-list.component.html'</span>,</span><br><span class="line">  providers:   [ HeroService ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> HeroListComponent <span class="keyword">implements</span> OnInit &#123;</span><br><span class="line"><span class="comment">/* . . . */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@Component</code> properties:<br>|—-&gt;selector: CSS selector.<br>|—-&gt;templateUrl: address of this component’s HTML template.<br>|—-&gt;directives: array of the components or directives that <code>this</code> template requires.<br>|—-&gt;providers: array of dependency injection providersfor the services that the component requires.</p>
<h3 id="Data_binding">Data binding</h3><p>Angular supports <strong>data binding</strong>, </p>
<p><img src="/gallery/databinding.png" alt="databinding"></p>
<p>4 forms of data binding syntax.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">li</span>&gt;</span>&#123;&#123;hero.name&#125;&#125;<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">hero-detail</span> [<span class="attribute">hero</span>]=<span class="value">"selectedHero"</span>&gt;</span><span class="tag">&lt;/<span class="title">hero-detail</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">li</span> (<span class="attribute">click</span>)=<span class="value">"selectHero(hero)"</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>The  <strong>interpolation</strong> display the component’s <code>hero.name</code> property value within the <code>&lt;li&gt;</code> tags.</li>
<li>The <code>[hero]</code> <strong>property binding</strong> passes the value of <code>selectedHero</code> from the parent <code>HeroListComponent</code> to the <code>hero</code> property of the child <code>HeroDetailComponent</code>.</li>
<li>The <code>(click)</code> <strong>event binding</strong> calls the component’s <code>selelctHero</code> method when the user clicks a hero’s name.</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">input</span> [(<span class="attribute">ngModel</span>)]=<span class="value">"hero.name"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Two-way data binding<br>Combines property and event binding in a single notation, using the ngModel.</li>
</ul>
<p>Angular processes all data bindings once per JavaScript event cycle, from the root of the application component tree through all child components.</p>
<p><img src="/gallery/component-databinding.png" alt="component-databinding"></p>
<p><img src="/gallery/parent-child-binding.png" alt="parent-child-binding"></p>
<h3 id="Directives">Directives</h3><p>Angular templates are dynamic.<br>When Angular renders them, it transforms the DOM according to the instructions given by <strong>directives</strong>.</p>
<p><code>@Directive</code></p>
<p>A component is a directive-with-a-template;<br>A <code>@Component</code> decorator is actually a <code>@Directive</code> decorator extended with template-oriented features.</p>
<blockquote>
<p>While <strong>a component is technically a directive</strong>, components are so distinctive and central to Angular applications that<br>this architectual overview separates components from directives.</p>
</blockquote>
<p><em>structural directive
</em>attribute directive</p>
<p><strong>Structural</strong> directives alter layout by adding, removing, and replacing elements in DOM.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">li</span> *<span class="attribute">ngFor</span>=<span class="value">"let hero of heroes"</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">hero-detail</span> *<span class="attribute">ngIf</span>=<span class="value">"selectedHero"</span>&gt;</span><span class="tag">&lt;/<span class="title">hero-detail</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>Attribute</strong> directives alter the appearance or behavior of an existing element.<br>In templates they look like regular HTML attributes, hence the name.</p>
<p>E.g. <code>ngModel</code><br><code>ngModel</code> modifies the behavior of an existing element (typically an <code>&lt;input&gt;</code> tag) by setting its display value property and responding to change events.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">input</span> [(<span class="attribute">ngModel</span>)]=<span class="value">"hero.name"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Angular has a few more directives that either alter the layout structure (for example, ngSwitch) or modify aspects of DOM elements and components (for example, <code>ngStyle</code> and <code>ngClass</code>).</p>
<p>Then create your own directives.</p>
<h3 id="Services">Services</h3><p>Service is a broad category encompassing any value, function, or feature that your application needs.</p>
<p>A service is typically a class with a narrow, well-defined purpose.</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> Logger &#123;</span><br><span class="line">    log(msg: <span class="built_in">any</span>) &#123; <span class="built_in">console</span>.log(msg); &#125;</span><br><span class="line">    error(msg: <span class="built_in">any</span>) &#123; <span class="built_in">console</span>.error(msg); &#125;</span><br><span class="line">    warn(msg: <span class="built_in">any</span>) &#123; <span class="built_in">console</span>.warn(msg); &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> HeroService &#123;</span><br><span class="line">    <span class="keyword">private</span> heros: Hero[] = [];</span><br><span class="line">    </span><br><span class="line">    <span class="constructor"><span class="keyword">constructor</span>(</span><br><span class="line">        <span class="keyword">private</span> backend: BackendService,</span><br><span class="line">        <span class="keyword">private</span> logger: Logger</span><br><span class="line">        ) </span>&#123;&#125;</span><br><span class="line">        </span><br><span class="line">    getHeroes() &#123;</span><br><span class="line">        <span class="keyword">this</span>.backend.getAll(Hero).then((heroes: Hero[]) =&gt; &#123;</span><br><span class="line">            <span class="keyword">this</span>.logger.log(`Fetched $&#123;heroes.length&#125; heroes.`);</span><br><span class="line">            <span class="keyword">this</span>.heroes.push(...heroes); <span class="comment">// fill cache</span></span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.heroes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Dependency_Injection">Dependency Injection</h3><p>Dependency injection is a way to supply a new instance of a class with the fully-formed dependencies it requires.<br>Most dependencies are services.<br>Angular uses dependency injection to provide new components with the services they need.</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="constructor"><span class="keyword">constructor</span>(<span class="keyword">private</span> service: HeroService) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>When Angular creates a component, it first asks an injector for the services that the component requires.</p>
<blockquote>
<p>An injector maintains a container of service instances that it has previously created.<br>if a requested service instance is not in the container, the injector makes one and adds it to the container before returning the service to angular.<br>When all requested services have been resolved and returned, Angular can call the component’s constructor with those services as arguments.<br>This is <strong>dependency injection</strong>.</p>
</blockquote>
<p>If the injector doesn’t have a <code>HeroService</code>, how does it know how to make one ?</p>
<p>In brief, you must have previously registered a <strong>provider</strong> of the <code>HeroService</code> with the injector.</p>
<ul>
<li>Register providers in modules.</li>
</ul>
<p>Add providers to the root module so that the same instance of a service is avaiable everywhere.<br><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">providers: [</span><br><span class="line">    BackendService,</span><br><span class="line">    HeroService,</span><br><span class="line">    Logger</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Register providers in component.</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">@Component(&#123;</span><br><span class="line">    selector: <span class="string">'hero-list'</span>,</span><br><span class="line">    templateUrl: <span class="string">'app/hero-list.component.html'</span>,</span><br><span class="line">    providers: [HeroService]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Registering at a component level means you get a new instance of the service with each new instance of that component.</p>
<ul>
<li><p>Dependency injection is wired into the Angular framework and used everywhere.</p>
</li>
<li><p>The injector is the main mechanism.</p>
<ul>
<li>An injector maintains a container of service instances that it created.</li>
<li>An injector can create a new service instance from a provider.</li>
</ul>
</li>
<li><p>A provider is a recipe for creating a service.</p>
</li>
<li><p>Register providers with injectors.</p>
</li>
</ul>
<h3 id="More">More</h3><p>Here is a brief, alphabetical list of other important Angular features and services. Most of them are covered in this documentation (or soon will be).</p>
<ul>
<li><p>Animations: Animate component behavior without deep knowledge of animation techniques or CSS with Angular’s animation library.</p>
</li>
<li><p>Change detection: The change detection documentation will cover how Angular decides that a component property value has changed, when to update the screen, and how it uses zones to intercept asynchronous activity and run its change detection strategies.</p>
</li>
<li><p>Events: The events documentation will cover how to use components and services to raise events with mechanisms for publishing and subscribing to events.</p>
</li>
<li><p>Forms: Support complex data entry scenarios with HTML-based validation and dirty checking.</p>
</li>
<li><p>HTTP: Communicate with a server to get data, save data, and invoke server-side actions with an HTTP client.</p>
</li>
<li><p>Lifecycle hooks: Tap into key moments in the lifetime of a component, from its creation to its destruction, by implementing the lifecycle hook interfaces.</p>
</li>
<li><p>Pipes: Use pipes in your templates to improve the user experience by transforming values for display. Consider this currency pipe expression:</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line">price | currency:<span class="string">'USD'</span>:<span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>It displays a price of “42.33” as $42.33.</p>
<ul>
<li><p>Router: Navigate from page to page within the client application and never leave the browser.</p>
</li>
<li><p>Testing: Run unit tests with Angular’s testing library on your application parts as they interact with the Angular framework.</p>
</li>
</ul>
<h2 id="Template_Syntax">Template Syntax</h2><h3 id="HTML">HTML</h3><h3 id="Template_expressions">Template expressions</h3><p>A template expression produces a value. Angular executes the expression and assigns it to a property of a binding target; </p>
<p>the target might be </p>
<ul>
<li>an HTML element</li>
<li>a component</li>
<li>a directive.</li>
</ul>
<ol>
<li>interpolation - <code>&lt;div&gt;&lt;/div&gt;</code></li>
<li>property binding - <code>[property]=&quot;expression&quot;</code></li>
</ol>
<p>We write template expressions in a language that looks like JavaScript. Many JavaScript expressions are legal template expressions, but not all.</p>
<p>JavaScript expressions that have or promote side effects are prohibited, including:</p>
<ul>
<li>assignments (=, +=, -=, …)</li>
<li>new</li>
<li>chaining expressions with ; or ,</li>
<li>increment and decrement operators (++ and —) </li>
</ul>
<p>Other notable differences from JavaScript syntax include:</p>
<ul>
<li>no support for the bitwise operators | and &amp;</li>
<li>new template expression operators, such as | and ?.</li>
</ul>
<h4 id="Expression_context">Expression context</h4><p>The expression context is typically the component instance, which is the source of binding values.</p>
<p>The component itself is usually the expression context, in which case the template expression usually references that component.</p>
<p>The expression context can include objects other than the component. A template reference variable is one such alternative context object.</p>
<h4 id="Expression_guidelines">Expression guidelines</h4><h5 id="NO_VISIBLE_SIDE_EFFECTS">NO VISIBLE SIDE EFFECTS</h5><p>A template expression should not change any application state other than the value of the target property.</p>
<p>This rule is essential to Angular’s <strong>“unidirectional data flow”</strong> policy. </p>
<p>We should never worry that reading a component value might change some other displayed value. </p>
<p>The view should be stable throughout a single rendering pass.</p>
<h5 id="QUICK_EXECUTION">QUICK EXECUTION</h5><p>Expressions should finish quickly or the user experience may drag, especially on slower devices. </p>
<h5 id="SIMPLICITY">SIMPLICITY</h5><p>A property name or method call should be the norm. An occasional Boolean negation (!) is OK. Otherwise, confine application and business logic to the component itself, where it will be easier to develop and test.</p>
<h5 id="IDEMPOTENCE">IDEMPOTENCE</h5><p>In Angular terms, an idempotent expression always returns exactly the same thing until one of its dependent values changes.</p>
<h3 id="Template_statements">Template statements</h3><p>A template statement responds to an event raised by a binding target such as an element, component, or directive.</p>
<p><code>(event)=&quot;statement&quot;</code></p>
<p>A template statement has a side effect. It’s how we update application state from user input. There would be no point to responding to an event otherwise.</p>
<p>Responding to events is the other side of Angular’s <strong>“unidirectional data flow”</strong>. We’re free to change anything, anywhere, during this turn of the event loop.</p>
<p>Like <strong>template expressions</strong>, template statements use a language that <strong>looks like JavaScript</strong>.</p>
<p>The template statement parser is different than the template expression parser and specifically supports both basic assignment (=) and chaining expressions (with ; or ,).</p>
<p>certain JavaScript syntax is not allowed:</p>
<ul>
<li>new</li>
<li>increment and decrement operators, ++ and —</li>
<li>operator assignment, such as += and -=</li>
<li>the bitwise operators | and &amp;</li>
<li>the template expression operators</li>
</ul>
<h4 id="Statement_context">Statement context</h4><p>As with expressions, statements can refer only to what’s in the statement context — typically the component instance to which we’re binding the event.</p>
<p>The onSave in <code>(click)=&quot;onSave()&quot;</code> is sure to be a method of the data-bound component instance.</p>
<p>The statement context may include an object other than the component. A template reference variable is one such alternative context object. We’ll frequently see the reserved $event symbol in event binding statements, representing the “message” or “payload” of the raised event.</p>
<h4 id="Statement_guidelines">Statement guidelines</h4><p>As with expressions, avoid writing complex template statements. A method call or simple property assignment should be the norm.</p>
<h3 id="Binding_Syntax">Binding Syntax</h3><table>
<thead>
<tr>
<th>Data direction</th>
<th>Syntax</th>
<th>Binding type</th>
</tr>
</thead>
<tbody>
<tr>
<td>One-way from data source to view target</td>
<td><code>\{\{expressions\}\}</code></td>
<td>Interpolation</td>
</tr>
<tr>
<td></td>
<td><code>[target]=&quot;expression&quot;</code></td>
<td>Property</td>
</tr>
<tr>
<td></td>
<td><code>bind-target = &quot;expression&quot;</code></td>
<td>Attribute</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Class</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Style</td>
</tr>
<tr>
<td>One-way from view target to data source</td>
<td><code>(target)=&quot;statement&quot;</code></td>
<td>Event</td>
</tr>
<tr>
<td></td>
<td><code>on-target=&quot;statement&quot;</code></td>
<td></td>
</tr>
<tr>
<td>Two-way</td>
<td><code>[(target)]=&quot;expression&quot;</code></td>
<td>Two-way</td>
</tr>
<tr>
<td></td>
<td><code>bindon-target=&quot;expression&quot;</code></td>
</tr>
</tbody>
</table>
<h4 id="A_new_mental_model">A new mental model</h4><p><strong>HTML attribute vs. DOM property</strong></p>
<p>The distinction between an HTML attribute and a DOM property is crucial to understanding how Angular binding works.</p>
<p><strong>Attributes are defined by HTML. Properties are defined by the DOM (Document Object Model).</strong></p>
<ul>
<li>A few HTML attributes have 1:1 mapping to properties. id is one example.</li>
<li>Some HTML attributes don’t have corresponding properties. colspan is one example.</li>
<li>Some DOM properties don’t have corresponding attributes. textContent is one example.</li>
<li>Many HTML attributes appear to map to properties … but not in the way we might think!</li>
</ul>
<p><strong>Attributes initialize DOM properties and then they are done. Property values can change; attribute values can’t.</strong></p>
<p><strong>The HTML attribute and the DOM property are not the same thing, even when they have the same name.</strong></p>
<p><strong> Template binding works with properties and events, not attributes. </strong></p>
<p><strong> In the world of Angular, the only role of attributes is to initialize element and directive state. When we data bind, we’re dealing exclusively with element and directive properties and events. Attributes effectively disappear.</strong></p>
<h4 id="Binding_targets">Binding targets</h4><p>The <strong>target of a data binding</strong> is something in the DOM. </p>
<p>Depending on the binding type, the target can be </p>
<ul>
<li>an (element | component | directive) property</li>
<li>an (element | component | directive) event</li>
<li>an attribute name.</li>
</ul>
<table>
<thead>
<tr>
<th>Binding Type</th>
<th>Target</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>Property</td>
<td>Element roperty</td>
<td><code>&lt;img [src]=&quot;heroImageUrl&quot;&gt;</code></td>
</tr>
<tr>
<td></td>
<td>Component property</td>
<td><code>&lt;hero-detail [hero]=&quot;currentHero&quot;&gt;&lt;/hero-detail&gt;</code></td>
</tr>
<tr>
<td></td>
<td>Directive property</td>
<td><code>&lt;div [ngClass]=&quot;{selected:isSelected}&quot;&gt;&lt;/div&gt;</code></td>
</tr>
<tr>
<td>Event</td>
<td>Element event</td>
<td><code>&lt;button (click)=&quot;onSave()&quot;&gt;Save&lt;/button&gt;</code></td>
</tr>
<tr>
<td></td>
<td>Component event</td>
<td><code>&lt;hero-detail (deleteRequest)=&quot;deleteHero()&quot;&gt;&lt;/hero-detail&gt;</code></td>
</tr>
<tr>
<td></td>
<td>Directive event</td>
<td><code>&lt;div (myClick)=&quot;clicked=$event&quot;&gt;click me&lt;/div&gt;</code></td>
</tr>
<tr>
<td>Two-way</td>
<td>Event and property</td>
<td><code>&lt;input [(ngModel)]=&quot;heroName&quot;&gt;</code></td>
</tr>
<tr>
<td>Attribute</td>
<td>Attribute(the exception)</td>
<td><code>&lt;button [attr.aria-label]=&quot;help&quot;&gt;help&lt;/button&gt;</code></td>
</tr>
<tr>
<td>Class</td>
<td><code>class</code> property</td>
<td><code>&lt;div [class.special]=&quot;isSpecial&quot;&gt;Special&lt;/div&gt;</code></td>
</tr>
<tr>
<td>Sytle</td>
<td><code>style</code> property</td>
<td><code>&lt;button [style.color] = &quot;isSpecial ? &#39;red&#39; : &#39;green&#39;&quot;&gt;</code></td>
</tr>
</tbody>
</table>
<h3 id="Property_binding">Property binding</h3><h3 id="Attribute,_class,_and_style_bindings">Attribute, class, and style bindings</h3><h3 id="Event_binding">Event binding</h3><h3 id="Two-way_data_binding_with_NgModel">Two-way data binding with <code>NgModel</code></h3><h3 id="Built-in_directives">Built-in directives</h3><h4 id="NgClass">NgClass</h4><h4 id="NgStyle">NgStyle</h4><h4 id="NgIf">NgIf</h4><h4 id="NgSwitch">NgSwitch</h4><h4 id="NgFor">NgFor</h4></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/">&raquo;</a>
  </nav>

 </div>

        

        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="css/images/1035498.gif" alt="Chandler" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Chandler</p>
        </div>
        <p class="site-description motion-element" itemprop="description">Chandler's Blog</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">39</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">categories</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">32</span>
              <span class="site-state-item-name">tags</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chandler</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
