<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>


    <meta name="description" content="Chandler's Blog" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="Chandler&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Amateur Programming">
<meta property="og:url" content="http://github.com/ttma1046/page/7/index.html">
<meta property="og:site_name" content="Amateur Programming">
<meta property="og:description" content="Chandler&apos;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Amateur Programming">
<meta name="twitter:description" content="Chandler&apos;s Blog">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>

  <title> Amateur Programming </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">Amateur Programming</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            Tags
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 
  <section id="posts" class="posts-expand">
    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/21/SOLIDPrinciples/" itemprop="url">
                SOLID Principles
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-09-21T10:48:11+00:00" content="2015-09-21">
            2015-09-21
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><a href="http://www.youtube.com/watch?v=gwIS9cZlrhk" target="_blank" rel="external"><img src="/gallery/solid-principles.png" alt="Applying S.O.L.I.D. Principles in .NET/C#"></a></p>
<p><a href="http://www.youtube.com/watch?v=gwIS9cZlrhk" target="_blank" rel="external">Applying S.O.L.I.D. Principles in .NET/C#</a></p>
<h2 id="S_-_SRP_-_Single_responsibility_principle">S - SRP - Single responsibility principle</h2><blockquote>
<p>There can be only one requirement that, when changed, will cause a class to change…</p>
</blockquote>
<h3 id="More_detailed:">More detailed:</h3><blockquote>
<p>When we build a class, we look at all the requirements for our systems, </p>
<p>or all the requirements that affect that class,</p>
<p>and we build in such a way that only one of those requirements will cause ever one class to have to change.</p>
<p>Nouns are classes, verbs are their functions and adjectives are their properties.</p>
</blockquote>
<p><strong>We might need to turn verbs/functions to classes as well,</strong> </p>
<p>As soon as we pull different small functions turned them into classes,<br>We get a class responsible for one thing and it can only change if only one requirement changes,</p>
<p>It makes a whole lot easier to change the way of our application works, because we can switch out functionality without have to modify classes but changing the class do the functionality.</p>
<p>put different functions into different classes.</p>
<h3 id="Benefits">Benefits</h3><p>I can switch out components and up other components. Components are really really small.<br>Simply to read, simply to use, simple to understand.</p>
<h2 id="O_-_OCP_-_Open/closed_principle">O - OCP - Open/closed principle</h2><blockquote>
<p>“Software entities should be open for extension, but closed for modification.”</p>
<p>Once a class is done, it is done! You do not modify it.</p>
</blockquote>
<h3 id="More_detailed:-1">More detailed:</h3><blockquote>
<p>A changing requirement/Once a requirement changes, you do not modify your class, you do not go in and make changes in your existing class.<br>You creates a new class inheriting from the old class, make changes in the new class instead.</p>
</blockquote>
<p><strong>Best part of it:</strong></p>
<p>No changes for the unit tests since new class has been created, and new tests have been adding to the new class instead of changing unit tests for old class.</p>
<h3 id="Meyer_vs-_Polymorphic">Meyer vs. Polymorphic</h3><p>Meyer: You build a class put into your system. You build another class which inheritanced from the pervious class then put into your system.</p>
<p>Polymorphic: Not nessersaily have to inherited from a specfic implementation, inheriting from abstract base classes or could be implemented in a  interface.</p>
<p>Three ways of doing OCP</p>
<ol>
<li>Inheriting the exising class, Overridding the existing class function.</li>
<li>Inheriting Abstract class</li>
<li>Implementing the existing interface.</li>
</ol>
<h3 id="Benfits">Benfits</h3><p><em>You dont change your code.
</em>No need to rework on existing unit tests. </p>
<h2 id="L_-_LSP_-_Liskovs_Substitution_Principle">L - LSP - Liskovs Substitution Principle</h2><blockquote>
<p>Let <strong>q(x)</strong> be a property provable about objects <strong>x</strong> of type <strong>T</strong>. Then <strong>q(y)</strong> should be provable for objects <strong>y</strong> of type <strong>S</strong> where <strong>S</strong> is a subtype of <strong>T</strong>.</p>
</blockquote>
<p>More detailed:</p>
<blockquote>
<p>A subclass should behave in such a way that it will not cause problems when used instead of the superclass.</p>
</blockquote>
<h3 id="Rules:">Rules:</h3><h4 id="1-_Contravariance(n-反[抗，逆]变性，逆[抗]变；_抗变性)_of_method_arguments_in_sub_class">1. Contravariance(n.反[抗，逆]变性，逆[抗]变； 抗变性) of method arguments in sub class</h4><p>if I have a class, then I create a new class that inherits from the old class.<br>I am allowed to change the input arguments to my method in such a way that they accepts a base class of the arguments that my base class accepted.</p>
<p>TL;DR<br><strong>I am allowed to change the input parameters in such a way that any parameters that has ever been passed into the parent type can be passed into the new type.</strong></p>
<h4 id="2-_Covariance(_n-协方差；变异数；协变性；共变性)_of_return_types_in_the_sub_class-">2. Covariance( n.协方差；变异数；协变性；共变性) of return types in the sub class.</h4><p>The return value of my method in my class is allowed be any type is the same as the parent or a discendent class.</p>
<p>TL;DR<br>I am allowed to return anything as long as it somepoint inherits from whatever my base class returns.</p>
<h4 id="3-_No_new_exceptions_types_are_allowed_to_be_thrown,_unless_they_are_sub_classes_of_previously_used_ones-">3. No new exceptions types are allowed to be thrown, unless they are sub classes of previously used ones.</h4><p>Impossible to do in .Net and C#.</p>
<p>TL;DR<br>In your new classes, you are not allowed to introduce new exceptions.</p>
<p>Why?</p>
<p>If you introduced new exceptions, whatever code has been using in other class you base class,  might be prepared to handle whatever exception that class is throwing. </p>
<p>If you introducing new ones, your application might be broken.</p>
<h4 id="4-_Preconditions_cannot_be_strengthened_in_a_subtype-">4. Preconditions cannot be strengthened in a subtype.</h4><p>You can not be excepting things that wasnt excepted in base class.</p>
<p>You can not define limitation in subclass which the base class hasnt that limitation before.</p>
<p>You are not allowed to introduce things that might cause any class that uses the base class cant not break because you introduces no feature or no limition.</p>
<h4 id="5-_Postconditions_cannot_be_weakened_in_a_subtype-">5. Postconditions cannot be weakened in a subtype.</h4><p>I am not allowed to change the class in such a way that you can not do things you could do before.</p>
<p>I cant start throwing “not implemented exception” or you are not allowed to do this or that.</p>
<h4 id="6-_The_history_constraint(n-强制；_限制；_约束)">6. The history constraint(n.强制； 限制； 约束)</h4><p>More Detailed:<br><strong>You can not make an immutable class mutable.</strong></p>
<p>You have a class that can not be changed, you have a property of the class that can not be changed in the base class.<br>You are not allow to change that class in such a way that you can change the value in your new class.</p>
<p>Because any type or any class are using the base class might be excepting that the value can not be changed.<br>If you introduced the possibility to changing it, you might break things.</p>
<p>The general idea:</p>
<p>You are not allowed to change a class in a way that it can break any the existing applications.</p>
<p>The rules to define what could break the existing application.</p>
<p><strong>You should most likely to be possible to take your new class and throw it in and run it through all of your existing unit tests. And they should fail in the way that they break down.</strong> </p>
<h2 id="I_-_ISP_-_Interface_segregation_principle">I - ISP - Interface segregation principle</h2><p>“Clients should not be forced to depend upon interfaces that they don’t use.”</p>
<p>Breaking down interfaces in smaller pieces make them easier to implement, and offers more control over who sees what.</p>
<h2 id="D_-_DIP_-_Dependency_inversion_principle">D - DIP - Dependency inversion principle</h2><p>one should “Depend upon Abstractions. Do not depend upon concretions.”</p>
<p>A. High-level modules should not depend on low-level modules. Both should depend on abstractions.</p>
<p>B. Abstractions should not depend on details. Details should depend on abstractions.tags: [S.O.L.I.D, Object-oriented Programmming]</p>
<p><strong>Without DIP</strong></p>
<p><img src="/gallery/DIPwithout.png" alt="DIPwithout"></p>
<p><strong>With DIP</strong><br><img src="/gallery/DIPwith.png" alt="DIPwith"></p>
<p><strong>With DIP Alternative</strong><br><img src="/gallery/DIPwithalter.png" alt="DIPwith"></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/15/eloquentjavascriptch3note/" itemprop="url">
                Eloquent JavaScript - Chapter 3 - Functions (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-09-15T12:24:16+00:00" content="2015-09-15">
            2015-09-15
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><img src="/gallery/functions.png" alt="functions"></p>
<p><a href="http://watchandcode.com/courses/eloquent-JavaScript-the-annotated-version/lectures/206284" target="_blank" rel="external">Eloquent JavaScript(The Annotated Version) - Chapter 3 - Functions</a></p>
<h3 id="Defining_a_function">Defining a function</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> square = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x * x;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(square(<span class="number">12</span>));</span><br><span class="line"><span class="comment">// → 144</span></span><br></pre></td></tr></table></figure>
<p>Functions starts with keyword <code>function</code>, has a set of <code>parameters</code> and a <code>body</code> which contains the statements that are to be executed.</p>
<p>The <code>body</code> wrapped in braces.</p>
<p>A function can have multiple parameters or no parameters at all.</p>
<p>A return statement determines the value the function returns.</p>
<p>The return keyword without an expression after it will cause the function to return undefined.</p>
<p><a href="https://myblog-ttma1046.c9.io/2015/08/20/douglascrockfordJavasriptnote/#Return_statement" target="_blank" rel="external">Return statement - Douglas Crockford - The JavaScript Programming Language (Notes)</a></p>
<blockquote>
<p>In JavaScript, every function will return a result, no void type in js.</p>
<ol>
<li><p>If there is no expression, then the return value is undefined.</p>
</li>
<li><p>Except for constructors, whose default return value is this.</p>
</li>
</ol>
</blockquote>
<h3 id="Parameters_and_scopes">Parameters and scopes</h3><p>The parameters to a function behave like regular variables, but their initial values are given by the caller of the function, not the code in the function itself.</p>
<p>An important property of functions is that <strong>the variables created inside of them, including their parameters, are <code>local</code> to the function.</strong></p>
<p>This “localness” of variables applies only to the parameters and to variables declared with the <strong>var</strong> keyword inside the function body. </p>
<p>Variables declared outside of any function are called <code>global</code>, because they are visible throughout the program.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="string">"outside"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// The use of var here is extremely important.</span></span><br><span class="line">  <span class="comment">// If you declare a variable in a function using var,</span></span><br><span class="line">  <span class="comment">// The variable will only be visible inside the function.</span></span><br><span class="line">  <span class="comment">// In other words it’s ‘local’ to the function.</span></span><br><span class="line">  <span class="keyword">var</span> x = <span class="string">"inside f1"</span>;</span><br><span class="line">&#125;;</span><br><span class="line">f1();</span><br><span class="line"><span class="comment">// Since we’re not inside the function anymore,</span></span><br><span class="line"><span class="comment">// if we print x, we’ll get “outside”.</span></span><br><span class="line"><span class="built_in">console</span>.log(x);</span><br><span class="line"><span class="comment">// → outside</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// We didn’t use var here, so the line below</span></span><br><span class="line">  <span class="comment">// will actually grab the x that we declared in the</span></span><br><span class="line">  <span class="comment">// first line of our program and set it equal to “inside f2”</span></span><br><span class="line">  <span class="comment">// instead of its initial value, “outside”.</span></span><br><span class="line">  x = <span class="string">"inside f2"</span>;</span><br><span class="line">&#125;;</span><br><span class="line">f2();</span><br><span class="line"><span class="comment">// Since f2() changed the x outside of the function,</span></span><br><span class="line"><span class="comment">// printing x outside the function will give us “inside f2”.</span></span><br><span class="line"><span class="built_in">console</span>.log(x);</span><br><span class="line"><span class="comment">// → inside f2</span></span><br></pre></td></tr></table></figure>
<h3 id="Nested_scope">Nested scope</h3><p>In short, each local scope can also see all the local scopes that contain it. </p>
<p>The set of variables visible inside a function is determined by the place of that function in the program text. </p>
<p>All variables from blocks around a function’s definition are visible—meaning both those in function bodies that enclose it and those at the top level of the program. </p>
<p>This approach to variable visibility is called lexical scoping.</p>
<blockquote>
<p><strong>In JavaScript, functions are the only things that create a new scope not braces.</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> something = <span class="number">1</span>;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> something = <span class="number">2</span>;</span><br><span class="line">  <span class="comment">// Do stuff with variable something...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Outside of the block again...</span></span><br></pre></td></tr></table></figure>
<p>But the <code>something</code> inside the block refers to the same variable as the one outside the block.</p>
<p>The next version of JavaScript will introduce a <code>let</code> keyword, which works like <code>var</code> but creates a variable that is local to the enclosing <em>block</em>, not the enclosing <em>function</em>.</p>
<h3 id="Functions_as_values">Functions as values</h3><p>Function variables usually simply act as names for a specific piece of the program.<br>Such a variable is defined once and never changed.<br>This makes it easy to start confusing the function and its name.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>function variable: Left side of the equation.<br>function value: Right side of the equation. </p>
<h3 id="Declaration_notation">Declaration notation</h3><p>There is a slightly shorter way to say “var square = function…”. The <code>function</code> keyword can also be used at the start of a statement, as in the following:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x * x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This is a function declaration.</p>
<p>There is one subtlety with this form of function definition, however.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"The future says:"</span>, future());</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">future</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"We STILL have no flying cars."</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This code works, even though the function is defined below the code that uses it. </p>
<p>This is because function declarations are not part of the regular top-to-bottom flow of control. </p>
<p>They are conceptually moved to the top of their scope and can be used by all the code in that scope. </p>
<p>This is sometimes useful because it gives us the freedom to order code in a way that seems meaningful, without worrying about having to define all functions above their first use.</p>
<p><strong> Do not define functions inside of control flow. </strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;&#125; <span class="comment">// Okay</span></span><br><span class="line">  <span class="keyword">if</span> (something) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;&#125; <span class="comment">// Danger!</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="The_call_stack">The call stack</h3><p>Because a function has to jump back to the place of the call when it returns, the computer must remember the context from which the function was called. </p>
<p>In one case, console.log has to jump back to the greet function. </p>
<p>In the other case, it jumps back to the end of the program.</p>
<p>The place where the computer stores this context is the call stack. </p>
<p>Every time a function is called, the current context is put on top of this “stack”. </p>
<p>When the function returns, it removes the top context from the stack and uses it to continue execution.</p>
<p>If you want a more detailed explanation about call stacks and how JavaScript interprets code, this blog post is very good:<br><a href="http://davidshariff.com/blog/what-is-the-execution-context-in-JavaScript/" target="_blank" rel="external">http://davidshariff.com/blog/what-is-the-execution-context-in-JavaScript/</a></p>
<h3 id="Optional_Arguments">Optional Arguments</h3><p>JavaScript is extremely broad-minded about the number of arguments you pass to a function. </p>
<p>If you pass too many, the extra ones are ignored. </p>
<p>If you pass too few, the missing parameters simply get assigned the value <code>undefined</code>.</p>
<p>The downside of this is that it is possible—likely, even—that you’ll accidentally pass the wrong number of arguments to functions and no one will tell you about it.</p>
<p>The upside is that this behavior can be used to have a function take “optional” arguments.</p>
<h3 id="Closure">Closure</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wrapValue</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> localVariable = n;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> localVariable; &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wrap1 = wrapValue(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> wrap2 = wrapValue(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(wrap1());</span><br><span class="line"><span class="comment">// → 1</span></span><br><span class="line"><span class="built_in">console</span>.log(wrap2());</span><br><span class="line"><span class="comment">// → 2</span></span><br></pre></td></tr></table></figure>
<p>In fact, multiple instances of the variable can be alive at the same time, which is another good illustration of the concept that local variables really are re-created for every call—different calls can’t trample on one another’s local variables.</p>
<p>This feature—being able to reference a specific instance of local variables in an enclosing function—is called closure. A function that “closes over” some local variables is called a closure. This behavior not only frees you from having to worry about lifetimes of variables but also allows for some creative use of function values.</p>
<h3 id="Recursion">Recursion</h3><p>It is perfectly okay for a function to call itself, as long as it takes care not to overflow the stack. A function that calls itself is called <em>recursive</em>.</p>
<h3 id="Growing_functions">Growing functions</h3><p>There are two more or less natural ways for functions to be introduced into programs.</p>
<ol>
<li><p>The first is that you find yourself writing very similar code multiple times. We want to avoid doing that since having more code means more space for mistakes to hide and more material to read for people trying to understand the program. So we take the repeated functionality, find a good name for it, and put it into a function.</p>
</li>
<li><p>The second way is that you find you need some functionality that you haven’t written yet and that sounds like it deserves its own function. You’ll start by naming the function, and you’ll then write its body. You might even start writing code that uses the function before you actually define the function itself.</p>
</li>
</ol>
<p>How difficult it is to find a good name for a function is a good indication of how clear a concept it is that you’re trying to wrap.</p>
<h3 id="Functions_and_side_effects">Functions and side effects</h3><p>Functions can be roughly divided into those that are called for their side effects and those that are called for their return value. (Though it is definitely also possible to have both side effects and return a value.)</p>
<p>A pure function is a specific kind of value-producing function that not only has no side effects but also doesn’t rely on side effects from other code—for example, it doesn’t read global variables that are occasionally changed by other code. </p>
<p>A pure function has the pleasant property that, when called with the same arguments, it always produces the same value (and doesn’t do anything else). </p>
<p>This makes it easy to reason about. </p>
<p>A call to such a function can be mentally substituted by its result, without changing the meaning of the code. </p>
<p>When you are not sure that a pure function is working correctly, you can test it by simply calling it, and know that if it works in that context, it will work in any context.</p>
<p>Nonpure functions might return different values based on all kinds of factors and have side effects that might be hard to test and think about.</p>
<h3 id="Exercises">Exercises</h3><p>Minimum</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">min</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (a &lt; b)</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Recursion</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isEven</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">   <span class="comment">// Base case 1, n is even.</span></span><br><span class="line">   <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">   <span class="comment">// Base case 2, n is odd.</span></span><br><span class="line">   <span class="keyword">else</span> <span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   <span class="comment">// Handle negative numbers by just</span></span><br><span class="line">   <span class="comment">// making them positive.</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (n &lt; <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> isEven(-n);</span><br><span class="line">  <span class="comment">// Recursive case.</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> isEven(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Bean counting</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countBs</span>(<span class="params">sampleString</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> counted = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; sampleString.length; i++) </span><br><span class="line">    <span class="keyword">if</span> (sampleString.charAt(i) == <span class="string">'B'</span>)</span><br><span class="line">      counted += <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> counted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countChar</span>(<span class="params">sampleString, searchForChar</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> counted = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; sampleString.length; i++ )</span><br><span class="line">    <span class="keyword">if</span> (sampleString.charAt(i) == searchForChar)</span><br><span class="line">      counted += <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> counted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countBs</span>(<span class="params">sampleString</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> countChar(sampleString, <span class="string">"B"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/10/eloquentjavascriptch2note/" itemprop="url">
                Eloquent JavaScript - Chapter 2 - Program Structure (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-09-10T23:04:30+00:00" content="2015-09-10">
            2015-09-10
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><img src="/gallery/octopus.jpg" alt="octopus"></p>
<p><a href="http://watchandcode.com/courses/eloquent-JavaScript-the-annotated-version/lectures/203644" target="_blank" rel="external">Eloquent JavaScript(The Annotated Version) - Chapter 2 - Program Structure</a></p>
<h3 id="Expressions_and_statements">Expressions and statements</h3><p>an expression is a sentence fragment, a JavaScript statement is a full sentence in a human language.</p>
<p><strong>“Expression”</strong> is:</p>
<ol>
<li>simply values</li>
<li>made some values and then applied operatros to them to get new values.</li>
<li>An expression between parentheses </li>
<li>a binary operator applied to two expressions</li>
<li>a unary operator applied to one expression</li>
</ol>
<p><strong>“Statement”</strong> is:</p>
<ol>
<li>an expression -&gt; a sentence fragment<br>a JavaScript statement -&gt; a full sentence in a human language.</li>
<li>A program is simply a list of statements.</li>
</ol>
<blockquote>
<p><strong>Recommending that every statement needs a semicolon will always be terminated by one.</strong></p>
</blockquote>
<h3 id="Variables">Variables</h3><p>The special word (<em>keyword</em>) <code>var</code> indicates that this sentence is going to define a variable. It is followed by the name of the variable and, if we want to immediately give it a value, by an <code>=</code> operator and an expression.</p>
<p><strong>Naming Variables:</strong></p>
<ol>
<li><strong>Variable names can be any word that isn’t a reserved word (such as <code>var</code>).</strong></li>
<li><strong>Digits can also be part of variable names, but the name must not start with a digit</strong>.</li>
<li>Variable names no punctuation, except for <code>$</code> and <code>_</code>.</li>
</ol>
<p><strong>Variables vs Values:</strong></p>
<ol>
<li>Variables do not contain values, variables refer to values.</li>
<li>two variables can refer to the same values</li>
<li>A program can access only the values that it still has a hold on via variables it contains.</li>
</ol>
<blockquote>
<p><strong>you create a variable to grasp the value or you change the existing variable to grasp the value.</strong></p>
<p><strong>When you define a variable without giving it a value, If you ask for the value of an empty variable, you’ll get the value undefined.</strong></p>
<p><strong>Variable names are also case sensitive. So newVariable is not the same as NewVariable.</strong></p>
</blockquote>
<h3 id="Keywords_and_reserved_words">Keywords and reserved words</h3><p>a number of words “reserved for use” in JavaScript world. Not allowed to be used as variable names.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">break</span> <span class="keyword">case</span> <span class="keyword">catch</span> <span class="class"><span class="keyword">class</span> <span class="title">const</span> <span class="title">continue</span> <span class="title">debugger</span></span><br><span class="line"><span class="title">default</span> <span class="title">delete</span> <span class="title">do</span> <span class="title">else</span> <span class="title">enum</span> <span class="title">export</span> <span class="keyword">extends</span> <span class="title">false</span></span><br><span class="line"><span class="title">finally</span> <span class="title">for</span> <span class="title">function</span> <span class="title">if</span> <span class="title">implements</span> <span class="title">import</span> <span class="title">in</span></span><br><span class="line"><span class="title">instanceof</span> <span class="title">interface</span> <span class="title">let</span> <span class="title">new</span> <span class="title">null</span> <span class="title">package</span> <span class="title">private</span></span><br><span class="line"><span class="title">protected</span> <span class="title">public</span> <span class="title">return</span> <span class="title">static</span> <span class="title">super</span> <span class="title">switch</span> <span class="title">this</span></span><br><span class="line"><span class="title">throw</span> <span class="title">true</span> <span class="title">try</span> <span class="title">typeof</span> <span class="title">var</span> <span class="title">void</span> <span class="title">while</span> <span class="title">with</span> <span class="title">yield</span></span></span><br></pre></td></tr></table></figure>
<p><a href="https://myblog-ttma1046.c9.io/2015/08/20/douglascrockfordJavasriptnote/#Reserved_Words" target="_blank" rel="external">Reserved words in Douglas Crockford - The JavaScript Programming Language (Notes)</a></p>
<h3 id="The_environment">The environment</h3><p>The collection of variables and their values that exist at a given time is called the <em>environment</em>.</p>
<h3 id="Functions">Functions</h3><p>Function is a <strong>type</strong> - a piece of program wrapped in a value.</p>
<ol>
<li>Executing a function is called <em>invoking</em>, <em>calling</em>, or <em>applying</em> it.</li>
<li>You can call a function by <strong>putting parentheses after an expression that produces a function value</strong>.</li>
<li>Usually you’ll directly use the name of the variable that holds the funciton.</li>
<li>The values between the parentheses are given to the program inside the function.<br> Values given to functions are called arguments. </li>
</ol>
<h3 id="The_console-log_function">The console.log function</h3><p>Use <code>console.log</code> to output values.<br>why contain period characters?<br>We will find out exactly what this means in Chapter 4.</p>
<h3 id="Return_values">Return values</h3><p>When a function produces a value, it is said to return that value.<br>Anything that produces a value is an expression in JavaScript, which means function calls can be used within larger expressions.</p>
<p>The next chapter(chapter 3) explains how to write your own functions.</p>
<h3 id="Prompt_and_Confirm">Prompt and Confirm</h3><p><code>confirm(&quot;Shall we, then?&quot;);</code><br><code>prompt(&quot;Tell me everything you know.&quot;, &quot;...&quot;);</code></p>
<h3 id="Control_flow">Control flow</h3><p>More than one statement are executed from top to bottom.</p>
<h3 id="Conditional_execution">Conditional execution</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (...)</span><br><span class="line">    ....</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (...)</span><br><span class="line">    ....</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    ....</span><br></pre></td></tr></table></figure>
<h3 id="While_and_do_loops">While and do loops</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (...) &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (...)</span><br></pre></td></tr></table></figure>
<h3 id="Indenting_Code">Indenting Code</h3><blockquote>
<p>To make the structure of the code stand out</p>
</blockquote>
<h3 id="For_loops">For loops</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> counter = <span class="number">0</span>; counter &lt; <span class="number">10</span>; counter = counter + <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">    result = result * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>
<h3 id="Breaking_Out_of_a_Loop">Breaking Out of a Loop</h3><p><code>break</code> and <code>continue</code></p>
<h3 id="Updating_variables_succinctly">Updating variables succinctly</h3><p><code>+=</code><br><code>*=</code><br><code>-=</code><br><code>++</code><br><code>--</code></p>
<h3 id="Dispatching_on_a_value_with_switch">Dispatching on a value with switch</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (prompt(<span class="string">"What is the weather like?"</span>)) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">"rainy"</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Remember to bring an umbrella."</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">"sunny"</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Dress lightly."</span>);</span><br><span class="line">  <span class="keyword">case</span> <span class="string">"cloudy"</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Go outside."</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Unknown weather type!"</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Capitalization">Capitalization</h3><p>Camel Case and Pascal Case in Chapter 6.</p>
<h3 id="Comments">Comments</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// slash slash</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span><br><span class="line">slash star</span><br><span class="line">star slash</span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="Exercises">Exercises</h3><p>1.Write a loop that makes seven calls to console.log to output the following triangle:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#&#10;##&#10;###&#10;####&#10;#####&#10;######&#10;#######</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> line = <span class="string">"#"</span>; line.length &lt; <span class="number">8</span>; line += <span class="string">"#"</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(line);</span><br></pre></td></tr></table></figure>
<p>My solution<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> wall = <span class="string">""</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (j &lt; i)</span><br><span class="line">    &#123;</span><br><span class="line">        wall += <span class="string">"#"</span>;</span><br><span class="line">        j++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(wall);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2.FizzBuzz</p>
<p>Write a program that uses console.log to print all the numbers from 1 to 100, with two exceptions. For numbers divisible by 3, print “Fizz” instead of the number, and for numbers divisible by 5 (and not 3), print “Buzz” instead.</p>
<p>When you have that working, modify your program to print “FizzBuzz”, for numbers that are divisible by both 3 and 5 (and still print “Fizz” or “Buzz” for numbers divisible by only one of those).</p>
<p>(This is actually an interview question that has been claimed to weed out a significant percentage of programmer candidates. So if you solved it, you’re now allowed to feel good about yourself.)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> n = <span class="number">1</span>; n &lt;= <span class="number">100</span>; n++) &#123;</span><br><span class="line">  <span class="keyword">var</span> output = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">if</span> (n % <span class="number">3</span> == <span class="number">0</span>)</span><br><span class="line">    output += <span class="string">"Fizz"</span>;</span><br><span class="line">  <span class="keyword">if</span> (n % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line">    output += <span class="string">"Buzz"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(output || n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Paul Irish’s solution<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">for (var i = 1; i &#60;= 100; i++) &#123;&#10;  var f = i % 3 == 0, b = i % 5 == 0;&#10;  console.log(f ? b ? &#34;FizzBuzz&#34; : &#34;Fizz&#34; : b ? &#34;Buzz&#34; : i);&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>My solution<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="number">101</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i%<span class="number">3</span> == <span class="number">0</span> &amp;&amp; i%<span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"FizzBuzz"</span>);</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (i%<span class="number">3</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"Fizz"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (i%<span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"Buzz"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>3.Write a program that creates a string that represents an 8×8 grid, using newline characters to separate lines. At each position of the grid there is either a space or a “#” character. The characters should form a chess board.</p>
<p>Passing this string to console.log should show something like this:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> # # # #&#10;# # # #&#10; # # # #&#10;# # # #&#10; # # # #&#10;# # # #&#10; # # # #&#10;# # # #</span><br></pre></td></tr></table></figure></p>
<p>When you have a program that generates this pattern, define a variable size = 8 and change the program so that it works for any size, outputting a grid of the given width and height.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> size = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> board = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> y = <span class="number">0</span>; y &lt; size; y++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; size; x++) &#123;</span><br><span class="line">    <span class="keyword">if</span> ((x + y) % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">      board += <span class="string">" "</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      board += <span class="string">"#"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  board += <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(board);</span><br></pre></td></tr></table></figure></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/02/douglascrockfordaninconvenientAPIthetheoryoftheDOMnotes/" itemprop="url">
                Douglas Crockford - An Inconvenient API - The Theory of the DOM (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-09-02T13:15:39+00:00" content="2015-09-02">
            2015-09-02
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><a href="http://www.youtube.com/watch?v=Y2Y0U-2qJMs" target="_blank" rel="external"><img src="http://img.youtube.com/vi/Y2Y0U-2qJMs/0.jpg" alt="Douglas Crockford - An Inconvenient API - The Theory of the DOM"></a></p>
<p><a href="https://www.youtube.com/watch?v=Y2Y0U-2qJMs" target="_blank" rel="external">Douglas Crockford - An Inconvenient API - The Theory of the DOM</a></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/31/douglascrockfordadvancedjavascriptnote/" itemprop="url">
                Douglas Crockford - Advanced JavaScript (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-31T04:09:32+00:00" content="2015-08-31">
            2015-08-31
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><a href="http://www.youtube.com/watch?v=DwYPG6vreJg" target="_blank" rel="external"><img src="http://img.youtube.com/vi/DwYPG6vreJg/0.jpg" alt="Douglas Crockford -  Advanced JavaScript"></a></p>
<p><a href="https://www.youtube.com/watch?v=DwYPG6vreJg" target="_blank" rel="external">Douglas Crockford - Advanced JavaScript</a></p>
<p>*Inheritance</p>
<p>*Modules</p>
<p>*Debugging</p>
<p>*Effiency</p>
<p>*JSON</p>
<h2 id="Inheritance">Inheritance</h2><ul>
<li><p>Inheritance is object-oriented code reuse.</p>
</li>
<li><p>Two Schools:</p>
<ul>
<li><p>Classical</p>
</li>
<li><p>Prototypal - which JavaScript is about the only instance.</p>
</li>
</ul>
</li>
</ul>
<h3 id="Classical_Inheritance">Classical Inheritance</h3><ul>
<li><p>Objects are instances of classes.</p>
</li>
<li><p>A class inherits from another class.</p>
</li>
</ul>
<h3 id="Prototypal_Inheritance">Prototypal Inheritance</h3><ul>
<li><p>Class-free</p>
</li>
<li><p>Objects inherit from objects.</p>
</li>
<li><p>An object contains a secret link to another object.</p>
</li>
<li><p>Mozilla calls it <strong>proto</strong> .</p>
</li>
</ul>
<p><code>var newObject = object(oldObject);</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> oldObject = &#123;</span><br><span class="line">    firstMethod: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; ... &#125;,</span><br><span class="line">    secondMethod: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; ... &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newObject = object(oldObject);</span><br><span class="line"></span><br><span class="line">newObject.thirdMethod = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; ... &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myDoppelganger = object(newObject);</span><br><span class="line"></span><br><span class="line">myDoppelganger.firstMethod();</span><br></pre></td></tr></table></figure>
<h3 id="Prototypal_Inheritance-1">Prototypal Inheritance</h3><p>The way it works is if we try to access a property of an object,</p>
<p>and that  object lacks that property, then we follow the linkage</p>
<p>to the object that it inheritance from to see if it has it,</p>
<p>if it does, than it provides the access. </p>
<p>If the access fails, then we can continue the search from this one.</p>
<p>Alternative, it stops at Object.prototype because Object.prototype is the end of the chain.</p>
<ul>
<li><p>If an object has a <code>foo</code> property, then the chain will not be consulted when accessing member <code>foo</code>.</p>
<p>newObject.foo -&gt; newObject[‘foo’]</p>
</li>
<li><p>If access of a member of newObject fails, then search for the member in oldObject.</p>
</li>
<li><p>If that fails, then search for the member in Object.prototype.</p>
</li>
</ul>
<p>newObject -&gt; oldObject</p>
<h3 id="Prototypal_Inheritance-2">Prototypal Inheritance</h3><ul>
<li><p>Changes in <code>oldObject</code> may be immediately visible in <code>newObject</code>.</p>
</li>
<li><p>Changes to <code>newObject</code> have no effect on <code>oldObject</code>.</p>
</li>
</ul>
<h3 id="Prototypal_Inheritance-3">Prototypal Inheritance</h3><p><code>oldObject</code> can be the prototype for an unlimited number of objects which will all inherit its properities.</p>
<h3 id="Prototypal_Inheritance-4">Prototypal Inheritance</h3><ul>
<li><p><code>newObject</code> can be the prototype for an unlimited number of even newer objects.</p>
</li>
<li><p>There is no limit to the length of the  chain (except common sense).</p>
</li>
</ul>
<h3 id="Augmentation">Augmentation</h3><ul>
<li><p>Using the <code>object</code> function, we can quickly produce new objects that have the same state and behavior as exising objects.</p>
</li>
<li><p>We can then augment each of the instances by assigning new methods and members.</p>
</li>
</ul>
<h3 id="Pseudoclassical">Pseudoclassical</h3><ul>
<li><p>A prototypal inheritance language should have an operator like the <code>object</code><br>function, which makes a new object using an existing object as its prototype.</p>
</li>
<li><p>JavaScript instead uses operators that look classical, but behave prototypally.</p>
</li>
<li><p>They tried to have it both ways.</p>
</li>
</ul>
<h3 id="Pseudoclassical-1">Pseudoclassical</h3><p>Three mechanisms:</p>
<ul>
<li><p><code>Constructor</code> functions.</p>
</li>
<li><p>The <code>new</code> operator.</p>
</li>
<li><p>The <code>prototype</code> member of functions.</p>
</li>
</ul>
<h3 id="new_operator"><code>new</code> operator</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Constructor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.member = initialiser;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">// optinonal</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Constructor.prototype.firstMethod = </span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123; ... &#125;;</span><br><span class="line"></span><br><span class="line">Constructor.prototype.secondMethod =</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123; ... &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newobject = <span class="keyword">new</span> Constructor() ;</span><br></pre></td></tr></table></figure>
<h3 id="Constructor">Constructor</h3><ul>
<li><p>When functions are designed to be used with <code>new</code>, they are called<br>constructors.</p>
</li>
<li><p>Constructors are used to make objects of a type or class/<strong>seudoclass</strong>.</p>
</li>
<li><p>JavaScript’s notation can get a little strange because it is trying to look like the old familiar classical pattern, while also trying to be something really different.</p>
</li>
</ul>
<h3 id="new_operator-1"><code>new</code> operator</h3><p>new <code>Constructor()</code> returns a new object with a link to<br><code>Constructor.prototype</code>.</p>
<p><code>var newObject = new Constructor();</code></p>
<h3 id="new_operator-2">new operator</h3><p>The <code>Constructor()</code> function is passed the new object in the <code>this</code> variable.</p>
<p>This allows the <code>Constructor</code> function to customize the new object.</p>
<h3 id="Warning">Warning</h3><ul>
<li><p>The <code>new</code> operator is <strong>required</strong> when calling a Constructor.</p>
</li>
<li><p>If <code>new</code> is ommited, the global object is clobbered by the constructor, <code>this</code> would be the global object.<br>and then the global object is returned instead of a new instance.</p>
</li>
</ul>
<h3 id="Prototype">Prototype</h3><ul>
<li><p>When a function object is created, it is given a <code>prototype</code> member which is an object containing a <code>constructor</code> member which is a reference to the function object.</p>
</li>
<li><p>You can add other members to function’s <code>prototype</code>. These members will be linked into objects that are produced by calling the function with the <code>new</code> operator.</p>
</li>
<li><p>This allows for adding constants and methods to every object produced, without the objects having to be enlarged to contain them.</p>
</li>
<li><p>Differential Inheritance.</p>
</li>
</ul>
<h3 id="method_method"><code>method</code> method</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.method = </span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">name, func</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.prototype[name] = func;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Constructor.<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">method(<span class="string">'first_method'</span>, </span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;...&#125;).</span><br><span class="line">method(<span class="string">'second_method'</span>, </span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;...&#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="Pseudoclassical_Inheritance">Pseudoclassical Inheritance</h3><ul>
<li><p>Classical Inheritance can be simulated by assigning an object created by one constructor to the prototype member of another.</p>
</li>
<li><p>This does not work exactly like the classical model.</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BiggerConstructor</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">BiggerConstructor.prototype = <span class="keyword">new</span> MyConstructor();</span><br></pre></td></tr></table></figure>
<p>Example </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Gizmo</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Gizmo.prototype.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"gizmo "</span> + <span class="keyword">this</span>.id;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Inheritance-1">Inheritance</h3><ul>
<li>If we replace the original prototype object with an instance of an object of another class, then we can inherit another class’s stuff.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hoozit</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Hoozit.prototype = <span class="keyword">new</span> Gizmo();</span><br><span class="line"></span><br><span class="line">Hoozit.prototype.test = <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.id === id;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="object_function"><code>object</code> function</h3><p>A prototypal inheritance language should have an operator like the <code>object</code> function, which makes a new object using an existing object as its prototype.</p>
<p><code>object</code> function</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    F.prototype = o;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Public Method</p>
<ul>
<li>A Public Method is a function that uses <code>this</code> to access its object.</li>
<li>A Public Method can be reused with many “classes”.</li>
</ul>
<p>Public Methods</p>
<p>function (string) {<br>    return this.member + string;<br>}</p>
<ul>
<li>We can put this function in any object at it works.</li>
<li>Public methods work extremely well with prototypal inheritance and with pseudoclassical Inheritance.</li>
</ul>
<p>Singletons</p>
<ul>
<li><p>There is no need to produce a class-like constructor for an object that will have exactly one instance.</p>
</li>
<li><p>Instead, simple use an object literal.</p>
</li>
</ul>
<p>Singletons<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> singleton = &#123;</span><br><span class="line">  firstMethod: <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>)   </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">  secondMethod: <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>Singletons</p>
<ul>
<li>The methods of a singleton can enjoy access to shared private data and private methods.</li>
</ul>
<p>Functions<br>Functions are used as</p>
<ul>
<li>Functions</li>
<li>Methods</li>
<li>Constructors</li>
<li>Classes</li>
<li>Modules</li>
</ul>
<p>Module</p>
<ul>
<li>Variables defined in a module are only visible in the module.</li>
<li>Functions have scope.</li>
<li>Variables defined in a function only visible in the function.</li>
<li>Functions can be used a module containers.</li>
</ul>
<p>Global variables are evil </p>
<ul>
<li><p>Functions within an application can clobber each other.</p>
</li>
<li><p>Cooperating applications can clobber each other.</p>
</li>
<li><p>Use of the global namespace must be minimized.</p>
</li>
</ul>
<p>Another way to write Singletons<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> singleton = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> privateVariable;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">privateFunction</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        ... privateVariable ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        firstMethod: <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">            ... privateVariable ...</span><br><span class="line">        &#125;,</span><br><span class="line">        secondMethod: <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">            ...privateFunction() ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure></p>
<p>Applications are Singletons</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">YAHOO.MyProperty = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> privateVariable;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">privateFunction</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        ...privateVariable...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        firstMethod: <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        ...privateVariable...</span><br><span class="line">        &#125;,</span><br><span class="line">        secondMethod: <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">            ...privateFunction()...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>
<p>Privileged Method</p>
<ul>
<li><p>A Privileged Method is a function that has access to secret information.</p>
</li>
<li><p>A Privileged Method has access to private variables and private methods.</p>
</li>
<li><p>A Privileged Method obtains its secret information through closure.</p>
</li>
</ul>
<p>Power Constructor</p>
<ul>
<li>Put the singleton module pattern in constructor function, and we have a power constructor pattern.</li>
</ul>
<ol>
<li>Make a new object somehow.</li>
<li>Augment it.</li>
<li>Return it. </li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">powerConstructor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = object(oldObject), </span><br><span class="line">        privateVariable;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">privateFunction</span>(<span class="params">x</span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    that.firstMethod = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        ... privateVariable ...</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    that.secondMethod = <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">        ... privateFunction() ...</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Power Constructor</p>
<ul>
<li><p>Public methods (from the prototype)<br>  var that = object(my_base);</p>
</li>
<li><p>Private variables (var)</p>
</li>
<li><p>Private methods (inner functions)</p>
</li>
<li><p>Privileged methodss (that…)</p>
</li>
<li><p>No need to use <code>new</code><br>  myObject = power_constructor();</p>
</li>
</ul>
<p>Parasitic Inheritance</p>
<p>A power constructor calls another constructor, takes the result, augments it, and return it as though it did all the work.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">symbol</span>(<span class="params">s, p</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        id: s,</span><br><span class="line">        lbp: p,</span><br><span class="line">        value: s</span><br><span class="line">    &#125;;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delim</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> symbol(s, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stmt</span>(<span class="params">s, f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = delim(s);</span><br><span class="line">    x.identifier = <span class="literal">true</span>;</span><br><span class="line">    x.reserved = <span class="literal">true</span>;</span><br><span class="line">    x.fud = f;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">blockstmt</span>(<span class="params">s, f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = stmt(s, f);</span><br><span class="line">    x.block = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Pseudoclassical Inheritance</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Gizmo</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Gizmo.prototype.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"gizmo "</span> + <span class="keyword">this</span>.id;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hoozit</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Hoozit.prototype = <span class="keyword">new</span> Gizmo();</span><br><span class="line"></span><br><span class="line">Hoozit.prototype.test = <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.id === id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Parasitic Inheritance</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gizmo</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        id: id,</span><br><span class="line">        toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"gizmo "</span> + <span class="keyword">this</span>.id;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hoozit</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = gizmo(id);</span><br><span class="line"></span><br><span class="line">    that.test = <span class="function"><span class="keyword">function</span> (<span class="params">testid</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> testid === <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Secrets</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gizmo</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"gizmo "</span> + id;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hoozit</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = gizmo(id);</span><br><span class="line"></span><br><span class="line">    that.test = <span class="function"><span class="keyword">function</span> (<span class="params">testid</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> testid === <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Shared Secrets</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gizmo</span>(<span class="params">id, secret</span>) </span>&#123;</span><br><span class="line">    secret = secret || &#123;&#125;;</span><br><span class="line">    secret.id = id;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"gizmo "</span> + secret.id;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hoozit</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> secret = &#123;&#125;,    <span class="comment">/*final*/</span></span><br><span class="line">        that = gizmo(id, secret);</span><br><span class="line">    </span><br><span class="line">    that.test = <span class="function"><span class="keyword">function</span> (<span class="params">testid</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> testid === secret.id;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Super Methods<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">boozit</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> secret = &#123;&#125;,</span><br><span class="line">        that = gizmo(id, secret),</span><br><span class="line">        super_toString = that.toString;</span><br><span class="line"></span><br><span class="line">    that.test = <span class="function"><span class="keyword">function</span> (<span class="params">testid</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> testid === secret.id;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    that.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> super_toString.apply(that, []);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Inheritance Patterns</p>
<ul>
<li><p>Prototypal Inheritance works really well with public methods.</p>
</li>
<li><p>Parasitic Inheritance works really well with privileged and private and public methods.</p>
</li>
<li><p>Pseudoclassical Inheritance for elderly programmers who are old and set in their ways.</p>
</li>
</ul>
<p>Working with the Grain</p>
<ul>
<li><p>Pseudoclassical patterns are less effective that prototypal patterns or parasitic patterns.</p>
</li>
<li><p>Formal classes are not needed for reuse or extension.</p>
</li>
<li><p>Be shallow. Deep hierarchies are not effective.</p>
</li>
</ul>
<p><code>later</code> method</p>
<p>The <code>later</code> method causes a method on the object to be invoked in the future.</p>
<p>my_object.later(1000, “erase”, true);</p>
<p><code>later</code> method<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.later = </span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">msec, method</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> that = <span class="keyword">this</span>,</span><br><span class="line">            args = <span class="built_in">Array</span>.prototype.slice.apply(<span class="built_in">arguments</span>, [<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> method === <span class="string">'string'</span>) &#123;</span><br><span class="line">            method = that[method];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            method.apply(that, args);</span><br><span class="line">        &#125;, msec);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> that;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure></p>
<p>Multiples</p>
<ul>
<li>when assigning functions in a loop, be aware that all of the functions are bound to the same closure.</li>
<li>This can be avoided by using a factor function to produce unique bindings.</li>
</ul>
<p>Multiples</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (i ...) &#123;</span><br><span class="line">    <span class="keyword">var</span> div_id = divs[i].id;</span><br><span class="line">    divs[i].onmouseover = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        show_element_id(div_id);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i ...) &#123;</span><br><span class="line">    <span class="keyword">var</span> div_id = divs[i].id;</span><br><span class="line">    divs[i].onmouseover = functioin (id) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            show_element_id(id);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;(div_id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/20/douglascrockfordjavascriptnote/" itemprop="url">
                Douglas Crockford - The JavaScript Programming Language (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-20T11:02:40+00:00" content="2015-08-20">
            2015-08-20
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><a href="http://www.youtube.com/watch?v=v2ifWcnQs6M" target="_blank" rel="external"><img src="http://img.youtube.com/vi/v2ifWcnQs6M/0.jpg" alt="Douglas Crockford - The JavaScript Programming Language"></a></p>
<p><a href="https://www.youtube.com/watch?v=v2ifWcnQs6M" target="_blank" rel="external">Douglas Crockford - The JavaScript Programming Language</a></p>
<p><em>Numbers
</em>Strings<br><em>Booleans
</em>Objects<br><em>null
</em>undefined</p>
<h2 id="Numbers">Numbers</h2><p>• Only one number type<br>    ○ No integers<br>• 64-bit floating point<br>• IEEE-754 aka “Double”<br>• Does not map well to common understanding of arithmetic:<br>• 0.1 + 0.2 = 0.30000000000000004</p>
<h3 id="NaN">NaN</h3><p>   Numbers type<br>    • Special number: Not a Number<br>    • Result of undefined or erroneous operations<br>    • Toxic: any arithmetic operation with NaN as an input will have NaN as a result<br>    • NaN is not equal to anything, including NaN.</p>
<h3 id="Number_function">Number function</h3><p> Number(value)<br>    • Converts the value into a number.<br>    • It produces NaN if it has a problem.<br>    • Similar to + prefix operator.</p>
<h3 id="parseInt_function">parseInt function</h3><p>parseInt(value, 10)</p>
<p>·         Converts the value into a number.</p>
<p>·         It stops at the first non-digit character.</p>
<p>·         The radix(10) should be required.</p>
<h3 id="Math">Math</h3><p>·         Math object is modelled on Java’s Math class.<br>·         It contains<br>        abs        absolute value<br>        floor      Integer<br>            Math.floor(number) - gets the integer part.</p>
<pre><code><span class="built_in">log</span>        logarithm
<span class="built_in">max</span>        maximum
pow        raise <span class="built_in">to</span> <span class="operator">a</span> power
<span class="built_in">random</span>        <span class="built_in">random</span> <span class="built_in">number</span>
<span class="built_in">round</span>      nearest <span class="keyword">integer</span>
<span class="built_in">sin</span>        sine
<span class="built_in">sqrt</span>       square root
</code></pre><h2 id="Strings">Strings</h2><p>• Sequence of 0 or more 16-bit characters<br>    ○ UCS-2, not quite UTF-16<br>    ○ No awareness of surrogate pairs<br>• No separate character type<br>    ○ Characters are represented as strings with a length of 1<br>• Strings are immutable<br>    cant be modify after created.</p>
<p>• Similar strings are equal (==)<br>• String literals can use single or double quotes</p>
<h3 id="String_length">String length</h3><pre><code>• `<span class="keyword">string</span>.<span class="built_in">length</span>`

• The `<span class="built_in">length</span>` property determines <span class="operator">the</span> <span class="built_in">number</span> <span class="operator">of</span> <span class="number">16</span>-bit <span class="keyword">characters</span> <span class="operator">in</span> <span class="operator">a</span> <span class="keyword">string</span>.
</code></pre><h3 id="String_function">String function</h3><pre><code>String(<span class="built_in">value</span>)

• Converts <span class="built_in">value</span> <span class="built_in">to</span> <span class="operator">a</span> <span class="keyword">string</span>
</code></pre><h3 id="String_Methods">String Methods</h3><pre><code>• chatAt
• concat
• indexOf
• lastIndexOf
• <span class="literal">match</span>
• <span class="keyword">replace</span>
• <span class="keyword">search</span>
• slice
• <span class="keyword">split</span>
• substring
• toLowerCase
• toUpperCase
</code></pre><h2 id="Boolean">Boolean</h2><pre><code>• <span class="literal">true</span>
• <span class="literal">false</span>
</code></pre><h3 id="Boolean_function">Boolean function</h3><pre><code>Boolean(<span class="keyword">value</span>) 

• Returns <span class="keyword">true</span> <span class="keyword">if</span> <span class="keyword">value</span> <span class="keyword">is</span> truthy
• Returns <span class="keyword">false</span> <span class="keyword">if</span> <span class="keyword">value</span> <span class="keyword">is</span> falsy
• Similar to !! Prefix <span class="keyword">operator</span>
</code></pre><h2 id="null"><code>null</code></h2><pre><code>• A value <span class="keyword">that</span> <span class="keyword">isn't</span> anything
</code></pre><h2 id="undefined"><code>undefined</code></h2><pre><code>• <span class="type">A</span> <span class="keyword">value</span> that isn't even that.
• <span class="type">The</span> default <span class="keyword">value</span> <span class="keyword">for</span> variables <span class="keyword">and</span> parameters
• <span class="type">The</span> <span class="keyword">value</span> <span class="keyword">of</span> missing members <span class="keyword">in</span> objects
</code></pre><h2 id="Falsy_values">Falsy values</h2><p><em>false
</em>null<br><em>undefined
</em>“”<br><em>0 
</em>NaN</p>
<h3 id="All_other_values_(including_all_objects)_are_truthy-">All other values (including all objects) are truthy.</h3><p>e.g. “0” “False”</p>
<h2 id="Everything_Else_Is_Objects">Everything Else Is Objects</h2><p><strong>JavaScript is all about objects!</strong></p>
<h3 id="Dynamic_Objects">Dynamic Objects</h3><pre><code>• Unification <span class="operator">of</span> Object <span class="operator">and</span> Hashtable

• <span class="built_in">new</span> Object() produces <span class="operator">an</span> <span class="constant">empty</span> container <span class="operator">of</span> name/<span class="built_in">value</span> pairs

• A name can be <span class="keyword">any</span> <span class="keyword">string</span>, <span class="operator">a</span> <span class="built_in">value</span> can be <span class="keyword">any</span> <span class="built_in">value</span> except undefined

• members can be accessed <span class="operator">with</span> dot notation <span class="operator">or</span> subscript notation

    &lt;!<span class="comment">--￼0--&gt;</span>

• No hash nature is visible (no hash codes <span class="operator">or</span> rehash methods)
</code></pre><h2 id="Loosely_Typed">Loosely Typed</h2><pre><code>• Any <span class="operator">of</span> these types can be stored <span class="operator">in</span> <span class="operator">an</span> <span class="built_in">variable</span>, <span class="operator">or</span> passed <span class="keyword">as</span> <span class="operator">a</span> parameter <span class="built_in">to</span> <span class="keyword">any</span> <span class="function"><span class="keyword">function</span>.</span>

• The language is <span class="operator">not</span> <span class="string">"untyped"</span>
</code></pre><h2 id="C">C</h2><pre><code>• JavaScript <span class="keyword">is</span> syntactically <span class="keyword">a</span> C family <span class="keyword">language</span>

• It differs from C mainly in its <span class="built_in">type</span> <span class="built_in">system</span>, which allows functions <span class="keyword">to</span> <span class="keyword">be</span> <span class="built_in">values</span>.
</code></pre><h2 id="Identifiers">Identifiers</h2><pre><code>• Starts <span class="operator">with</span> <span class="operator">a</span> letter <span class="operator">or</span> _ <span class="operator">or</span> $

• Followed <span class="keyword">by</span> <span class="constant">zero</span> <span class="operator">or</span> more letters, digits, _ <span class="operator">or</span> $

• By convention, all variables, parameters, members, <span class="operator">and</span> <span class="function"><span class="keyword">function</span> <span class="title">names</span> <span class="title">start</span> <span class="title">with</span> <span class="title">lower</span> <span class="title">case</span></span>

• Except <span class="keyword">for</span> **constructors which <span class="built_in">start</span> <span class="operator">with</span> <span class="built_in">upper</span> <span class="keyword">case</span>**

• Initial _ should be reserved <span class="keyword">for</span> implementations

• $ should be reserved <span class="keyword">for</span> machines. (microprocessors &amp; program generators)
</code></pre><h2 id="Reserved_Words">Reserved Words</h2><p>abstract<br>boolean <strong>break</strong> byte<br><strong>case</strong> <strong>catch</strong> char class const <strong>continue</strong><br>debugger <strong>default</strong> <strong>delete</strong> <strong>do</strong> double<br><strong>else</strong> enum export extends<br><strong>false</strong> final <strong>finally</strong> float <strong>for</strong> <strong>function</strong><br>goto<br><strong>if</strong> implements import <strong>in</strong> <strong>instanceof</strong> int<br>interface<br>long<br>native <strong>new</strong> <strong>null</strong><br>package private protected public<br><strong>return</strong><br>short static super <strong>switch</strong> synchronized<br><strong>this</strong> <strong>throw</strong> throws transient <strong>true</strong> <strong>try</strong> <strong>typeof</strong><br><strong>var</strong> volatile <strong>void</strong><br><strong>while</strong> <strong>with</strong></p>
<h2 id="Comments">Comments</h2><p>// slashslash line comment</p>
<p>/<em><br>    slashstar<br>    block<br>    Comment
</em>/</p>
<h2 id="Operators">Operators</h2><pre><code>• Arithmetic

+ - * / %

• Comparison

<span class="header">==  != &lt; &gt; &lt;= &gt;=</span>

• Logical

&amp;&amp; || !

• Bitwise

&amp; | ^ &gt;&gt; &gt;&gt;&gt; &lt;&lt;

• Ternary
?:
</code></pre><h3 id="+">+</h3><pre><code>• Addiction <span class="operator">and</span> concatenation
• If both operands are <span class="built_in">number</span>,
<span class="keyword">then</span>
    <span class="built_in">add</span> them
<span class="keyword">else</span>
    <span class="built_in">convert</span> them both <span class="built_in">to</span> strings
    concatenate them 
        <span class="string">'$'</span> + <span class="number">3</span> + <span class="number">4</span> = <span class="string">'$34'</span>

+
• Unary operator can <span class="built_in">convert</span> strings <span class="built_in">to</span> numbers
+<span class="string">"42"</span> = <span class="number">42</span>

• Also 
Number(<span class="string">"42"</span>) = <span class="number">42</span>

• Also 
parseInt(<span class="string">"42"</span>, <span class="number">10</span>) = <span class="number">42</span>

**+<span class="string">"3"</span> + (+<span class="string">"4"</span>) = <span class="number">7</span>**
</code></pre><h3 id="/">/</h3><p><strong>Division of two integers can produce a non-integer result</strong><br><strong>10 / 3 = 3.333333333333333</strong></p>
<h3 id="==_!=">== !=</h3><pre><code>• <span class="type">Equal</span> <span class="keyword">and</span> <span class="keyword">not</span> equal

• <span class="type">These</span> operators can <span class="keyword">do</span> <span class="keyword">type</span> coercion

• <span class="type">It</span> <span class="keyword">is</span> better to use === <span class="keyword">and</span> !==, 
which <span class="keyword">do</span> <span class="keyword">not</span> <span class="keyword">do</span> <span class="keyword">type</span> coercion.


&amp;&amp;

• <span class="type">The</span> guard operator, aka logical <span class="keyword">and</span> 

• <span class="type">If</span> first operand <span class="keyword">is</span> truthy
    **<span class="type">Then</span> <span class="literal">result</span> <span class="keyword">is</span> second operand**
    **<span class="type">Else</span> <span class="literal">result</span> <span class="keyword">is</span> first operand**

• <span class="type">It</span> can be used to avoid null references

&lt;!--￼<span class="number">1</span>--&gt;

• can be written <span class="keyword">as</span> 
&lt;!--￼<span class="number">2</span>--&gt;
</code></pre><h3 id="||">||</h3><pre><code>• <span class="type">The</span> default operator, aka logical <span class="keyword">or</span>
• <span class="type">If</span> first operand <span class="keyword">is</span> truthy
    *<span class="type">Then</span> <span class="literal">result</span> <span class="keyword">is</span> first operand
    *<span class="type">Else</span> <span class="literal">result</span> <span class="keyword">is</span> second operand
• <span class="type">It</span> can be used to fill <span class="keyword">in</span> default values.
&lt;!--￼<span class="number">3</span>--&gt;

• <span class="type">If</span> input <span class="keyword">is</span> truthy, then last <span class="keyword">is</span> input, otherwise <span class="type">set</span> last to nr_items.
</code></pre><h3 id="!">!</h3><pre><code>• <span class="type">Prefix</span> logical <span class="keyword">not</span> operator.
• <span class="type">If</span> the operand <span class="keyword">is</span> truthy, the <span class="literal">result</span> <span class="keyword">is</span> <span class="literal">false</span>. <span class="type">Otherwise</span>, the <span class="literal">result</span> <span class="keyword">is</span> <span class="literal">true</span>.
• !! <span class="type">Produces</span> booleans.
</code></pre><p>Bitwise<br>&amp; | ^ &gt;&gt; &gt;&gt;&gt; &lt;&lt;<br><strong>The bitwise operators convert the operand to a 32-bit signed integer, and turn the result back into 64-bit floating point.</strong></p>
<h2 id="Statements">Statements</h2><p><em>expression
</em>if<br><em>switch
</em>while<br><em>do
</em>for<br><em>break
</em>continue<br><em>return
</em>try/throw</p>
<h3 id="Break_statement">Break statement</h3><p>• Statements can have labels.</p>
<p>• Break statements can refer to those labels.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">loop: <span class="keyword">for</span> (;;) &#123;</span><br><span class="line"> ……</span><br><span class="line">    If (…) &#123;</span><br><span class="line">        <span class="keyword">break</span> loop;</span><br><span class="line">    &#125;</span><br><span class="line">      …</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="For_statement">For statement</h3><p>Iterate through all of the elements of an array;</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">For (<span class="keyword">var</span> I = <span class="number">0</span>;I &lt; array.length; I += <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// within the loop,</span></span><br><span class="line">    <span class="comment">// I is the index of the current member</span></span><br><span class="line">    <span class="comment">// array[i] is the current element</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Iterate through all of the members of an object:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> name <span class="keyword">in</span> object) &#123;</span><br><span class="line">     If (object.hasOwnPropert(name)) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// within the loop,</span></span><br><span class="line">        <span class="comment">// name is the key of current member</span></span><br><span class="line">        <span class="comment">// object[name] is the current value</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Switch_statement">Switch statement</h3><p>*Multiway branch</p>
<p>*The switch value does not need to be a number. It can be a string.</p>
<p>*The case values can be expressions.</p>
<h3 id="Switch_statement-1">Switch statement</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">swith (expression) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">';'</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">','</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">'.'</span>:</span><br><span class="line">    punctuation();</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    noneOfTheAbove();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Throw_statement">Throw statement</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(reason);</span><br><span class="line"></span><br><span class="line"><span class="keyword">throw</span> &#123;</span><br><span class="line">    name: exceptionName,</span><br><span class="line">    message: reason</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Try_statement">Try statement</h3> <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">   ...</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">   <span class="keyword">switch</span> (e.name) &#123;</span><br><span class="line">       <span class="keyword">case</span> <span class="string">'Error'</span>:</span><br><span class="line">           ...</span><br><span class="line">           <span class="keyword">break</span>;</span><br><span class="line">       <span class="keyword">default</span>:</span><br><span class="line">           <span class="keyword">throw</span> e;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Try_Statement">Try Statement</h3><ul>
<li>The JavaScript implementation can produce these exception names:<br>‘Error’<br>‘EvalError’<br>‘RangeError’<br>‘SyntaxError’<br>‘TypeError’<br>‘URIError’</li>
</ul>
<h3 id="With_statement">With statement</h3><ul>
<li><p>Intended as a short-hand</p>
</li>
<li><p>Ambiguous</p>
</li>
<li><p>Error-prone</p>
</li>
<li><p><strong>Don’t use it</strong></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> (o) &#123;</span><br><span class="line">    foo = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">o.foo = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">foo = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Function_statement">Function statement</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">name</span>(<span class="params">parmeters</span>) </span>&#123;</span><br><span class="line">    statements;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Var_statement">Var statement</h3><ul>
<li>Defines variables within a function.</li>
<li>Types are not specified.</li>
<li>Initial values are optional.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"><span class="keyword">var</span> nrErrors = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> a, b, c;</span><br></pre></td></tr></table></figure>
<h2 id="Scope">Scope</h2><ul>
<li>In JavaScript, <strong>{block} do not have scope</strong>.</li>
<li><strong>Only functions have scope</strong>.</li>
<li>Vars defined in a function are not visible outside of the function.</li>
</ul>
<p><strong>Declare variable any place inside of a function, it’s visible anywhere inside of the function.</strong></p>
<p><strong>Declare variable twice inside of a function, it only gets created once!</strong></p>
<h2 id="Global_Variables">Global Variables</h2><p>JavaScript has implied Globals. </p>
<p>If you create a variable and forget to declare it, JavaScript assumes you might the variable to be global variable.</p>
<p>For example if you forget to define <code>i</code>, you create a global variable called <code>i</code>. </p>
<p>If you make the same mistake in two places, there is a good chance your program is going to be failed.</p>
<h2 id="Return_statement">Return statement</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> expression;</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span>;</span><br></pre></td></tr></table></figure>
<p>In JavaScript, every function will return a result, no void type in js.</p>
<ul>
<li>If there is no expression, then the return value is undefined.</li>
<li>Except for constructors, whose default return value is this. It returns the new object.</li>
</ul>
<h2 id="Objects">Objects</h2><ul>
<li>Everything else is objects.</li>
<li>Objects can contain data and methods.</li>
<li>Objects can inherit from other objects.</li>
</ul>
<p><strong>Objects are collections</strong></p>
<h3 id="Collections">Collections</h3><p>*An object is an unordered collection of name/value pairs</p>
<p>*Names are strings</p>
<p>*Values are any type, including other objects</p>
<p>*Good for representing records and trees.</p>
<p>*Every object is a little database.</p>
<h3 id="Object_Literals">Object Literals</h3><ul>
<li>Object literals are wrapped in { }</li>
<li>Names can be names or strings</li>
<li>Values can be expressions</li>
<li>: separates names and values</li>
<li>, separates pairs</li>
<li>Object literals can be used anywhere a value can appear.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    name: <span class="string">"Jack B. Nimble"</span>,</span><br><span class="line">    <span class="string">'goto'</span>: <span class="string">'Jail'</span>,</span><br><span class="line">    grade: <span class="string">'A'</span>,</span><br><span class="line">    level: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> theName = myObject.name;</span><br><span class="line"><span class="keyword">var</span> destination = myObject[<span class="string">'goto'</span>];</span><br></pre></td></tr></table></figure>
<h4 id="Maker_function">Maker function</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maker</span>(<span class="params">name, where, grade, level</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> it = &#123;&#125;;</span><br><span class="line">    it.name = name;</span><br><span class="line">    it[<span class="string">'goto'</span>] = where;</span><br><span class="line">    it.grade = grade;</span><br><span class="line">    it.level = level;</span><br><span class="line">    <span class="keyword">return</span> it;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myObject = maker(<span class="string">"Jack B. Nimble"</span>, <span class="string">'Jail'</span>, <span class="string">'A'</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<h4 id="Object_Literals-1">Object Literals</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    name: <span class="string">"Jack B. Nimble"</span>,</span><br><span class="line">    <span class="string">'goto'</span>: <span class="string">'Jail'</span>,</span><br><span class="line">    grade: <span class="string">'A'</span>,</span><br><span class="line">    format: &#123;</span><br><span class="line">        type: <span class="string">'rect'</span>,</span><br><span class="line">        width: <span class="number">1920</span>,</span><br><span class="line">        height: <span class="number">1080</span>,</span><br><span class="line">        interlace: <span class="literal">false</span>,</span><br><span class="line">        framerate: <span class="number">24</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="Object_Literals-2">Object Literals</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">myFunction(&#123;</span><br><span class="line">    type: <span class="string">'rect'</span>,</span><br><span class="line">    width: <span class="number">1920</span>,</span><br><span class="line">    height: <span class="number">1080</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">throw</span> &#123;</span><br><span class="line">    name: <span class="string">'error'</span>,</span><br><span class="line">    message: <span class="string">'out of bounds'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="Object_Literals-3">Object Literals</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperDiv</span>(<span class="params">width, height, left, top, zIndex, position, color, </span><br><span class="line">visibility, html, cssClass</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">var</span> <span class="title">spec</span> = </span>&#123;</span><br><span class="line">    width: <span class="number">1</span>,</span><br><span class="line">    height: <span class="number">1</span>,</span><br><span class="line">    left: <span class="number">1</span>,</span><br><span class="line">    top: <span class="number">1</span>,</span><br><span class="line">    zIndex: <span class="number">1</span>,</span><br><span class="line">    position: <span class="number">1</span>,</span><br><span class="line">    color: <span class="number">1</span>,</span><br><span class="line">    visibility: <span class="number">1</span>,</span><br><span class="line">    html: <span class="number">1</span>,</span><br><span class="line">    cssClass: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperDiv</span>(<span class="params">spec</span>)</span></span><br></pre></td></tr></table></figure>
<h4 id="Object_Augmentation_(n-_扩大；_增大；_增加物；_&lt;音&gt;主题延长)">Object Augmentation (n. 扩大； 增大； 增加物； &lt;音&gt;主题延长)</h4><ul>
<li><p>New members can be added to any object by simple assignment</p>
</li>
<li><p>There is no need to define a new class</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    name: <span class="string">"Jack B. Nimble"</span>,</span><br><span class="line">    <span class="string">'goto'</span>: <span class="string">'Jail'</span>,</span><br><span class="line">    grade: <span class="string">'A'</span>,</span><br><span class="line">    format: &#123;</span><br><span class="line">        type: <span class="string">'rect'</span>,</span><br><span class="line">        width: <span class="number">1920</span>,</span><br><span class="line">        height: <span class="number">1080</span>,</span><br><span class="line">        interlace: <span class="literal">false</span>,</span><br><span class="line">        framerate: <span class="number">24</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">myObject.format.colorModel = <span class="string">'YCgCb'</span>;</span><br><span class="line"></span><br><span class="line">myObject[name] = value;</span><br></pre></td></tr></table></figure>
<h3 id="Linkage">Linkage</h3><ul>
<li><p>Objects can be created with a secret link to another object. (Inheritance)</p>
<p>  Objects are able to be inheritanced from other objects.</p>
</li>
<li><p>If an attempt to access a member from an object which fails, the secret linked object will be used.</p>
</li>
<li><p>The secret link is not used when storing. New members are only added to the primary object.</p>
</li>
<li><p>The <strong>object(o)</strong> function makes a new empty object with a linkage to object <strong>o</strong>.</p>
</li>
</ul>
<h4 id="Linkage-1">Linkage</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myOldObject = &#123;</span><br><span class="line">    name: <span class="string">"Jack B. Nimble"</span>,</span><br><span class="line">    <span class="string">'goto'</span>: <span class="string">'Jail'</span>,</span><br><span class="line">    grade: <span class="string">'A'</span>,</span><br><span class="line">    level: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myNewObject = <span class="built_in">Object</span>(myOldObject);</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/objectlinkage.png" alt="keywords"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">myNewObject.name = <span class="string">"Tom Piperson"</span>;</span><br><span class="line">myNewObject.level += <span class="number">1</span>;</span><br><span class="line">myNewObject.crime = <span class="string">'pignapping'</span>; </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myNewObject.grade);</span><br><span class="line"><span class="comment">// A</span></span><br></pre></td></tr></table></figure>
<h4 id="Inheritance">Inheritance</h4><ul>
<li>Linkage provides simple Inheritance. </li>
<li>An object can inherit from an old object.</li>
</ul>
<h4 id="Prototypal_Inheritance">Prototypal Inheritance</h4><ul>
<li><p>Some languages have classes, methods, constructors, and modules.<br>JavaScript’s functions do the work of all of those.</p>
</li>
<li><p>Instead of Classical Inheritance,<br>JavaScript has Prototypal Inheritance.</p>
</li>
<li><p>It accomplishes the same things, but differently.</p>
</li>
<li><p>It offers greater expressive power.</p>
</li>
<li><p>But it’s different.</p>
</li>
</ul>
<h4 id="Prototypal_Inheritance-1">Prototypal Inheritance</h4><ul>
<li><p>Instead of organizing objects into rigid classes, new objects can be made that are similar to existing objects, and then customized.</p>
</li>
<li><p>Object customization is a lot less work than making a class, and less overhead, too.</p>
</li>
<li><p>One of the keys is the <strong>object(o)</strong> function.</p>
</li>
<li><p>The other key is functions.</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">myOldObject.grade = <span class="string">"B"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myNewObject.grade);</span><br><span class="line"><span class="comment">// B</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> myOldObject[<span class="string">'grade'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myNewObject.grade);</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> myNewObject[<span class="string">'level'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myNewObject[<span class="string">'level'</span>]);</span><br><span class="line"><span class="comment">// 3 or undefined</span></span><br></pre></td></tr></table></figure>
<p><img src="/gallery/objectlinkageassign.png" alt="keywords"></p>
<p><strong>Single Inheritance</strong> (long linkage)</p>
<p><strong>Garbage Collection</strong></p>
<p>Q&amp;A</p>
<p>What happened to the new objects if the old object set to undefined?<br>Nothing!</p>
<h3 id="Object_Methods">Object Methods</h3><ul>
<li>All objects are linked directly or indirectly to Object.prototype.<br>  Object.prototype provides system built-in methods for you.</li>
<li><p>All objects inherit some basic methods.</p>
</li>
<li><p>None of them are very userful.</p>
</li>
<li><p>hasOwnProperty(name)<br>  Is the name a true member of this object?</p>
</li>
<li><p>No copy method.</p>
</li>
<li><p>No equals methos.<br><strong> Can use equal operator to check two references to the same object, but it doesnt tell you two object contains the same staff.</strong></p>
</li>
</ul>
<h3 id="Object_Construction">Object Construction</h3><ul>
<li><p>Make a new empty object</p>
</li>
<li><p>Three ways to make new empty object!<br>All three of these expressions have exactly the same result:</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Object</span>()</span><br><span class="line"></span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>(<span class="built_in">Object</span>.prototype)</span><br></pre></td></tr></table></figure>
<ul>
<li>{} is the preferred form.</li>
</ul>
<h3 id="Reference">Reference</h3><ul>
<li><p>Objects can be passed as arguments to functions, and can be returned by functions<br>  <strong>Objects are passed by reference.</strong><br>  <strong>Objects are not passed by value.</strong></p>
</li>
<li><p>The === operator compares object references, not values<br>  <strong>true only if both operands are the same object.</strong></p>
</li>
</ul>
<h3 id="Delete">Delete</h3><ul>
<li>Members can be removed from an object with the delete operator.<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> myObject[name];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>change the value to undefined.</p>
<h2 id="Arrays">Arrays</h2><ul>
<li><p>Array inherits from Object.</p>
</li>
<li><p>Indexes are converted to strings and used as names from retrieving values.</p>
</li>
<li><p>Very efficient for sparse arrays. (创建稀疏矩阵)</p>
</li>
<li><p>Not very efficient in most other cases.</p>
</li>
<li><p>One advantage: No need to provide a length or type when creating an array.</p>
</li>
</ul>
<h3 id="length">length</h3><ul>
<li><p>Arrays, unliket objects, have a special <code>length</code> member.</p>
</li>
<li><p>It is always 1 larger than the highest integer subscript.</p>
</li>
<li><p>It allows use of the traditaional for statement.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i&lt; a.length; i+= <span class="number">1</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Do not use for .. in with arrays.</p>
</li>
</ul>
<h3 id="Array_Literals">Array Literals</h3><ul>
<li><p>An array literal uses []</p>
</li>
<li><p>It can contain any number of expressions, separated by commas<br>  <code>myList = [&#39;oats&#39;, &#39;peas&#39;, &#39;beans&#39;];</code></p>
</li>
<li><p>New items can be appended<br>  <code>myList[myList.length] = &#39;barley&#39;;</code></p>
</li>
<li><p>The dot notation should not be used with arrays.</p>
</li>
<li><p>[] is preferred to new Array().</p>
</li>
</ul>
<h3 id="Array_Methods">Array Methods</h3><ul>
<li>concat </li>
<li>join</li>
<li>pop</li>
<li>push</li>
<li>slice</li>
<li>sort</li>
<li>splice</li>
</ul>
<h3 id="Deleting_Elements">Deleting Elements</h3><p><code>delete array[number]</code></p>
<ul>
<li>Removes the element, but leaves a hole in the numbering.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">array.splice(number, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>Removes the element and renumbers all the following elements.</li>
</ul>
<h3 id="Deleting_Elements-1">Deleting Elements</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">myArray = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> myArray[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ['a', undefined, 'c', 'd']</span></span><br><span class="line"></span><br><span class="line">myArray.splice(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ['a', 'c', 'd']</span></span><br></pre></td></tr></table></figure>
<h3 id="Arrays_v_Objects">Arrays v Objects</h3><ul>
<li><p>Use objects when the names are arbitrary strings.</p>
</li>
<li><p>Use arrays when the names are sequential integers.</p>
</li>
<li><p>Don’t get confused by the term Associative Array.</p>
</li>
</ul>
<h3 id="Array_has_secret_link_which_links_to_Array-prototype-">Array has secret link which links to <code>Array.prototype</code>.</h3><h4 id="Distinguishing_Arrays">Distinguishing Arrays</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">value.constructor === <span class="built_in">Array</span></span><br><span class="line"></span><br><span class="line">value <span class="keyword">instanceof</span> <span class="built_in">Array</span></span><br></pre></td></tr></table></figure>
<p>Neither of these work when the value comes from a different frame. (talk later!)</p>
<p><strong>We cant inherited from an array effectivly. We cant use array as a prototype.</strong></p>
<h4 id="Arrays_and_Inheritance">Arrays and Inheritance</h4><ul>
<li>Don’t use arrays as prototypes.<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> notArray = <span class="built_in">Object</span>(array);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>The thing got produced by <code>Object(array)</code> is an object instead of an array.</p>
<p>The object produced this way does not have array nature. It will inherit the array’s values and methods. but not its length.</p>
<ul>
<li>You can augment an individual array.</li>
</ul>
<p>By assigning methods to it since it is underneath an object it’s able to receive any kind of value including functions in any kind of key not just numbers.</p>
<p>This works because arrays are objects.</p>
<p>Since it’s underneath an object, it’s able to receive any kind of values including functions and any kind of keys not just numbers.</p>
<ul>
<li>You can augment all arrays.<br>  Assign methods to Array.prototype.</li>
</ul>
<h2 id="Functions">Functions</h2><ul>
<li>Functions are first class objects.</li>
</ul>
<ol>
<li><p>Functions can be passed, returned, and stored just like any other value.</p>
</li>
<li><p>Functions inherit from <code>Object</code> and can store name/value pairs.</p>
</li>
</ol>
<h3 id="Function_operator">Function operator</h3><ul>
<li>The function operator takes an optional name, a parameter list, and a block of statements, and returns a function object.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">name</span>(<span class="params">parameters</span>) </span>&#123;</span><br><span class="line">    statements</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>A function can appear anywhere that an expression can appear.</li>
</ul>
<h3 id="Lambda">Lambda</h3><ul>
<li><p>What JavaScript calls <code>function</code>, other languages call <code>lambda</code>.</p>
</li>
<li><p>It is a source of enormous expressive power.</p>
</li>
<li><p>Unlike most power-constructs, it is secure.</p>
</li>
</ul>
<h3 id="Function_statement-1">Function statement</h3><p>The function statement is just a short-hand for a <code>var</code> statement with a function value.</p>
<p><code>function foo() {}</code></p>
<pre><code>expands <span class="keyword">to</span> 
</code></pre><p><code>var foo = function foo() {};</code></p>
<p>There is one namespace for both of those things.</p>
<h3 id="Inner_functions">Inner functions</h3><ul>
<li><p>Functions do not all have to be defined at the top level (or left edge).</p>
</li>
<li><p>Functions can be defined inside of other functions.</p>
</li>
</ul>
<h3 id="Scope-1">Scope</h3><ul>
<li><p>An inner function has access to the variables and parameters of functions that it is contained within.</p>
</li>
<li><p>This is known as Static Scoping or Lexical Scoping.</p>
</li>
</ul>
<h3 id="Closure"><strong>Closure</strong></h3><ul>
<li><p>The <code>scope</code> that an inner function enjoys continues even after the parent functions have returned.</p>
</li>
<li><p>This is called <code>closure</code>.</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fade</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> dom = <span class="built_in">document</span>.getElementById(id),</span><br><span class="line">        level = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">step</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> h = level.toString(<span class="number">16</span>);</span><br><span class="line"></span><br><span class="line">        dom.style.backgroundColor = </span><br><span class="line">            <span class="string">'#FFFF'</span> + h + h;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (level &lt; <span class="number">15</span>) &#123;</span><br><span class="line">            level += <span class="number">1</span>;</span><br><span class="line">            setTimeout(step, <span class="number">100</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    setTimeout(step, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Function_Objects">Function Objects</h3><ul>
<li><p>Functions are objects, so they can contain name/value pairs.</p>
</li>
<li><p>This can serve the same purpose as <code>static</code> members in other languages.</p>
</li>
</ul>
<h3 id="Methods">Methods</h3><ul>
<li><p>Since functions are values, functions can be stored in objects.</p>
</li>
<li><p>A function in an object is called a <strong>method</strong>.</p>
</li>
</ul>
<p><code>var foo = function () {};</code></p>
<h3 id="Invocation">Invocation</h3><ul>
<li><p>If a function is called with too many arguments, the extra arguments are ignored.</p>
</li>
<li><p>If a function is called with too few arguments, the missing values will be <code>undefined</code>.</p>
</li>
<li><p>There is no implicit type checking on the arguments.</p>
</li>
</ul>
<h3 id="Invocation-1">Invocation</h3><ul>
<li>There are four ways to call a function:</li>
</ul>
<p>Method form<br>    <code>thisObject.methodName(arguments)</code><br>    <code>thisObject[&quot;methodName&quot;](arguments)</code></p>
<p>Function form<br>    <code>functionObject(arguments)</code></p>
<p>Constructor form<br>    <code>new functionObject(arguments)</code></p>
<p>Apply form<br>    <code>functionObject.apply(thisObject, [arguments])</code></p>
<h3 id="Method_form">Method form</h3><p><code>thisObject.methodName(arguments)</code></p>
<ul>
<li>When a function is called in this form, In additional its regular parameters, it gets a special extra parameter called ‘this’.<br>And ‘this’ will be bind to ‘thisObject’.<br>So it gives that function access to the object that it was invoked in.</li>
</ul>
<p>When a function is called in the method form, <code>this</code> is set to <code>thisObject</code>, the object containing the function.</p>
<ul>
<li>This allows methods to have a reference to the object of interest.</li>
</ul>
<h3 id="Function_form">Function form</h3><p><code>functionObject(arguments)</code></p>
<p>When a function is called in the function form, <code>this</code> is set to the global object.<br>    That is not very useful.<br>    Mistake or not? It makes it harder to write helper functions within a method because the helper function does not get access to the outer <code>this</code>.<br>        <code>var that = this;</code></p>
<h3 id="Constructor_form">Constructor form</h3><p><code>new functionObject(arguments)</code></p>
<ul>
<li><p>When a function is called with the <code>new</code> operator, a new object is created and assigned to <code>this</code>.</p>
</li>
<li><p>If there is not an explicit return value, then <code>this</code> will be returned.</p>
</li>
</ul>
<h3 id="this"><code>this</code></h3><ul>
<li><p><code>this</code> is an extra parameter. Its value depends on the calling form.</p>
</li>
<li><p><code>this</code> gives methods access to their objects.</p>
</li>
<li><p><code>this</code> is bound at invocation time.</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Invocation form</th>
<th><code>this</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>function</td>
<td>the global object</td>
</tr>
<tr>
<td>method</td>
<td>the object</td>
</tr>
<tr>
<td>constructor</td>
<td>the new object</td>
</tr>
</tbody>
</table>
<h3 id="arguments">arguments</h3><ul>
<li><p>When a function is invoked, in addition to its parameters, it also gets a special parameter called <code>arguments</code>.</p>
</li>
<li><p>It contains all of the arguments from the invocation.</p>
</li>
<li><p>It is an array-like object.</p>
</li>
<li><p><code>arguments.length</code> is the number of arguments passed.</p>
</li>
</ul>
<p>Example</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i,</span><br><span class="line">        n = <span class="built_in">arguments</span>.length,</span><br><span class="line">        total = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i += <span class="number">1</span>) &#123;</span><br><span class="line">        total += <span class="built_in">arguments</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Augmenting_Build-in_Types">Augmenting Build-in Types</h3><ul>
<li>Object.prototype</li>
<li>Array.prototype</li>
<li>Function.prototype</li>
<li>Number.prototype</li>
<li>String.prototype</li>
<li>Boolean.prototype</li>
</ul>
<h4 id="trim">trim</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.trim = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(</span><br><span class="line">        <span class="regexp">/^\s*(\S*(\s+\S+)*)\s*$/</span>, <span class="string">"$1"</span>); </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="supplant">supplant</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> template = <span class="string">'&lt;table border="&#123;border&#125;"&gt;'</span> + </span><br><span class="line">               <span class="string">'&lt;tr&gt;&lt;th&gt;Last&lt;/th&gt;&lt;td&gt;&#123;last&#125;&lt;/td&gt;&lt;/tr&gt;'</span> +</span><br><span class="line">               <span class="string">'&lt;tr&gt;&lt;th&gt;First&lt;/th&gt;&lt;td&gt;&#123;first&#125;&lt;/td&gt;&lt;/tr&gt;'</span> +</span><br><span class="line">               <span class="string">'&lt;/table&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">    first: <span class="string">"Carl"</span>,</span><br><span class="line">    last: <span class="string">"Hollywood"</span>,</span><br><span class="line">    border: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">mydiv.innerHTML = template.supplant(data);</span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.prototype.supplant = <span class="function"><span class="keyword">function</span> (<span class="params">o</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/&#123;([^&#123;&#125;]*)&#125;/g</span>, </span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> r = o[b];</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> r === <span class="string">'string'</span> ? r : a;</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="typeof">typeof</h4><p>The typeof prefix operator returns a string identifying the type of a value.</p>
<table>
<thead>
<tr>
<th>type</th>
<th>typeof</th>
</tr>
</thead>
<tbody>
<tr>
<td>object</td>
<td>‘object’</td>
</tr>
<tr>
<td>function</td>
<td>‘function’</td>
</tr>
<tr>
<td>array</td>
<td>‘object’</td>
</tr>
<tr>
<td>number</td>
<td>‘number’</td>
</tr>
<tr>
<td>string</td>
<td>‘string’</td>
</tr>
<tr>
<td>boolean</td>
<td>‘boolean’</td>
</tr>
<tr>
<td>null</td>
<td>‘object’</td>
</tr>
<tr>
<td>undefined</td>
<td>‘undefined’</td>
</tr>
</tbody>
</table>
<h3 id="eval">eval</h3><p><code>eval(string)</code></p>
<ul>
<li><p>calling compiler to do something</p>
</li>
<li><p>The <code>eval</code> function compiles and executes a string (<strong>in the context of the function that is calling <code>eval</code> </strong>) and returns the result.</p>
</li>
<li><p>It is what the browser uses to convert strings into actions.</p>
</li>
<li><p>It is the most misused feature of the language. </p>
</li>
</ul>
<p><strong>Recommend that not use it ever!</strong></p>
<ol>
<li>Waste lot of time. Often you calling the compiler to do something which can be done much easier on that. </li>
<li>People dont know how to use subscript notation. They will concated dot notation then eval them. The slowest way to doing this.</li>
<li>For certain of checking done in running time it could’ve been done to compile time. Delays error detection, makes it easier to ship bugs.</li>
<li>Security problem.</li>
</ol>
<p>Using eval on Json is the only time when its correct to use eval.</p>
<p>Use <code>parseJson</code> method!</p>
<h3 id="new_Function_function">new Function function</h3><p><code>new Function(parameters, body)</code></p>
<p>when a script tag or an eventhandler on the page,<br>brower call ‘eval’ to do with it.</p>
<ul>
<li><p><code>eval</code> calls the <code>new Function(parameters, body)</code>.<br>The <code>Function</code> constructor takes zero or more parameter name strings, and a body string, and uses the JavaScript compiler to produce a function object.</p>
</li>
<li><p>It should only be used to compile fresh source from a server.</p>
</li>
<li><p>It it closely related to <code>eval</code>.</p>
</li>
</ul>
<h3 id="Build-int_Type_Wrappers">Build-int Type Wrappers</h3><ul>
<li><p>Java has both <code>int</code> and <code>Integer</code> type, one is an simple value and the other is an object which wraps the simple value.<br>Two incompatible types which can both carry the same value with differing levels of efficiency and convenience.</p>
</li>
<li><p>JavaScript copied this pattern to no advantage. Avoid it.</p>
</li>
<li></li>
<li>Avoid <code>new Boolean()</code></li>
<li>Avoid <code>new String()</code></li>
<li>Avoid <code>new Number()</code> </li>
</ul>
<h3 id="Confession">Confession</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    F.prototype = o;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Augmentation">Augmentation</h3><p>*We can directly modify individual objects to give them just the characteristics we want.</p>
<p>*We can do this without having to create classes.</p>
<p>*We can then use our new object as the prototype for lots of new objects,<br>each of which can also be augmented.</p>
<p>Working with the Grain</p>
<ul>
<li><p>Classical patterns are less effective than prototypal patterns or parasitic patterns(talk in the advanced classes) .</p>
</li>
<li><p>Formal classes are not needed for reuse or extension.</p>
</li>
</ul>
<h3 id="(global)_Object">(global) Object</h3><ul>
<li><p>The object that dares not speak its name.</p>
</li>
<li><p>It is the container for all global variables and all built-in objects.</p>
</li>
<li><p>Sometimes <code>this</code> points to it.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> global = <span class="keyword">this</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>On browsers, <code>window</code> is the global <code>object</code>.</strong></p>
</li>
<li>On nodejs, <code>global</code> is the global <code>object</code>.</li>
</ul>
<p>They assigned to the global object a window member whose value is global object.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">global.window = global;</span><br></pre></td></tr></table></figure>
<p>window.something -&gt; global object -&gt; window</p>
<p>Instead of a linker, everything has been reslove in a global namespace<br>that namespace is the global object, and it is implemented as a JavaScript object.</p>
<h3 id="Global_variables_are_evil">Global variables are evil</h3><ul>
<li><p>Functions within an application can clobber each other.</p>
</li>
<li><p>Cooperating applications can clobber each other.</p>
</li>
<li><p>Use of the global namespace must be minimized.</p>
</li>
</ul>
<h3 id="Implied_Global">Implied Global</h3><ul>
<li><p>Any var which is not properly declared is assumed to be global by default.</p>
</li>
<li><p>This makes it easy for people who do not know or care about encapsulation to be productive, but it makes applications less reliable.</p>
</li>
<li><p>JSLint is a tool which helps identify implied globals and other weaknesses.<br><a href="http://www.JSLint.com" target="_blank" rel="external">http://www.JSLint.com</a></p>
</li>
</ul>
<h2 id="Namespace">Namespace</h2><p>Every object is (on its own namespace) a separate namespace.</p>
<p>Use an object to organize your variables and functions.</p>
<p>The YAHOO Object.<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="dns"></span><br><span class="line">        YAHOO=&#123;&#125;<span class="comment">;</span></span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Encapsulate">Encapsulate</h2><ul>
<li><p>Function scope can create an encapsulation</p>
</li>
<li><p>Use an anonymous function to wrap your application.(talk about in advanced classes)</p>
</li>
</ul>
<p>Example</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">YAHOO.Trivia = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">// define your common vars here</span></span><br><span class="line"><span class="comment">// define your common functions here</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        getNextPoser: <span class="function"><span class="keyword">function</span> (<span class="params">cat, diff</span>) </span>&#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125;,</span><br><span class="line">        showPoser: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>
<h2 id="Thinking_about_type">Thinking about type</h2><ul>
<li><p>Trading type-safety for dynamism(n.（人的）活力； 精力，魄力； 劲头；).</p>
</li>
<li><p>JavaScript has no cast operator. </p>
</li>
<li><p>Reflection is really easy, and usually unnecessary.</p>
</li>
<li><p>Why inheritance?<br>  Automatic casting<br>  Code reuse</p>
</li>
<li><p>Trading brittleness (n.脆性，脆度，脆弱性) for flexibility</p>
</li>
</ul>
<h2 id="Date">Date</h2><p>The <code>Date</code> function is based on Java’s Date class.</p>
<p>It was not Y2K ready.</p>
<h2 id="RegExp">RegExp</h2><ul>
<li>Regular expression pattern matcher</li>
<li>Patterns are enclosed in slashes</li>
<li>Example: a pattern that matches regular expressions</li>
</ul>
<p>/\/(\[^\x00-\xlf]|[(\[^\x00-\xlf]|[^\x00-\xlf\\/])<em>]|[^\x00-\xlf\\/[])+\/[gim]</em>/</p>
<ul>
<li>Bizarre notation, difficult to read</li>
</ul>
<h2 id="Threads">Threads</h2><ul>
<li><p>The language definition is neutral on threads.</p>
</li>
<li><p>Some language processors (like SpiderMonkey) provide thread support</p>
</li>
<li><p>Most application environments (like browsers) do not provide it</p>
</li>
<li><p>Threads are evil</p>
</li>
</ul>
<h2 id="Platforms">Platforms</h2><ul>
<li><p>Browsers</p>
</li>
<li><p>Windows Script Host and Dashboard</p>
</li>
<li><p>Yahoo!Widgets</p>
</li>
<li><p>DreamWeaver and Photoshop</p>
</li>
<li><p>Embedded</p>
</li>
</ul>
<h2 id="ActionScript">ActionScript</h2><ul>
<li>Empty strings are truthy</li>
<li>keywords are case insensitive</li>
<li>No Unicode support</li>
<li>No <code>RegExp</code></li>
<li>No <code>try</code></li>
<li>No statement labels</li>
<li><code>||</code> and <code>&amp;&amp;</code> return booleans</li>
<li>separate operators for strings and numbers </li>
</ul>
<h2 id="E4X">E4X</h2><ul>
<li>Extensions to ECMAScript for XML</li>
<li>Proposed by BEA</li>
<li>Allows <xml> literals</xml></li>
<li>Not compatible with ECMAScript Third Edition</li>
<li>Not widly accepted yet</li>
<li>Not in IE7</li>
</ul>
<h2 id="Style">Style</h2><ul>
<li>Progamming style isnt about personal taste.</li>
<li>It is about rigor in expression.</li>
<li>It is about clearness in presentation.</li>
<li>It is about product adaptability and longevity.</li>
<li>Good rules help us to keep the quality of our programs high.</li>
</ul>
<h2 id="Style_and_JavaScript">Style and JavaScript</h2><ul>
<li><p>Style is critically important for JavaScript.</p>
</li>
<li><p>The dynamic nature of the language is considered by some to be “too soft”.<br>Discipline is necessary for balance.</p>
</li>
<li><p>Most of the world’s body of JavaScript programs is crap.</p>
</li>
</ul>
<p>Code Conventions for the JavaScript Programming Language</p>
<p><a href="http://JavaScript.crockford.com/code.html" target="_blank" rel="external">http://JavaScript.crockford.com/code.html</a></p>
<p>Semicolon insertion </p>
<ul>
<li>When the compiler sees an error, it attempts to replace an nearby linefeed(n.换行) with a semicolon and try again.</li>
<li>This should alarm you.</li>
<li>It can mask errors.</li>
<li>Always use the full, correct forms, including semicolons.</li>
</ul>
<p>Line Ending</p>
<p>Break a line after a punctuator:<br>,.;:{} ([=&lt;&gt;?!+-<em>/%~^|&amp;==!=&lt;=&gt;+=-=</em>=/=%=^=|=&amp;=&lt;&lt;&gt;&gt;||&amp;&amp;===!==&lt;&lt;= &gt;&gt;= &gt;&gt;&gt; &gt;&gt;&gt;=</p>
<p>Do not break after a name, string, number, or ) ] ++ —</p>
<p>Defense against copy/paste errors.</p>
<p>Comma</p>
<ul>
<li><p>Avoid tricky expressions using the comma operators.tags: JavaScript</p>
</li>
<li><p>Do not use extra commas in array literals.</p>
</li>
<li><p>Good: [1, 2, 3]</p>
</li>
<li>Bad: [1, 2, 3,]</li>
</ul>
<p>Required Blocks</p>
<ul>
<li><p>Good:<br>if (a) {<br>  b();<br>}</p>
</li>
<li><p>Bad:<br>  if (a) b();</p>
</li>
</ul>
<p>Forbidden Blocks<br>Blocks do not have scope in JavaScript</p>
<p>Blocks should only be used with structured statements<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span></span><br><span class="line"><span class="title">if</span></span><br><span class="line"><span class="title">switch</span></span><br><span class="line"><span class="title">while</span></span><br><span class="line"><span class="title">for</span></span><br><span class="line"><span class="title">do</span></span><br><span class="line"><span class="title">try</span></span></span><br></pre></td></tr></table></figure></p>
<p>Variables</p>
<ul>
<li><p>Define all variables at the beginning of the function.</p>
</li>
<li><p>JavaScript does not have block scope, so their is no advantage in declaring variables at the place of their first use.</p>
</li>
</ul>
<p>Expression Statements</p>
<p>Any expression can be used as a statement. That can mask errors.</p>
<p>Only assignement expressions and invocation expressions should be used as statements.</p>
<p>Good:<br>    foo();<br>Bad:<br>    foo &amp;&amp; foo();</p>
<p>switch Statement<br>Avoid <code>using</code> fallthrough.</p>
<p>Each clause should explicitly <code>break</code> or <code>return</code> or <code>throw</code>.</p>
<p>Assignment Expressions</p>
<p>Do not use assignment expressions in the condition parts of <code>if</code>, <code>while</code>, or <code>for</code>.</p>
<p>It is more likely that<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (a = b) &#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p>was intended to be<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (a == b) &#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p>Avoid tricky expressions.</p>
<p>== and !=<br>Be aware that == and != do type coercion.</p>
<p>Bad<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (a == <span class="literal">null</span>) &#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p>Good:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (a === <span class="literal">null</span>) &#123; ... &#125;</span><br><span class="line"><span class="keyword">if</span> (!a) &#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p>Labels<br>Use labels only on these statements:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">for</span></span><br><span class="line"><span class="keyword">switch</span></span><br><span class="line"><span class="keyword">while</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>Never use <code>JavaScript:</code> as a label.</li>
</ul>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/">&laquo;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/8/">&raquo;</a>
  </nav>

 </div>

        

        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="css/images/1035498.gif" alt="Chandler" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Chandler</p>
        </div>
        <p class="site-description motion-element" itemprop="description">Chandler's Blog</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">46</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">categories</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">34</span>
              <span class="site-state-item-name">tags</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chandler</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
