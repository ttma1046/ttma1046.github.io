<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>


    <meta name="description" content="Chandler's Blog" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="Chandler&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Amateur Programming">
<meta property="og:url" content="http://github.com/ttma1046/page/5/index.html">
<meta property="og:site_name" content="Amateur Programming">
<meta property="og:description" content="Chandler&apos;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Amateur Programming">
<meta name="twitter:description" content="Chandler&apos;s Blog">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>

  <title> Amateur Programming </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">Amateur Programming</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            Tags
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 
  <section id="posts" class="posts-expand">
    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/15/eloquentjavascriptch3note/" itemprop="url">
                Eloquent Javasript - Chapter 3 - Functions (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-09-15T12:24:16+00:00" content="2015-09-15">
            2015-09-15
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><img src="/gallery/functions.png" alt="functions"></p>
<p><a href="http://watchandcode.com/courses/eloquent-Javasript-the-annotated-version/lectures/206284" target="_blank" rel="external">Eloquent Javasript(The Annotated Version) - Chapter 3 - Functions</a></p>
<h3 id="Defining_a_function">Defining a function</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">var square = function(x) &#123;&#10;  return x * x;&#10;&#125;;&#10;&#10;console.log(square(12));&#10;// &#8594; 144</span><br></pre></td></tr></table></figure>
<p>Functions starts with keyword <code>function</code>, has a set of <code>parameters</code> and a <code>body</code> which contains the statements that are to be executed.</p>
<p>The <code>body</code> wrapped in braces.</p>
<p>A function can have multiple parameters or no parameters at all.</p>
<p>A return statement determines the value the function returns.</p>
<p>The return keyword without an expression after it will cause the function to return undefined.</p>
<p><a href="https://myblog-ttma1046.c9.io/2015/08/20/douglascrockfordJavasriptnote/#Return_statement" target="_blank" rel="external">Return statement - Douglas Crockford - The Javasript Programming Language (Notes)</a></p>
<blockquote>
<p>In Javasript, every function will return a result, no void type in js.</p>
<ol>
<li><p>If there is no expression, then the return value is undefined.</p>
</li>
<li><p>Except for constructors, whose default return value is this.</p>
</li>
</ol>
</blockquote>
<h3 id="Parameters_and_scopes">Parameters and scopes</h3><p>The parameters to a function behave like regular variables, but their initial values are given by the caller of the function, not the code in the function itself.</p>
<p>An important property of functions is that <strong>the variables created inside of them, including their parameters, are <code>local</code> to the function.</strong></p>
<p>This “localness” of variables applies only to the parameters and to variables declared with the <strong>var</strong> keyword inside the function body. </p>
<p>Variables declared outside of any function are called <code>global</code>, because they are visible throughout the program.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var x = &#34;outside&#34;;&#10;&#10;var f1 = function() &#123;&#10;  // The use of var here is extremely important.&#10;  // If you declare a variable in a function using var,&#10;  // The variable will only be visible inside the function.&#10;  // In other words it&#8217;s &#8216;local&#8217; to the function.&#10;  var x = &#34;inside f1&#34;;&#10;&#125;;&#10;f1();&#10;// Since we&#8217;re not inside the function anymore,&#10;// if we print x, we&#8217;ll get &#8220;outside&#8221;.&#10;console.log(x);&#10;// &#8594; outside&#10;&#10;var f2 = function() &#123;&#10;  // We didn&#8217;t use var here, so the line below&#10;  // will actually grab the x that we declared in the&#10;  // first line of our program and set it equal to &#8220;inside f2&#8221;&#10;  // instead of its initial value, &#8220;outside&#8221;.&#10;  x = &#34;inside f2&#34;;&#10;&#125;;&#10;f2();&#10;// Since f2() changed the x outside of the function,&#10;// printing x outside the function will give us &#8220;inside f2&#8221;.&#10;console.log(x);&#10;// &#8594; inside f2</span><br></pre></td></tr></table></figure>
<h3 id="Nested_scope">Nested scope</h3><p>In short, each local scope can also see all the local scopes that contain it. </p>
<p>The set of variables visible inside a function is determined by the place of that function in the program text. </p>
<p>All variables from blocks around a function’s definition are visible—meaning both those in function bodies that enclose it and those at the top level of the program. </p>
<p>This approach to variable visibility is called lexical scoping.</p>
<blockquote>
<p><strong>In Javasript, functions are the only things that create a new scope not braces.</strong></p>
</blockquote>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var something = 1;&#10;&#123;&#10;  var something = 2;&#10;  // Do stuff with variable something...&#10;&#125;&#10;// Outside of the block again...</span><br></pre></td></tr></table></figure>
<p>But the <code>something</code> inside the block refers to the same variable as the one outside the block.</p>
<p>The next version of Javasript will introduce a <code>let</code> keyword, which works like <code>var</code> but creates a variable that is local to the enclosing <em>block</em>, not the enclosing <em>function</em>.</p>
<h3 id="Functions_as_values">Functions as values</h3><p>Function variables usually simply act as names for a specific piece of the program.<br>Such a variable is defined once and never changed.<br>This makes it easy to start confusing the function and its name.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var func = function() &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>function variable: Left side of the equation.<br>function value: Right side of the equation. </p>
<h3 id="Declaration_notation">Declaration notation</h3><p>There is a slightly shorter way to say “var square = function…”. The <code>function</code> keyword can also be used at the start of a statement, as in the following:</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function square(x) &#123;&#10;  return x * x;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>This is a function declaration.</p>
<p>There is one subtlety with this form of function definition, however.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">console.log(&#34;The future says:&#34;, future());&#10;&#10;function future() &#123;&#10;  return &#34;We STILL have no flying cars.&#34;;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>This code works, even though the function is defined below the code that uses it. </p>
<p>This is because function declarations are not part of the regular top-to-bottom flow of control. </p>
<p>They are conceptually moved to the top of their scope and can be used by all the code in that scope. </p>
<p>This is sometimes useful because it gives us the freedom to order code in a way that seems meaningful, without worrying about having to define all functions above their first use.</p>
<p><strong> Do not define functions inside of control flow. </strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function example() &#123;&#10;  function a() &#123;&#125; // Okay&#10;  if (something) &#123;&#10;    function b() &#123;&#125; // Danger!&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="The_call_stack">The call stack</h3><p>Because a function has to jump back to the place of the call when it returns, the computer must remember the context from which the function was called. </p>
<p>In one case, console.log has to jump back to the greet function. </p>
<p>In the other case, it jumps back to the end of the program.</p>
<p>The place where the computer stores this context is the call stack. </p>
<p>Every time a function is called, the current context is put on top of this “stack”. </p>
<p>When the function returns, it removes the top context from the stack and uses it to continue execution.</p>
<p>If you want a more detailed explanation about call stacks and how Javasript interprets code, this blog post is very good:<br><a href="http://davidshariff.com/blog/what-is-the-execution-context-in-Javasript/" target="_blank" rel="external">http://davidshariff.com/blog/what-is-the-execution-context-in-Javasript/</a></p>
<h3 id="Optional_Arguments">Optional Arguments</h3><p>Javasript is extremely broad-minded about the number of arguments you pass to a function. </p>
<p>If you pass too many, the extra ones are ignored. </p>
<p>If you pass too few, the missing parameters simply get assigned the value <code>undefined</code>.</p>
<p>The downside of this is that it is possible—likely, even—that you’ll accidentally pass the wrong number of arguments to functions and no one will tell you about it.</p>
<p>The upside is that this behavior can be used to have a function take “optional” arguments.</p>
<h3 id="Closure">Closure</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">function wrapValue(n) &#123;&#10;  var localVariable = n;&#10;  return function() &#123; return localVariable; &#125;;&#10;&#125;&#10;&#10;var wrap1 = wrapValue(1);&#10;var wrap2 = wrapValue(2);&#10;console.log(wrap1());&#10;// &#8594; 1&#10;console.log(wrap2());&#10;// &#8594; 2</span><br></pre></td></tr></table></figure>
<p>In fact, multiple instances of the variable can be alive at the same time, which is another good illustration of the concept that local variables really are re-created for every call—different calls can’t trample on one another’s local variables.</p>
<p>This feature—being able to reference a specific instance of local variables in an enclosing function—is called closure. A function that “closes over” some local variables is called a closure. This behavior not only frees you from having to worry about lifetimes of variables but also allows for some creative use of function values.</p>
<h3 id="Recursion">Recursion</h3><p>It is perfectly okay for a function to call itself, as long as it takes care not to overflow the stack. A function that calls itself is called <em>recursive</em>.</p>
<h3 id="Growing_functions">Growing functions</h3><p>There are two more or less natural ways for functions to be introduced into programs.</p>
<ol>
<li><p>The first is that you find yourself writing very similar code multiple times. We want to avoid doing that since having more code means more space for mistakes to hide and more material to read for people trying to understand the program. So we take the repeated functionality, find a good name for it, and put it into a function.</p>
</li>
<li><p>The second way is that you find you need some functionality that you haven’t written yet and that sounds like it deserves its own function. You’ll start by naming the function, and you’ll then write its body. You might even start writing code that uses the function before you actually define the function itself.</p>
</li>
</ol>
<p>How difficult it is to find a good name for a function is a good indication of how clear a concept it is that you’re trying to wrap.</p>
<h3 id="Functions_and_side_effects">Functions and side effects</h3><p>Functions can be roughly divided into those that are called for their side effects and those that are called for their return value. (Though it is definitely also possible to have both side effects and return a value.)</p>
<p>A pure function is a specific kind of value-producing function that not only has no side effects but also doesn’t rely on side effects from other code—for example, it doesn’t read global variables that are occasionally changed by other code. </p>
<p>A pure function has the pleasant property that, when called with the same arguments, it always produces the same value (and doesn’t do anything else). </p>
<p>This makes it easy to reason about. </p>
<p>A call to such a function can be mentally substituted by its result, without changing the meaning of the code. </p>
<p>When you are not sure that a pure function is working correctly, you can test it by simply calling it, and know that if it works in that context, it will work in any context.</p>
<p>Nonpure functions might return different values based on all kinds of factors and have side effects that might be hard to test and think about.</p>
<h3 id="Exercises">Exercises</h3><p>Minimum</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function min(a, b) &#123;&#10;  if (a &#60; b)&#10;    return a;&#10;  else&#10;    return b;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Recursion</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"> function isEven(n) &#123;&#10;   // Base case 1, n is even.&#10;   if (n == 0)&#10;     return true;&#10;   // Base case 2, n is odd.&#10;   else if (n == 1)&#10;     return false;&#10;   // Handle negative numbers by just&#10;   // making them positive.&#10;  else if (n &#60; 0)&#10;    return isEven(-n);&#10;  // Recursive case.&#10;  else&#10;    return isEven(n - 2);&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Bean counting</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function countBs(sampleString) &#123;&#10;  var counted = 0;&#10;  for (var i = 0; i &#60; sampleString.length; i++) &#10;    if (sampleString.charAt(i) == &#39;B&#39;)&#10;      counted += 1;&#10;  return counted;&#10;&#125;&#10;&#10;function countChar(sampleString, searchForChar) &#123;&#10;  var counted = 0;&#10;  for (var i = 0; i &#60; sampleString.length; i++ )&#10;    if (sampleString.charAt(i) == searchForChar)&#10;      counted += 1;&#10;  return counted;&#10;&#125;&#10;&#10;function countBs(sampleString) &#123;&#10;  return countChar(sampleString, &#34;B&#34;);&#10;&#125;</span><br></pre></td></tr></table></figure></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/10/eloquentjavascriptch2note/" itemprop="url">
                Eloquent Javasript - Chapter 2 - Program Structure (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-09-10T23:04:30+00:00" content="2015-09-10">
            2015-09-10
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><img src="/gallery/octopus.jpg" alt="octopus"></p>
<p><a href="http://watchandcode.com/courses/eloquent-Javasript-the-annotated-version/lectures/203644" target="_blank" rel="external">Eloquent Javasript(The Annotated Version) - Chapter 2 - Program Structure</a></p>
<h3 id="Expressions_and_statements">Expressions and statements</h3><p>an expression is a sentence fragment, a Javasript statement is a full sentence in a human language.</p>
<p><strong>“Expression”</strong> is:</p>
<ol>
<li>simply values</li>
<li>made some values and then applied operatros to them to get new values.</li>
<li>An expression between parentheses </li>
<li>a binary operator applied to two expressions</li>
<li>a unary operator applied to one expression</li>
</ol>
<p><strong>“Statement”</strong> is:</p>
<ol>
<li>an expression -&gt; a sentence fragment<br>a Javasript statement -&gt; a full sentence in a human language.</li>
<li>A program is simply a list of statements.</li>
</ol>
<blockquote>
<p><strong>Recommending that every statement needs a semicolon will always be terminated by one.</strong></p>
</blockquote>
<h3 id="Variables">Variables</h3><p>The special word (<em>keyword</em>) <code>var</code> indicates that this sentence is going to define a variable. It is followed by the name of the variable and, if we want to immediately give it a value, by an <code>=</code> operator and an expression.</p>
<p><strong>Naming Variables:</strong></p>
<ol>
<li><strong>Variable names can be any word that isn’t a reserved word (such as <code>var</code>).</strong></li>
<li><strong>Digits can also be part of variable names, but the name must not start with a digit</strong>.</li>
<li>Variable names no punctuation, except for <code>$</code> and <code>_</code>.</li>
</ol>
<p><strong>Variables vs Values:</strong></p>
<ol>
<li>Variables do not contain values, variables refer to values.</li>
<li>two variables can refer to the same values</li>
<li>A program can access only the values that it still has a hold on via variables it contains.</li>
</ol>
<blockquote>
<p><strong>you create a variable to grasp the value or you change the existing variable to grasp the value.</strong></p>
<p><strong>When you define a variable without giving it a value, If you ask for the value of an empty variable, you’ll get the value undefined.</strong></p>
<p><strong>Variable names are also case sensitive. So newVariable is not the same as NewVariable.</strong></p>
</blockquote>
<h3 id="Keywords_and_reserved_words">Keywords and reserved words</h3><p>a number of words “reserved for use” in Javasript world. Not allowed to be used as variable names.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">break case catch class const continue debugger&#10;default delete do else enum export extends false&#10;finally for function if implements import in&#10;instanceof interface let new null package private&#10;protected public return static super switch this&#10;throw true try typeof var void while with yield</span><br></pre></td></tr></table></figure>
<p><a href="https://myblog-ttma1046.c9.io/2015/08/20/douglascrockfordJavasriptnote/#Reserved_Words" target="_blank" rel="external">Reserved words in Douglas Crockford - The Javasript Programming Language (Notes)</a></p>
<h3 id="The_environment">The environment</h3><p>The collection of variables and their values that exist at a given time is called the <em>environment</em>.</p>
<h3 id="Functions">Functions</h3><p>Function is a <strong>type</strong> - a piece of program wrapped in a value.</p>
<ol>
<li>Executing a function is called <em>invoking</em>, <em>calling</em>, or <em>applying</em> it.</li>
<li>You can call a function by <strong>putting parentheses after an expression that produces a function value</strong>.</li>
<li>Usually you’ll directly use the name of the variable that holds the funciton.</li>
<li>The values between the parentheses are given to the program inside the function.<br> Values given to functions are called arguments. </li>
</ol>
<h3 id="The_console-log_function">The console.log function</h3><p>Use <code>console.log</code> to output values.<br>why contain period characters?<br>We will find out exactly what this means in Chapter 4.</p>
<h3 id="Return_values">Return values</h3><p>When a function produces a value, it is said to return that value.<br>Anything that produces a value is an expression in Javasript, which means function calls can be used within larger expressions.</p>
<p>The next chapter(chapter 3) explains how to write your own functions.</p>
<h3 id="Prompt_and_Confirm">Prompt and Confirm</h3><p><code>confirm(&quot;Shall we, then?&quot;);</code><br><code>prompt(&quot;Tell me everything you know.&quot;, &quot;...&quot;);</code></p>
<h3 id="Control_flow">Control flow</h3><p>More than one statement are executed from top to bottom.</p>
<h3 id="Conditional_execution">Conditional execution</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">if (...)&#10;    ....&#10;else if (...)&#10;    ....&#10;else&#10;    ....</span><br></pre></td></tr></table></figure>
<h3 id="While_and_do_loops">While and do loops</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">while (...) &#123;&#10;...&#10;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">do &#123;&#10;...&#10;&#125;&#10;while (...)</span><br></pre></td></tr></table></figure>
<h3 id="Indenting_Code">Indenting Code</h3><blockquote>
<p>To make the structure of the code stand out</p>
</blockquote>
<h3 id="For_loops">For loops</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">var result = 1;&#10;for (var counter = 0; counter &#60; 10; counter = counter + 1)&#10;&#123;&#10;    result = result * 2;&#10;&#125;&#10;&#10;console.log(result);</span><br></pre></td></tr></table></figure>
<h3 id="Breaking_Out_of_a_Loop">Breaking Out of a Loop</h3><p><code>break</code> and <code>continue</code></p>
<h3 id="Updating_variables_succinctly">Updating variables succinctly</h3><p><code>+=</code><br><code>*=</code><br><code>-=</code><br><code>++</code><br><code>--</code></p>
<h3 id="Dispatching_on_a_value_with_switch">Dispatching on a value with switch</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">switch (prompt(&#34;What is the weather like?&#34;)) &#123;&#10;  case &#34;rainy&#34;:&#10;    console.log(&#34;Remember to bring an umbrella.&#34;);&#10;    break;&#10;  case &#34;sunny&#34;:&#10;    console.log(&#34;Dress lightly.&#34;);&#10;  case &#34;cloudy&#34;:&#10;    console.log(&#34;Go outside.&#34;);&#10;    break;&#10;  default:&#10;    console.log(&#34;Unknown weather type!&#34;);&#10;    break;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Capitalization">Capitalization</h3><p>Camel Case and Pascal Case in Chapter 6.</p>
<h3 id="Comments">Comments</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">// slash slash&#10;&#10;/*&#10;slash star&#10;star slash&#10;*/</span><br></pre></td></tr></table></figure>
<h3 id="Exercises">Exercises</h3><p>1.Write a loop that makes seven calls to console.log to output the following triangle:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#&#10;##&#10;###&#10;####&#10;#####&#10;######&#10;#######</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">for (var line = &#34;#&#34;; line.length &#60; 8; line += &#34;#&#34;)&#10;  console.log(line);</span><br></pre></td></tr></table></figure>
<p>My solution<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">for(i = 1; i &#60; 8; i++)&#10;&#123;&#10;    var j = 0;&#10;    var wall = &#34;&#34;;&#10;    &#10;    while (j &#60; i)&#10;    &#123;&#10;        wall += &#34;#&#34;;&#10;        j++&#10;    &#125;&#10;    console.log(wall);&#10;    console.log(&#34;\n&#34;);&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>2.FizzBuzz</p>
<p>Write a program that uses console.log to print all the numbers from 1 to 100, with two exceptions. For numbers divisible by 3, print “Fizz” instead of the number, and for numbers divisible by 5 (and not 3), print “Buzz” instead.</p>
<p>When you have that working, modify your program to print “FizzBuzz”, for numbers that are divisible by both 3 and 5 (and still print “Fizz” or “Buzz” for numbers divisible by only one of those).</p>
<p>(This is actually an interview question that has been claimed to weed out a significant percentage of programmer candidates. So if you solved it, you’re now allowed to feel good about yourself.)</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">for (var n = 1; n &#60;= 100; n++) &#123;&#10;  var output = &#34;&#34;;&#10;  if (n % 3 == 0)&#10;    output += &#34;Fizz&#34;;&#10;  if (n % 5 == 0)&#10;    output += &#34;Buzz&#34;;&#10;  console.log(output || n);&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Paul Irish’s solution<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">for (var i = 1; i &#60;= 100; i++) &#123;&#10;  var f = i % 3 == 0, b = i % 5 == 0;&#10;  console.log(f ? b ? &#34;FizzBuzz&#34; : &#34;Fizz&#34; : b ? &#34;Buzz&#34; : i);&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>My solution<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">for (i = 1; i &#60; 101; i++) &#123;&#10;    if (i%3 == 0 &#38;&#38; i%5 == 0) &#123;&#10;        console.log(&#34;FizzBuzz&#34;);&#10;        continue;&#10;    &#125;&#10;    &#10;    if (i%3 == 0) &#123;&#10;        console.log(&#34;Fizz&#34;);&#10;    &#125;&#10;    else if (i%5 == 0) &#123;&#10;        console.log(&#34;Buzz&#34;);&#10;    &#125;&#10;    else &#123;&#10;        console.log(i);&#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>3.Write a program that creates a string that represents an 8×8 grid, using newline characters to separate lines. At each position of the grid there is either a space or a “#” character. The characters should form a chess board.</p>
<p>Passing this string to console.log should show something like this:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> # # # #&#10;# # # #&#10; # # # #&#10;# # # #&#10; # # # #&#10;# # # #&#10; # # # #&#10;# # # #</span><br></pre></td></tr></table></figure></p>
<p>When you have a program that generates this pattern, define a variable size = 8 and change the program so that it works for any size, outputting a grid of the given width and height.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var size = 8;&#10;&#10;var board = &#34;&#34;;&#10;&#10;for (var y = 0; y &#60; size; y++) &#123;&#10;  for (var x = 0; x &#60; size; x++) &#123;&#10;    if ((x + y) % 2 == 0)&#10;      board += &#34; &#34;;&#10;    else&#10;      board += &#34;#&#34;;&#10;  &#125;&#10;  board += &#34;\n&#34;;&#10;&#125;&#10;&#10;console.log(board);</span><br></pre></td></tr></table></figure></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/02/douglascrockfordaninconvenientAPIthetheoryoftheDOMnotes/" itemprop="url">
                Douglas Crockford - An Inconvenient API - The Theory of the DOM (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-09-02T13:15:39+00:00" content="2015-09-02">
            2015-09-02
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><a href="http://www.youtube.com/watch?v=Y2Y0U-2qJMs" target="_blank" rel="external"><img src="http://img.youtube.com/vi/Y2Y0U-2qJMs/0.jpg" alt="Douglas Crockford - An Inconvenient API - The Theory of the DOM"></a></p>
<p><a href="https://www.youtube.com/watch?v=Y2Y0U-2qJMs" target="_blank" rel="external">Douglas Crockford - An Inconvenient API - The Theory of the DOM</a></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/31/douglascrockfordadvancedjavascriptnote/" itemprop="url">
                Douglas Crockford - Advanced Javasript (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-31T04:09:32+00:00" content="2015-08-31">
            2015-08-31
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><a href="http://www.youtube.com/watch?v=DwYPG6vreJg" target="_blank" rel="external"><img src="http://img.youtube.com/vi/DwYPG6vreJg/0.jpg" alt="Douglas Crockford -  Advanced Javasript"></a></p>
<p><a href="https://www.youtube.com/watch?v=DwYPG6vreJg" target="_blank" rel="external">Douglas Crockford - Advanced Javasript</a></p>
<p>*Inheritance</p>
<p>*Modules</p>
<p>*Debugging</p>
<p>*Effiency</p>
<p>*JSON</p>
<h2 id="Inheritance">Inheritance</h2><ul>
<li><p>Inheritance is object-oriented code reuse.</p>
</li>
<li><p>Two Schools:</p>
<ul>
<li><p>Classical</p>
</li>
<li><p>Prototypal - which Javasript is about the only instance.</p>
</li>
</ul>
</li>
</ul>
<h3 id="Classical_Inheritance">Classical Inheritance</h3><ul>
<li><p>Objects are instances of classes.</p>
</li>
<li><p>A class inherits from another class.</p>
</li>
</ul>
<h3 id="Prototypal_Inheritance">Prototypal Inheritance</h3><ul>
<li><p>Class-free</p>
</li>
<li><p>Objects inherit from objects.</p>
</li>
<li><p>An object contains a secret link to another object.</p>
</li>
<li><p>Mozilla calls it <strong>proto</strong> .</p>
</li>
</ul>
<p><code>var newObject = object(oldObject);</code></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var oldObject = &#123;&#10;    firstMethod: function () &#123; ... &#125;,&#10;    secondMethod: function () &#123; ... &#125;&#10;&#125;;&#10;&#10;var newObject = object(oldObject);&#10;&#10;newObject.thirdMethod = function () &#123; ... &#125;;&#10;&#10;var myDoppelganger = object(newObject);&#10;&#10;myDoppelganger.firstMethod();</span><br></pre></td></tr></table></figure>
<h3 id="Prototypal_Inheritance-1">Prototypal Inheritance</h3><p>The way it works is if we try to access a property of an object,</p>
<p>and that  object lacks that property, then we follow the linkage</p>
<p>to the object that it inheritance from to see if it has it,</p>
<p>if it does, than it provides the access. </p>
<p>If the access fails, then we can continue the search from this one.</p>
<p>Alternative, it stops at Object.prototype because Object.prototype is the end of the chain.</p>
<ul>
<li><p>If an object has a <code>foo</code> property, then the chain will not be consulted when accessing member <code>foo</code>.</p>
<p>newObject.foo -&gt; newObject[‘foo’]</p>
</li>
<li><p>If access of a member of newObject fails, then search for the member in oldObject.</p>
</li>
<li><p>If that fails, then search for the member in Object.prototype.</p>
</li>
</ul>
<p>newObject -&gt; oldObject</p>
<h3 id="Prototypal_Inheritance-2">Prototypal Inheritance</h3><ul>
<li><p>Changes in <code>oldObject</code> may be immediately visible in <code>newObject</code>.</p>
</li>
<li><p>Changes to <code>newObject</code> have no effect on <code>oldObject</code>.</p>
</li>
</ul>
<h3 id="Prototypal_Inheritance-3">Prototypal Inheritance</h3><p><code>oldObject</code> can be the prototype for an unlimited number of objects which will all inherit its properities.</p>
<h3 id="Prototypal_Inheritance-4">Prototypal Inheritance</h3><ul>
<li><p><code>newObject</code> can be the prototype for an unlimited number of even newer objects.</p>
</li>
<li><p>There is no limit to the length of the  chain (except common sense).</p>
</li>
</ul>
<h3 id="Augmentation">Augmentation</h3><ul>
<li><p>Using the <code>object</code> function, we can quickly produce new objects that have the same state and behavior as exising objects.</p>
</li>
<li><p>We can then augment each of the instances by assigning new methods and members.</p>
</li>
</ul>
<h3 id="Pseudoclassical">Pseudoclassical</h3><ul>
<li><p>A prototypal inheritance language should have an operator like the <code>object</code><br>function, which makes a new object using an existing object as its prototype.</p>
</li>
<li><p>Javasript instead uses operators that look classical, but behave prototypally.</p>
</li>
<li><p>They tried to have it both ways.</p>
</li>
</ul>
<h3 id="Pseudoclassical-1">Pseudoclassical</h3><p>Three mechanisms:</p>
<ul>
<li><p><code>Constructor</code> functions.</p>
</li>
<li><p>The <code>new</code> operator.</p>
</li>
<li><p>The <code>prototype</code> member of functions.</p>
</li>
</ul>
<h3 id="new_operator"><code>new</code> operator</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">function Constructor() &#123;&#10;    this.member = initialiser;&#10;    return this; // optinonal&#10;&#125;&#10;&#10;Constructor.prototype.firstMethod = &#10;    function (a, b) &#123; ... &#125;;&#10;&#10;Constructor.prototype.secondMethod =&#10;    function (c) &#123; ... &#125;;&#10;&#10;var newobject = new Constructor() ;</span><br></pre></td></tr></table></figure>
<h3 id="Constructor">Constructor</h3><ul>
<li><p>When functions are designed to be used with <code>new</code>, they are called<br>constructors.</p>
</li>
<li><p>Constructors are used to make objects of a type or class/<strong>seudoclass</strong>.</p>
</li>
<li><p>Javasript’s notation can get a little strange because it is trying to look like the old familiar classical pattern, while also trying to be something really different.</p>
</li>
</ul>
<h3 id="new_operator-1"><code>new</code> operator</h3><p>new <code>Constructor()</code> returns a new object with a link to<br><code>Constructor.prototype</code>.</p>
<p><code>var newObject = new Constructor();</code></p>
<h3 id="new_operator-2">new operator</h3><p>The <code>Constructor()</code> function is passed the new object in the <code>this</code> variable.</p>
<p>This allows the <code>Constructor</code> function to customize the new object.</p>
<h3 id="Warning">Warning</h3><ul>
<li><p>The <code>new</code> operator is <strong>required</strong> when calling a Constructor.</p>
</li>
<li><p>If <code>new</code> is ommited, the global object is clobbered by the constructor, <code>this</code> would be the global object.<br>and then the global object is returned instead of a new instance.</p>
</li>
</ul>
<h3 id="Prototype">Prototype</h3><ul>
<li><p>When a function object is created, it is given a <code>prototype</code> member which is an object containing a <code>constructor</code> member which is a reference to the function object.</p>
</li>
<li><p>You can add other members to function’s <code>prototype</code>. These members will be linked into objects that are produced by calling the function with the <code>new</code> operator.</p>
</li>
<li><p>This allows for adding constants and methods to every object produced, without the objects having to be enlarged to contain them.</p>
</li>
<li><p>Differential Inheritance.</p>
</li>
</ul>
<h3 id="method_method"><code>method</code> method</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">Function.prototype.method = &#10;    function (name, func) &#123;&#10;    this.prototype[name] = func;&#10;    return this;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Constructor.<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">method(&#39;first_method&#39;, &#10;    function (a, b) &#123;...&#125;).&#10;method(&#39;second_method&#39;, &#10;    function (c) &#123;...&#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="Pseudoclassical_Inheritance">Pseudoclassical Inheritance</h3><ul>
<li><p>Classical Inheritance can be simulated by assigning an object created by one constructor to the prototype member of another.</p>
</li>
<li><p>This does not work exactly like the classical model.</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function BiggerConstructor() &#123;&#125;;&#10;&#10;BiggerConstructor.prototype = new MyConstructor();</span><br></pre></td></tr></table></figure>
<p>Example </p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function Gizmo(id) &#123;&#10;    this.id = id;&#10;&#125;&#10;&#10;Gizmo.prototype.toString = function () &#123;&#10;    return &#34;gizmo &#34; + this.id;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Inheritance-1">Inheritance</h3><ul>
<li>If we replace the original prototype object with an instance of an object of another class, then we can inherit another class’s stuff.</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function Hoozit(id) &#123;&#10;    this.id = id;&#10;&#125;&#10;&#10;Hoozit.prototype = new Gizmo();&#10;&#10;Hoozit.prototype.test = function (id) &#123;&#10;    return this.id === id;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="object_function"><code>object</code> function</h3><p>A prototypal inheritance language should have an operator like the <code>object</code> function, which makes a new object using an existing object as its prototype.</p>
<p><code>object</code> function</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function object(o) &#123;&#10;    function F() &#123;&#125;&#10;    F.prototype = o;&#10;    return new F();&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Public Method</p>
<ul>
<li>A Public Method is a function that uses <code>this</code> to access its object.</li>
<li>A Public Method can be reused with many “classes”.</li>
</ul>
<p>Public Methods</p>
<p>function (string) {<br>    return this.member + string;<br>}</p>
<ul>
<li>We can put this function in any object at it works.</li>
<li>Public methods work extremely well with prototypal inheritance and with pseudoclassical Inheritance.</li>
</ul>
<p>Singletons</p>
<ul>
<li><p>There is no need to produce a class-like constructor for an object that will have exactly one instance.</p>
</li>
<li><p>Instead, simple use an object literal.</p>
</li>
</ul>
<p>Singletons<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">var singleton = &#123;&#10;  firstMethod: function (a, b)   &#123;&#10;    ...&#10;  &#125;,&#10;  secondMethod: function (c) &#123;&#10;    ...&#10;  &#125;&#10;&#125;;</span><br></pre></td></tr></table></figure></p>
<p>Singletons</p>
<ul>
<li>The methods of a singleton can enjoy access to shared private data and private methods.</li>
</ul>
<p>Functions<br>Functions are used as</p>
<ul>
<li>Functions</li>
<li>Methods</li>
<li>Constructors</li>
<li>Classes</li>
<li>Modules</li>
</ul>
<p>Module</p>
<ul>
<li>Variables defined in a module are only visible in the module.</li>
<li>Functions have scope.</li>
<li>Variables defined in a function only visible in the function.</li>
<li>Functions can be used a module containers.</li>
</ul>
<p>Global variables are evil </p>
<ul>
<li><p>Functions within an application can clobber each other.</p>
</li>
<li><p>Cooperating applications can clobber each other.</p>
</li>
<li><p>Use of the global namespace must be minimized.</p>
</li>
</ul>
<p>Another way to write Singletons<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">var singleton = function () &#123;&#10;    var privateVariable;&#10;    function privateFunction(x) &#123;&#10;        ... privateVariable ...&#10;    &#125;&#10;&#10;    return &#123;&#10;        firstMethod: function (a, b) &#123;&#10;            ... privateVariable ...&#10;        &#125;,&#10;        secondMethod: function (c) &#123;&#10;            ...privateFunction() ...&#10;        &#125;&#10;    &#125;;&#10;&#125;();</span><br></pre></td></tr></table></figure></p>
<p>Applications are Singletons</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">YAHOO.MyProperty = function () &#123;&#10;    var privateVariable;&#10;    function privateFunction(x) &#123;&#10;        ...privateVariable...&#10;    &#125;&#10;&#10;    return &#123;&#10;        firstMethod: function (a, b) &#123;&#10;        ...privateVariable...&#10;        &#125;,&#10;        secondMethod: function (c) &#123;&#10;            ...privateFunction()...&#10;        &#125;&#10;    &#125;;&#10;&#125;();</span><br></pre></td></tr></table></figure>
<p>Privileged Method</p>
<ul>
<li><p>A Privileged Method is a function that has access to secret information.</p>
</li>
<li><p>A Privileged Method has access to private variables and private methods.</p>
</li>
<li><p>A Privileged Method obtains its secret information through closure.</p>
</li>
</ul>
<p>Power Constructor</p>
<ul>
<li>Put the singleton module pattern in constructor function, and we have a power constructor pattern.</li>
</ul>
<ol>
<li>Make a new object somehow.</li>
<li>Augment it.</li>
<li>Return it. </li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function powerConstructor() &#123;&#10;    var that = object(oldObject), &#10;        privateVariable;&#10;    function privateFunction(x) &#123;&#125;&#10;&#10;    that.firstMethod = function (a, b) &#123;&#10;        ... privateVariable ...&#10;    &#125;;&#10;&#10;    that.secondMethod = function (c) &#123;&#10;        ... privateFunction() ...&#10;    &#125;;&#10; &#10;    return that;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Power Constructor</p>
<ul>
<li><p>Public methods (from the prototype)<br>  var that = object(my_base);</p>
</li>
<li><p>Private variables (var)</p>
</li>
<li><p>Private methods (inner functions)</p>
</li>
<li><p>Privileged methodss (that…)</p>
</li>
<li><p>No need to use <code>new</code><br>  myObject = power_constructor();</p>
</li>
</ul>
<p>Parasitic Inheritance</p>
<p>A power constructor calls another constructor, takes the result, augments it, and return it as though it did all the work.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function symbol(s, p) &#123;&#10;    return &#123;&#10;        id: s,&#10;        lbp: p,&#10;        value: s&#10;    &#125;;&#10;&#125; &#10;&#10;function delim(s) &#123;&#10;    return symbol(s, 0);&#10;&#125;&#10;&#10;function stmt(s, f) &#123;&#10;    var x = delim(s);&#10;    x.identifier = true;&#10;    x.reserved = true;&#10;    x.fud = f;&#10;    return x;&#10;&#125;&#10;&#10;function blockstmt(s, f) &#123;&#10;    var x = stmt(s, f);&#10;    x.block = true;&#10;    return x;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Pseudoclassical Inheritance</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function Gizmo(id) &#123;&#10;    this.id = id;&#10;&#125;&#10;&#10;Gizmo.prototype.toString = function () &#123;&#10;    return &#34;gizmo &#34; + this.id;&#10;&#125;;&#10;&#10;function Hoozit(id) &#123;&#10;    this.id = id;&#10;&#125;&#10;&#10;Hoozit.prototype = new Gizmo();&#10;&#10;Hoozit.prototype.test = function (id) &#123;&#10;    return this.id === id;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Parasitic Inheritance</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function gizmo(id) &#123;&#10;    return &#123;&#10;        id: id,&#10;        toString: function () &#123;&#10;            return &#34;gizmo &#34; + this.id;&#10;        &#125;&#10;    &#125;;&#10;&#125;&#10;&#10;function hoozit(id) &#123;&#10;    var that = gizmo(id);&#10;&#10;    that.test = function (testid) &#123;&#10;        return testid === this.id;&#10;    &#125;;&#10;&#10;    return that;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Secrets</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function gizmo(id) &#123;&#10;    return &#123;&#10;        toString: function () &#123;&#10;            return &#34;gizmo &#34; + id;&#10;        &#125;&#10;    &#125;;&#10;&#125;&#10;&#10;function hoozit(id) &#123;&#10;    var that = gizmo(id);&#10;&#10;    that.test = function (testid) &#123;&#10;        return testid === this.id;&#10;    &#125;;&#10; &#10;    return that;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Shared Secrets</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function gizmo(id, secret) &#123;&#10;    secret = secret || &#123;&#125;;&#10;    secret.id = id;&#10;    return &#123;&#10;        toString: function () &#123;&#10;            return &#34;gizmo &#34; + secret.id;&#10;        &#125;;&#10;    &#125;;&#10;&#125;&#10;&#10;function hoozit(id) &#123;&#10;    var secret = &#123;&#125;,    /*final*/&#10;        that = gizmo(id, secret);&#10;    &#10;    that.test = function (testid) &#123;&#10;        return testid === secret.id;&#10;    &#125;;&#10;&#10;    return that;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Super Methods<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">function boozit(id) &#123;&#10;    var secret = &#123;&#125;,&#10;        that = gizmo(id, secret),&#10;        super_toString = that.toString;&#10;&#10;    that.test = function (testid) &#123;&#10;        return testid === secret.id;&#10;    &#125;;&#10;&#10;    that.toString = function () &#123;&#10;        return super_toString.apply(that, []);&#10;    &#125;;&#10;&#10;    return that;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>Inheritance Patterns</p>
<ul>
<li><p>Prototypal Inheritance works really well with public methods.</p>
</li>
<li><p>Parasitic Inheritance works really well with privileged and private and public methods.</p>
</li>
<li><p>Pseudoclassical Inheritance for elderly programmers who are old and set in their ways.</p>
</li>
</ul>
<p>Working with the Grain</p>
<ul>
<li><p>Pseudoclassical patterns are less effective that prototypal patterns or parasitic patterns.</p>
</li>
<li><p>Formal classes are not needed for reuse or extension.</p>
</li>
<li><p>Be shallow. Deep hierarchies are not effective.</p>
</li>
</ul>
<p><code>later</code> method</p>
<p>The <code>later</code> method causes a method on the object to be invoked in the future.</p>
<p>my_object.later(1000, “erase”, true);</p>
<p><code>later</code> method<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">Object.prototype.later = &#10;    function (msec, method) &#123;&#10;        var that = this,&#10;            args = Array.prototype.slice.apply(arguments, [2]);&#10;&#10;        if (typeof method === &#39;string&#39;) &#123;&#10;            method = that[method];&#10;        &#125;&#10;&#10;        setTimeout(function () &#123;&#10;            method.apply(that, args);&#10;        &#125;, msec);&#10;&#10;        return that;&#10;    &#125;;</span><br></pre></td></tr></table></figure></p>
<p>Multiples</p>
<ul>
<li>when assigning functions in a loop, be aware that all of the functions are bound to the same closure.</li>
<li>This can be avoided by using a factor function to produce unique bindings.</li>
</ul>
<p>Multiples</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">for (i ...) &#123;&#10;    var div_id = divs[i].id;&#10;    divs[i].onmouseover = function () &#123;&#10;        show_element_id(div_id);&#10;    &#125;;&#10;&#125;&#10;&#10;for (i ...) &#123;&#10;    var div_id = divs[i].id;&#10;    divs[i].onmouseover = functioin (id) &#123;&#10;        return function () &#123;&#10;            show_element_id(id);&#10;        &#125;;&#10;    &#125;(div_id);&#10;&#125;</span><br></pre></td></tr></table></figure>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/20/douglascrockfordjavascriptnote/" itemprop="url">
                Douglas Crockford - The Javasript Programming Language (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-20T11:02:40+00:00" content="2015-08-20">
            2015-08-20
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><a href="http://www.youtube.com/watch?v=v2ifWcnQs6M" target="_blank" rel="external"><img src="http://img.youtube.com/vi/v2ifWcnQs6M/0.jpg" alt="Douglas Crockford - The Javasript Programming Language"></a></p>
<p><a href="https://www.youtube.com/watch?v=v2ifWcnQs6M" target="_blank" rel="external">Douglas Crockford - The Javasript Programming Language</a></p>
<p><em>Numbers
</em>Strings<br><em>Booleans
</em>Objects<br><em>null
</em>undefined</p>
<h2 id="Numbers">Numbers</h2><p>• Only one number type<br>    ○ No integers<br>• 64-bit floating point<br>• IEEE-754 aka “Double”<br>• Does not map well to common understanding of arithmetic:<br>• 0.1 + 0.2 = 0.30000000000000004</p>
<h3 id="NaN">NaN</h3><p>   Numbers type<br>    • Special number: Not a Number<br>    • Result of undefined or erroneous operations<br>    • Toxic: any arithmetic operation with NaN as an input will have NaN as a result<br>    • NaN is not equal to anything, including NaN.</p>
<h3 id="Number_function">Number function</h3><p> Number(value)<br>    • Converts the value into a number.<br>    • It produces NaN if it has a problem.<br>    • Similar to + prefix operator.</p>
<h3 id="parseInt_function">parseInt function</h3><p>parseInt(value, 10)</p>
<p>·         Converts the value into a number.</p>
<p>·         It stops at the first non-digit character.</p>
<p>·         The radix(10) should be required.</p>
<h3 id="Math">Math</h3><p>·         Math object is modelled on Java’s Math class.<br>·         It contains<br>        abs        absolute value<br>        floor      Integer<br>            Math.floor(number) - gets the integer part.</p>
<pre><code><span class="built_in">log</span>        logarithm
<span class="built_in">max</span>        maximum
pow        raise <span class="built_in">to</span> <span class="operator">a</span> power
<span class="built_in">random</span>        <span class="built_in">random</span> <span class="built_in">number</span>
<span class="built_in">round</span>      nearest <span class="keyword">integer</span>
<span class="built_in">sin</span>        sine
<span class="built_in">sqrt</span>       square root
</code></pre><h2 id="Strings">Strings</h2><p>• Sequence of 0 or more 16-bit characters<br>    ○ UCS-2, not quite UTF-16<br>    ○ No awareness of surrogate pairs<br>• No separate character type<br>    ○ Characters are represented as strings with a length of 1<br>• Strings are immutable<br>    cant be modify after created.</p>
<p>• Similar strings are equal (==)<br>• String literals can use single or double quotes</p>
<h3 id="String_length">String length</h3><pre><code>• `<span class="keyword">string</span>.<span class="built_in">length</span>`

• The `<span class="built_in">length</span>` property determines <span class="operator">the</span> <span class="built_in">number</span> <span class="operator">of</span> <span class="number">16</span>-bit <span class="keyword">characters</span> <span class="operator">in</span> <span class="operator">a</span> <span class="keyword">string</span>.
</code></pre><h3 id="String_function">String function</h3><pre><code>String(<span class="built_in">value</span>)

• Converts <span class="built_in">value</span> <span class="built_in">to</span> <span class="operator">a</span> <span class="keyword">string</span>
</code></pre><h3 id="String_Methods">String Methods</h3><pre><code>• chatAt
• concat
• indexOf
• lastIndexOf
• <span class="literal">match</span>
• <span class="keyword">replace</span>
• <span class="keyword">search</span>
• slice
• <span class="keyword">split</span>
• substring
• toLowerCase
• toUpperCase
</code></pre><h2 id="Boolean">Boolean</h2><pre><code>• <span class="literal">true</span>
• <span class="literal">false</span>
</code></pre><h3 id="Boolean_function">Boolean function</h3><pre><code>Boolean(<span class="keyword">value</span>) 

• Returns <span class="keyword">true</span> <span class="keyword">if</span> <span class="keyword">value</span> <span class="keyword">is</span> truthy
• Returns <span class="keyword">false</span> <span class="keyword">if</span> <span class="keyword">value</span> <span class="keyword">is</span> falsy
• Similar to !! Prefix <span class="keyword">operator</span>
</code></pre><h2 id="null"><code>null</code></h2><pre><code>• A value <span class="keyword">that</span> <span class="keyword">isn't</span> anything
</code></pre><h2 id="undefined"><code>undefined</code></h2><pre><code>• <span class="type">A</span> <span class="keyword">value</span> that isn't even that.
• <span class="type">The</span> default <span class="keyword">value</span> <span class="keyword">for</span> variables <span class="keyword">and</span> parameters
• <span class="type">The</span> <span class="keyword">value</span> <span class="keyword">of</span> missing members <span class="keyword">in</span> objects
</code></pre><h2 id="Falsy_values">Falsy values</h2><p><em>false
</em>null<br><em>undefined
</em>“”<br><em>0 
</em>NaN</p>
<h3 id="All_other_values_(including_all_objects)_are_truthy-">All other values (including all objects) are truthy.</h3><p>e.g. “0” “False”</p>
<h2 id="Everything_Else_Is_Objects">Everything Else Is Objects</h2><p><strong>Javasript is all about objects!</strong></p>
<h3 id="Dynamic_Objects">Dynamic Objects</h3><pre><code>• Unification <span class="operator">of</span> Object <span class="operator">and</span> Hashtable

• <span class="built_in">new</span> Object() produces <span class="operator">an</span> <span class="constant">empty</span> container <span class="operator">of</span> name/<span class="built_in">value</span> pairs

• A name can be <span class="keyword">any</span> <span class="keyword">string</span>, <span class="operator">a</span> <span class="built_in">value</span> can be <span class="keyword">any</span> <span class="built_in">value</span> except undefined

• members can be accessed <span class="operator">with</span> dot notation <span class="operator">or</span> subscript notation

    &lt;!<span class="comment">--￼0--&gt;</span>

• No hash nature is visible (no hash codes <span class="operator">or</span> rehash methods)
</code></pre><h2 id="Loosely_Typed">Loosely Typed</h2><pre><code>• Any <span class="operator">of</span> these types can be stored <span class="operator">in</span> <span class="operator">an</span> <span class="built_in">variable</span>, <span class="operator">or</span> passed <span class="keyword">as</span> <span class="operator">a</span> parameter <span class="built_in">to</span> <span class="keyword">any</span> <span class="function"><span class="keyword">function</span>.</span>

• The language is <span class="operator">not</span> <span class="string">"untyped"</span>
</code></pre><h2 id="C">C</h2><pre><code>• Javasript <span class="keyword">is</span> syntactically <span class="keyword">a</span> C family <span class="keyword">language</span>

• It differs from C mainly in its <span class="built_in">type</span> <span class="built_in">system</span>, which allows functions <span class="keyword">to</span> <span class="keyword">be</span> <span class="built_in">values</span>.
</code></pre><h2 id="Identifiers">Identifiers</h2><pre><code>• Starts <span class="operator">with</span> <span class="operator">a</span> letter <span class="operator">or</span> _ <span class="operator">or</span> $

• Followed <span class="keyword">by</span> <span class="constant">zero</span> <span class="operator">or</span> more letters, digits, _ <span class="operator">or</span> $

• By convention, all variables, parameters, members, <span class="operator">and</span> <span class="function"><span class="keyword">function</span> <span class="title">names</span> <span class="title">start</span> <span class="title">with</span> <span class="title">lower</span> <span class="title">case</span></span>

• Except <span class="keyword">for</span> **constructors which <span class="built_in">start</span> <span class="operator">with</span> <span class="built_in">upper</span> <span class="keyword">case</span>**

• Initial _ should be reserved <span class="keyword">for</span> implementations

• $ should be reserved <span class="keyword">for</span> machines. (microprocessors &amp; program generators)
</code></pre><h2 id="Reserved_Words">Reserved Words</h2><p>abstract<br>boolean <strong>break</strong> byte<br><strong>case</strong> <strong>catch</strong> char class const <strong>continue</strong><br>debugger <strong>default</strong> <strong>delete</strong> <strong>do</strong> double<br><strong>else</strong> enum export extends<br><strong>false</strong> final <strong>finally</strong> float <strong>for</strong> <strong>function</strong><br>goto<br><strong>if</strong> implements import <strong>in</strong> <strong>instanceof</strong> int<br>interface<br>long<br>native <strong>new</strong> <strong>null</strong><br>package private protected public<br><strong>return</strong><br>short static super <strong>switch</strong> synchronized<br><strong>this</strong> <strong>throw</strong> throws transient <strong>true</strong> <strong>try</strong> <strong>typeof</strong><br><strong>var</strong> volatile <strong>void</strong><br><strong>while</strong> <strong>with</strong></p>
<h2 id="Comments">Comments</h2><p>// slashslash line comment</p>
<p>/<em><br>    slashstar<br>    block<br>    Comment
</em>/</p>
<h2 id="Operators">Operators</h2><pre><code>• Arithmetic

+ - * / %

• Comparison

<span class="header">==  != &lt; &gt; &lt;= &gt;=</span>

• Logical

&amp;&amp; || !

• Bitwise

&amp; | ^ &gt;&gt; &gt;&gt;&gt; &lt;&lt;

• Ternary
?:
</code></pre><h3 id="+">+</h3><pre><code>• Addiction <span class="operator">and</span> concatenation
• If both operands are <span class="built_in">number</span>,
<span class="keyword">then</span>
    <span class="built_in">add</span> them
<span class="keyword">else</span>
    <span class="built_in">convert</span> them both <span class="built_in">to</span> strings
    concatenate them 
        <span class="string">'$'</span> + <span class="number">3</span> + <span class="number">4</span> = <span class="string">'$34'</span>

+
• Unary operator can <span class="built_in">convert</span> strings <span class="built_in">to</span> numbers
+<span class="string">"42"</span> = <span class="number">42</span>

• Also 
Number(<span class="string">"42"</span>) = <span class="number">42</span>

• Also 
parseInt(<span class="string">"42"</span>, <span class="number">10</span>) = <span class="number">42</span>

**+<span class="string">"3"</span> + (+<span class="string">"4"</span>) = <span class="number">7</span>**
</code></pre><h3 id="/">/</h3><p><strong>Division of two integers can produce a non-integer result</strong><br><strong>10 / 3 = 3.333333333333333</strong></p>
<h3 id="==_!=">== !=</h3><pre><code>• <span class="type">Equal</span> <span class="keyword">and</span> <span class="keyword">not</span> equal

• <span class="type">These</span> operators can <span class="keyword">do</span> <span class="keyword">type</span> coercion

• <span class="type">It</span> <span class="keyword">is</span> better to use === <span class="keyword">and</span> !==, 
which <span class="keyword">do</span> <span class="keyword">not</span> <span class="keyword">do</span> <span class="keyword">type</span> coercion.


&amp;&amp;

• <span class="type">The</span> guard operator, aka logical <span class="keyword">and</span> 

• <span class="type">If</span> first operand <span class="keyword">is</span> truthy
    **<span class="type">Then</span> <span class="literal">result</span> <span class="keyword">is</span> second operand**
    **<span class="type">Else</span> <span class="literal">result</span> <span class="keyword">is</span> first operand**

• <span class="type">It</span> can be used to avoid null references

&lt;!--￼<span class="number">1</span>--&gt;

• can be written <span class="keyword">as</span> 
&lt;!--￼<span class="number">2</span>--&gt;
</code></pre><h3 id="||">||</h3><pre><code>• <span class="type">The</span> default operator, aka logical <span class="keyword">or</span>
• <span class="type">If</span> first operand <span class="keyword">is</span> truthy
    *<span class="type">Then</span> <span class="literal">result</span> <span class="keyword">is</span> first operand
    *<span class="type">Else</span> <span class="literal">result</span> <span class="keyword">is</span> second operand
• <span class="type">It</span> can be used to fill <span class="keyword">in</span> default values.
&lt;!--￼<span class="number">3</span>--&gt;

• <span class="type">If</span> input <span class="keyword">is</span> truthy, then last <span class="keyword">is</span> input, otherwise <span class="type">set</span> last to nr_items.
</code></pre><h3 id="!">!</h3><pre><code>• <span class="type">Prefix</span> logical <span class="keyword">not</span> operator.
• <span class="type">If</span> the operand <span class="keyword">is</span> truthy, the <span class="literal">result</span> <span class="keyword">is</span> <span class="literal">false</span>. <span class="type">Otherwise</span>, the <span class="literal">result</span> <span class="keyword">is</span> <span class="literal">true</span>.
• !! <span class="type">Produces</span> booleans.
</code></pre><p>Bitwise<br>&amp; | ^ &gt;&gt; &gt;&gt;&gt; &lt;&lt;<br><strong>The bitwise operators convert the operand to a 32-bit signed integer, and turn the result back into 64-bit floating point.</strong></p>
<h2 id="Statements">Statements</h2><p><em>expression
</em>if<br><em>switch
</em>while<br><em>do
</em>for<br><em>break
</em>continue<br><em>return
</em>try/throw</p>
<h3 id="Break_statement">Break statement</h3><p>• Statements can have labels.</p>
<p>• Break statements can refer to those labels.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">loop: for (;;) &#123;&#10; &#8230;&#8230;&#10;    If (&#8230;) &#123;&#10;        break loop;&#10;    &#125;&#10;      &#8230;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="For_statement">For statement</h3><p>Iterate through all of the elements of an array;</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">For (var I = 0;I &#60; array.length; I += 1) &#123;&#10;    // within the loop,&#10;    // I is the index of the current member&#10;    // array[i] is the current element&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Iterate through all of the members of an object:</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">for (var name in object) &#123;&#10;     If (object.hasOwnPropert(name)) &#123;&#10;&#10;        // within the loop,&#10;        // name is the key of current member&#10;        // object[name] is the current value&#10;        &#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Switch_statement">Switch statement</h3><p>*Multiway branch</p>
<p>*The switch value does not need to be a number. It can be a string.</p>
<p>*The case values can be expressions.</p>
<h3 id="Switch_statement-1">Switch statement</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">swith (expression) &#123;&#10;case &#39;;&#39;:&#10;case &#39;,&#39;:&#10;case &#39;.&#39;:&#10;    punctuation();&#10;    break;&#10;default:&#10;    noneOfTheAbove();&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Throw_statement">Throw statement</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">throw new Error(reason);&#10;&#10;throw &#123;&#10;    name: exceptionName,&#10;    message: reason&#10;&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Try_statement">Try statement</h3> <figure class="highlight"><table><tr><td class="code"><pre><span class="line">try &#123;&#10;   ...&#10;&#125; catch (e) &#123;&#10;   switch (e.name) &#123;&#10;       case &#39;Error&#39;:&#10;           ...&#10;           break;&#10;       default:&#10;           throw e;&#10;   &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Try_Statement">Try Statement</h3><ul>
<li>The Javasript implementation can produce these exception names:<br>‘Error’<br>‘EvalError’<br>‘RangeError’<br>‘SyntaxError’<br>‘TypeError’<br>‘URIError’</li>
</ul>
<h3 id="With_statement">With statement</h3><ul>
<li><p>Intended as a short-hand</p>
</li>
<li><p>Ambiguous</p>
</li>
<li><p>Error-prone</p>
</li>
<li><p><strong>Don’t use it</strong></p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">with (o) &#123;&#10;    foo = null;&#10;&#125;&#10;&#10;o.foo = null;&#10;&#10;foo = null;</span><br></pre></td></tr></table></figure>
<h3 id="Function_statement">Function statement</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">function name(parmeters) &#123;&#10;    statements;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Var_statement">Var statement</h3><ul>
<li>Defines variables within a function.</li>
<li>Types are not specified.</li>
<li>Initial values are optional.</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var name;&#10;var nrErrors = 0;&#10;var a, b, c;</span><br></pre></td></tr></table></figure>
<h2 id="Scope">Scope</h2><ul>
<li>In Javasript, <strong>{block} do not have scope</strong>.</li>
<li><strong>Only functions have scope</strong>.</li>
<li>Vars defined in a function are not visible outside of the function.</li>
</ul>
<p><strong>Declare variable any place inside of a function, it’s visible anywhere inside of the function.</strong></p>
<p><strong>Declare variable twice inside of a function, it only gets created once!</strong></p>
<h2 id="Global_Variables">Global Variables</h2><p>Javasript has implied Globals. </p>
<p>If you create a variable and forget to declare it, Javasript assumes you might the variable to be global variable.</p>
<p>For example if you forget to define <code>i</code>, you create a global variable called <code>i</code>. </p>
<p>If you make the same mistake in two places, there is a good chance your program is going to be failed.</p>
<h2 id="Return_statement">Return statement</h2><figure class="highlight"><table><tr><td class="code"><pre><span class="line">return expression;</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">return;</span><br></pre></td></tr></table></figure>
<p>In Javasript, every function will return a result, no void type in js.</p>
<ul>
<li>If there is no expression, then the return value is undefined.</li>
<li>Except for constructors, whose default return value is this. It returns the new object.</li>
</ul>
<h2 id="Objects">Objects</h2><ul>
<li>Everything else is objects.</li>
<li>Objects can contain data and methods.</li>
<li>Objects can inherit from other objects.</li>
</ul>
<p><strong>Objects are collections</strong></p>
<h3 id="Collections">Collections</h3><p>*An object is an unordered collection of name/value pairs</p>
<p>*Names are strings</p>
<p>*Values are any type, including other objects</p>
<p>*Good for representing records and trees.</p>
<p>*Every object is a little database.</p>
<h3 id="Object_Literals">Object Literals</h3><ul>
<li>Object literals are wrapped in { }</li>
<li>Names can be names or strings</li>
<li>Values can be expressions</li>
<li>: separates names and values</li>
<li>, separates pairs</li>
<li>Object literals can be used anywhere a value can appear.</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;&#10;    name: &#34;Jack B. Nimble&#34;,&#10;    &#39;goto&#39;: &#39;Jail&#39;,&#10;    grade: &#39;A&#39;,&#10;    level: 3&#10;&#125;;&#10;&#10;var theName = myObject.name;&#10;var destination = myObject[&#39;goto&#39;];</span><br></pre></td></tr></table></figure>
<h4 id="Maker_function">Maker function</h4><figure class="highlight"><table><tr><td class="code"><pre><span class="line">function maker(name, where, grade, level) &#123;&#10;    var it = &#123;&#125;;&#10;    it.name = name;&#10;    it[&#39;goto&#39;] = where;&#10;    it.grade = grade;&#10;    it.level = level;&#10;    return it;&#10;&#125;&#10;&#10;myObject = maker(&#34;Jack B. Nimble&#34;, &#39;Jail&#39;, &#39;A&#39;, 3);</span><br></pre></td></tr></table></figure>
<h4 id="Object_Literals-1">Object Literals</h4><figure class="highlight"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;&#10;    name: &#34;Jack B. Nimble&#34;,&#10;    &#39;goto&#39;: &#39;Jail&#39;,&#10;    grade: &#39;A&#39;,&#10;    format: &#123;&#10;        type: &#39;rect&#39;,&#10;        width: 1920,&#10;        height: 1080,&#10;        interlace: false,&#10;        framerate: 24&#10;    &#125;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="Object_Literals-2">Object Literals</h4><figure class="highlight"><table><tr><td class="code"><pre><span class="line">myFunction(&#123;&#10;    type: &#39;rect&#39;,&#10;    width: 1920,&#10;    height: 1080&#10;&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">throw &#123;&#10;    name: &#39;error&#39;,&#10;    message: &#39;out of bounds&#39;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="Object_Literals-3">Object Literals</h4><figure class="highlight"><table><tr><td class="code"><pre><span class="line">function SuperDiv(width, height, left, top, zIndex, position, color, &#10;visibility, html, cssClass)&#10;&#10;var spec = &#123;&#10;    width: 1,&#10;    height: 1,&#10;    left: 1,&#10;    top: 1,&#10;    zIndex: 1,&#10;    position: 1,&#10;    color: 1,&#10;    visibility: 1,&#10;    html: 1,&#10;    cssClass: 1&#10;&#125;;&#10;&#10;function SuperDiv(spec)</span><br></pre></td></tr></table></figure>
<h4 id="Object_Augmentation_(n-_扩大；_增大；_增加物；_&lt;音&gt;主题延长)">Object Augmentation (n. 扩大； 增大； 增加物； &lt;音&gt;主题延长)</h4><ul>
<li><p>New members can be added to any object by simple assignment</p>
</li>
<li><p>There is no need to define a new class</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;&#10;    name: &#34;Jack B. Nimble&#34;,&#10;    &#39;goto&#39;: &#39;Jail&#39;,&#10;    grade: &#39;A&#39;,&#10;    format: &#123;&#10;        type: &#39;rect&#39;,&#10;        width: 1920,&#10;        height: 1080,&#10;        interlace: false,&#10;        framerate: 24&#10;    &#125;&#10;&#125;;&#10;&#10;myObject.format.colorModel = &#39;YCgCb&#39;;&#10;&#10;myObject[name] = value;</span><br></pre></td></tr></table></figure>
<h3 id="Linkage">Linkage</h3><ul>
<li><p>Objects can be created with a secret link to another object. (Inheritance)</p>
<p>  Objects are able to be inheritanced from other objects.</p>
</li>
<li><p>If an attempt to access a member from an object which fails, the secret linked object will be used.</p>
</li>
<li><p>The secret link is not used when storing. New members are only added to the primary object.</p>
</li>
<li><p>The <strong>object(o)</strong> function makes a new empty object with a linkage to object <strong>o</strong>.</p>
</li>
</ul>
<h4 id="Linkage-1">Linkage</h4><figure class="highlight"><table><tr><td class="code"><pre><span class="line">var myOldObject = &#123;&#10;    name: &#34;Jack B. Nimble&#34;,&#10;    &#39;goto&#39;: &#39;Jail&#39;,&#10;    grade: &#39;A&#39;,&#10;    level: 3&#10;&#125;;&#10;&#10;var myNewObject = Object(myOldObject);</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/objectlinkage.png" alt="keywords"></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">myNewObject.name = &#34;Tom Piperson&#34;;&#10;myNewObject.level += 1;&#10;myNewObject.crime = &#39;pignapping&#39;; &#10;&#10;console.log(myNewObject.grade);&#10;// A</span><br></pre></td></tr></table></figure>
<h4 id="Inheritance">Inheritance</h4><ul>
<li>Linkage provides simple Inheritance. </li>
<li>An object can inherit from an old object.</li>
</ul>
<h4 id="Prototypal_Inheritance">Prototypal Inheritance</h4><ul>
<li><p>Some languages have classes, methods, constructors, and modules.<br>Javasript’s functions do the work of all of those.</p>
</li>
<li><p>Instead of Classical Inheritance,<br>Javasript has Prototypal Inheritance.</p>
</li>
<li><p>It accomplishes the same things, but differently.</p>
</li>
<li><p>It offers greater expressive power.</p>
</li>
<li><p>But it’s different.</p>
</li>
</ul>
<h4 id="Prototypal_Inheritance-1">Prototypal Inheritance</h4><ul>
<li><p>Instead of organizing objects into rigid classes, new objects can be made that are similar to existing objects, and then customized.</p>
</li>
<li><p>Object customization is a lot less work than making a class, and less overhead, too.</p>
</li>
<li><p>One of the keys is the <strong>object(o)</strong> function.</p>
</li>
<li><p>The other key is functions.</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">myOldObject.grade = &#34;B&#34;;&#10;&#10;console.log(myNewObject.grade);&#10;// B&#10;&#10;delete myOldObject[&#39;grade&#39;];&#10;&#10;console.log(myNewObject.grade);&#10;// undefined&#10;&#10;delete myNewObject[&#39;level&#39;];&#10;&#10;console.log(myNewObject[&#39;level&#39;]);&#10;// 3 or undefined</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/objectlinkageassign.png" alt="keywords"></p>
<p><strong>Single Inheritance</strong> (long linkage)</p>
<p><strong>Garbage Collection</strong></p>
<p>Q&amp;A</p>
<p>What happened to the new objects if the old object set to undefined?<br>Nothing!</p>
<h3 id="Object_Methods">Object Methods</h3><ul>
<li>All objects are linked directly or indirectly to Object.prototype.<br>  Object.prototype provides system built-in methods for you.</li>
<li><p>All objects inherit some basic methods.</p>
</li>
<li><p>None of them are very userful.</p>
</li>
<li><p>hasOwnProperty(name)<br>  Is the name a true member of this object?</p>
</li>
<li><p>No copy method.</p>
</li>
<li><p>No equals methos.<br><strong> Can use equal operator to check two references to the same object, but it doesnt tell you two object contains the same staff.</strong></p>
</li>
</ul>
<h3 id="Object_Construction">Object Construction</h3><ul>
<li><p>Make a new empty object</p>
</li>
<li><p>Three ways to make new empty object!<br>All three of these expressions have exactly the same result:</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">new Object()&#10;&#10;&#123;&#125;&#10;&#10;Object(Object.prototype)</span><br></pre></td></tr></table></figure>
<ul>
<li>{} is the preferred form.</li>
</ul>
<h3 id="Reference">Reference</h3><ul>
<li><p>Objects can be passed as arguments to functions, and can be returned by functions<br>  <strong>Objects are passed by reference.</strong><br>  <strong>Objects are not passed by value.</strong></p>
</li>
<li><p>The === operator compares object references, not values<br>  <strong>true only if both operands are the same object.</strong></p>
</li>
</ul>
<h3 id="Delete">Delete</h3><ul>
<li>Members can be removed from an object with the delete operator.<figure class="highlight"><table><tr><td class="code"><pre><span class="line">delete myObject[name];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>change the value to undefined.</p>
<h2 id="Arrays">Arrays</h2><ul>
<li><p>Array inherits from Object.</p>
</li>
<li><p>Indexes are converted to strings and used as names from retrieving values.</p>
</li>
<li><p>Very efficient for sparse arrays. (创建稀疏矩阵)</p>
</li>
<li><p>Not very efficient in most other cases.</p>
</li>
<li><p>One advantage: No need to provide a length or type when creating an array.</p>
</li>
</ul>
<h3 id="length">length</h3><ul>
<li><p>Arrays, unliket objects, have a special <code>length</code> member.</p>
</li>
<li><p>It is always 1 larger than the highest integer subscript.</p>
</li>
<li><p>It allows use of the traditaional for statement.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">for (i = 0; i&#60; a.length; i+= 1) &#123;&#10;    ...&#10;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Do not use for .. in with arrays.</p>
</li>
</ul>
<h3 id="Array_Literals">Array Literals</h3><ul>
<li><p>An array literal uses []</p>
</li>
<li><p>It can contain any number of expressions, separated by commas<br>  <code>myList = [&#39;oats&#39;, &#39;peas&#39;, &#39;beans&#39;];</code></p>
</li>
<li><p>New items can be appended<br>  <code>myList[myList.length] = &#39;barley&#39;;</code></p>
</li>
<li><p>The dot notation should not be used with arrays.</p>
</li>
<li><p>[] is preferred to new Array().</p>
</li>
</ul>
<h3 id="Array_Methods">Array Methods</h3><ul>
<li>concat </li>
<li>join</li>
<li>pop</li>
<li>push</li>
<li>slice</li>
<li>sort</li>
<li>splice</li>
</ul>
<h3 id="Deleting_Elements">Deleting Elements</h3><p><code>delete array[number]</code></p>
<ul>
<li>Removes the element, but leaves a hole in the numbering.</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">array.splice(number, 1);</span><br></pre></td></tr></table></figure>
<ul>
<li>Removes the element and renumbers all the following elements.</li>
</ul>
<h3 id="Deleting_Elements-1">Deleting Elements</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">myArray = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;];&#10;&#10;delete myArray[1];&#10;&#10;// [&#39;a&#39;, undefined, &#39;c&#39;, &#39;d&#39;]&#10;&#10;myArray.splice(1, 1);&#10;&#10;// [&#39;a&#39;, &#39;c&#39;, &#39;d&#39;]</span><br></pre></td></tr></table></figure>
<h3 id="Arrays_v_Objects">Arrays v Objects</h3><ul>
<li><p>Use objects when the names are arbitrary strings.</p>
</li>
<li><p>Use arrays when the names are sequential integers.</p>
</li>
<li><p>Don’t get confused by the term Associative Array.</p>
</li>
</ul>
<h3 id="Array_has_secret_link_which_links_to_Array-prototype-">Array has secret link which links to <code>Array.prototype</code>.</h3><h4 id="Distinguishing_Arrays">Distinguishing Arrays</h4><figure class="highlight"><table><tr><td class="code"><pre><span class="line">value.constructor === Array&#10;&#10;value instanceof Array</span><br></pre></td></tr></table></figure>
<p>Neither of these work when the value comes from a different frame. (talk later!)</p>
<p><strong>We cant inherited from an array effectivly. We cant use array as a prototype.</strong></p>
<h4 id="Arrays_and_Inheritance">Arrays and Inheritance</h4><ul>
<li>Don’t use arrays as prototypes.<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var array = [1];&#10;var notArray = Object(array);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>The thing got produced by <code>Object(array)</code> is an object instead of an array.</p>
<p>The object produced this way does not have array nature. It will inherit the array’s values and methods. but not its length.</p>
<ul>
<li>You can augment an individual array.</li>
</ul>
<p>By assigning methods to it since it is underneath an object it’s able to receive any kind of value including functions in any kind of key not just numbers.</p>
<p>This works because arrays are objects.</p>
<p>Since it’s underneath an object, it’s able to receive any kind of values including functions and any kind of keys not just numbers.</p>
<ul>
<li>You can augment all arrays.<br>  Assign methods to Array.prototype.</li>
</ul>
<h2 id="Functions">Functions</h2><ul>
<li>Functions are first class objects.</li>
</ul>
<ol>
<li><p>Functions can be passed, returned, and stored just like any other value.</p>
</li>
<li><p>Functions inherit from <code>Object</code> and can store name/value pairs.</p>
</li>
</ol>
<h3 id="Function_operator">Function operator</h3><ul>
<li>The function operator takes an optional name, a parameter list, and a block of statements, and returns a function object.</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function name(parameters) &#123;&#10;    statements&#10;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>A function can appear anywhere that an expression can appear.</li>
</ul>
<h3 id="Lambda">Lambda</h3><ul>
<li><p>What Javasript calls <code>function</code>, other languages call <code>lambda</code>.</p>
</li>
<li><p>It is a source of enormous expressive power.</p>
</li>
<li><p>Unlike most power-constructs, it is secure.</p>
</li>
</ul>
<h3 id="Function_statement-1">Function statement</h3><p>The function statement is just a short-hand for a <code>var</code> statement with a function value.</p>
<p><code>function foo() {}</code></p>
<pre><code>expands <span class="keyword">to</span> 
</code></pre><p><code>var foo = function foo() {};</code></p>
<p>There is one namespace for both of those things.</p>
<h3 id="Inner_functions">Inner functions</h3><ul>
<li><p>Functions do not all have to be defined at the top level (or left edge).</p>
</li>
<li><p>Functions can be defined inside of other functions.</p>
</li>
</ul>
<h3 id="Scope-1">Scope</h3><ul>
<li><p>An inner function has access to the variables and parameters of functions that it is contained within.</p>
</li>
<li><p>This is known as Static Scoping or Lexical Scoping.</p>
</li>
</ul>
<h3 id="Closure"><strong>Closure</strong></h3><ul>
<li><p>The <code>scope</code> that an inner function enjoys continues even after the parent functions have returned.</p>
</li>
<li><p>This is called <code>closure</code>.</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function fade(id) &#123;&#10;    var dom = document.getElementById(id),&#10;        level = 1;&#10;&#10;    function step() &#123;&#10;        var h = level.toString(16);&#10;&#10;        dom.style.backgroundColor = &#10;            &#39;#FFFF&#39; + h + h;&#10;&#10;        if (level &#60; 15) &#123;&#10;            level += 1;&#10;            setTimeout(step, 100);&#10;        &#125;&#10;    &#125;&#10;&#10;    setTimeout(step, 100);&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Function_Objects">Function Objects</h3><ul>
<li><p>Functions are objects, so they can contain name/value pairs.</p>
</li>
<li><p>This can serve the same purpose as <code>static</code> members in other languages.</p>
</li>
</ul>
<h3 id="Methods">Methods</h3><ul>
<li><p>Since functions are values, functions can be stored in objects.</p>
</li>
<li><p>A function in an object is called a <strong>method</strong>.</p>
</li>
</ul>
<p><code>var foo = function () {};</code></p>
<h3 id="Invocation">Invocation</h3><ul>
<li><p>If a function is called with too many arguments, the extra arguments are ignored.</p>
</li>
<li><p>If a function is called with too few arguments, the missing values will be <code>undefined</code>.</p>
</li>
<li><p>There is no implicit type checking on the arguments.</p>
</li>
</ul>
<h3 id="Invocation-1">Invocation</h3><ul>
<li>There are four ways to call a function:</li>
</ul>
<p>Method form<br>    <code>thisObject.methodName(arguments)</code><br>    <code>thisObject[&quot;methodName&quot;](arguments)</code></p>
<p>Function form<br>    <code>functionObject(arguments)</code></p>
<p>Constructor form<br>    <code>new functionObject(arguments)</code></p>
<p>Apply form<br>    <code>functionObject.apply(thisObject, [arguments])</code></p>
<h3 id="Method_form">Method form</h3><p><code>thisObject.methodName(arguments)</code></p>
<ul>
<li>When a function is called in this form, In additional its regular parameters, it gets a special extra parameter called ‘this’.<br>And ‘this’ will be bind to ‘thisObject’.<br>So it gives that function access to the object that it was invoked in.</li>
</ul>
<p>When a function is called in the method form, <code>this</code> is set to <code>thisObject</code>, the object containing the function.</p>
<ul>
<li>This allows methods to have a reference to the object of interest.</li>
</ul>
<h3 id="Function_form">Function form</h3><p><code>functionObject(arguments)</code></p>
<p>When a function is called in the function form, <code>this</code> is set to the global object.<br>    That is not very useful.<br>    Mistake or not? It makes it harder to write helper functions within a method because the helper function does not get access to the outer <code>this</code>.<br>        <code>var that = this;</code></p>
<h3 id="Constructor_form">Constructor form</h3><p><code>new functionObject(arguments)</code></p>
<ul>
<li><p>When a function is called with the <code>new</code> operator, a new object is created and assigned to <code>this</code>.</p>
</li>
<li><p>If there is not an explicit return value, then <code>this</code> will be returned.</p>
</li>
</ul>
<h3 id="this"><code>this</code></h3><ul>
<li><p><code>this</code> is an extra parameter. Its value depends on the calling form.</p>
</li>
<li><p><code>this</code> gives methods access to their objects.</p>
</li>
<li><p><code>this</code> is bound at invocation time.</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Invocation form</th>
<th><code>this</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>function</td>
<td>the global object</td>
</tr>
<tr>
<td>method</td>
<td>the object</td>
</tr>
<tr>
<td>constructor</td>
<td>the new object</td>
</tr>
</tbody>
</table>
<h3 id="arguments">arguments</h3><ul>
<li><p>When a function is invoked, in addition to its parameters, it also gets a special parameter called <code>arguments</code>.</p>
</li>
<li><p>It contains all of the arguments from the invocation.</p>
</li>
<li><p>It is an array-like object.</p>
</li>
<li><p><code>arguments.length</code> is the number of arguments passed.</p>
</li>
</ul>
<p>Example</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">function sum() &#123;&#10;    var i,&#10;        n = arguments.length,&#10;        total = 0;&#10;&#10;    for (i = 0; i &#60; n; i += 1) &#123;&#10;        total += arguments[i];&#10;    &#125;&#10;&#10;    return total;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Augmenting_Build-in_Types">Augmenting Build-in Types</h3><ul>
<li>Object.prototype</li>
<li>Array.prototype</li>
<li>Function.prototype</li>
<li>Number.prototype</li>
<li>String.prototype</li>
<li>Boolean.prototype</li>
</ul>
<h4 id="trim">trim</h4><figure class="highlight"><table><tr><td class="code"><pre><span class="line">String.prototype.trim = function () &#123;&#10;    return this.replace(&#10;        /^\s*(\S*(\s+\S+)*)\s*$/, &#34;$1&#34;); &#10;&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="supplant">supplant</h4><figure class="highlight"><table><tr><td class="code"><pre><span class="line">var template = &#39;&#60;table border=&#34;&#123;border&#125;&#34;&#62;&#39; + &#10;               &#39;&#60;tr&#62;&#60;th&#62;Last&#60;/th&#62;&#60;td&#62;&#123;last&#125;&#60;/td&#62;&#60;/tr&#62;&#39; +&#10;               &#39;&#60;tr&#62;&#60;th&#62;First&#60;/th&#62;&#60;td&#62;&#123;first&#125;&#60;/td&#62;&#60;/tr&#62;&#39; +&#10;               &#39;&#60;/table&#62;&#39;;&#10;&#10;var data = &#123;&#10;    first: &#34;Carl&#34;,&#10;    last: &#34;Hollywood&#34;,&#10;    border: 2&#10;&#125;;&#10;&#10;mydiv.innerHTML = template.supplant(data);&#10;&#10;String.prototype.supplant = function (o) &#123;&#10;    return this.replace(/&#123;([^&#123;&#125;]*)&#125;/g, &#10;        function (a, b) &#123;&#10;        var r = o[b];&#10;        return typeof r === &#39;string&#39; ? r : a;&#10;        &#125;&#10;    );&#10;&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="typeof">typeof</h4><p>The typeof prefix operator returns a string identifying the type of a value.</p>
<table>
<thead>
<tr>
<th>type</th>
<th>typeof</th>
</tr>
</thead>
<tbody>
<tr>
<td>object</td>
<td>‘object’</td>
</tr>
<tr>
<td>function</td>
<td>‘function’</td>
</tr>
<tr>
<td>array</td>
<td>‘object’</td>
</tr>
<tr>
<td>number</td>
<td>‘number’</td>
</tr>
<tr>
<td>string</td>
<td>‘string’</td>
</tr>
<tr>
<td>boolean</td>
<td>‘boolean’</td>
</tr>
<tr>
<td>null</td>
<td>‘object’</td>
</tr>
<tr>
<td>undefined</td>
<td>‘undefined’</td>
</tr>
</tbody>
</table>
<h3 id="eval">eval</h3><p><code>eval(string)</code></p>
<ul>
<li><p>calling compiler to do something</p>
</li>
<li><p>The <code>eval</code> function compiles and executes a string (<strong>in the context of the function that is calling <code>eval</code> </strong>) and returns the result.</p>
</li>
<li><p>It is what the browser uses to convert strings into actions.</p>
</li>
<li><p>It is the most misused feature of the language. </p>
</li>
</ul>
<p><strong>Recommend that not use it ever!</strong></p>
<ol>
<li>Waste lot of time. Often you calling the compiler to do something which can be done much easier on that. </li>
<li>People dont know how to use subscript notation. They will concated dot notation then eval them. The slowest way to doing this.</li>
<li>For certain of checking done in running time it could’ve been done to compile time. Delays error detection, makes it easier to ship bugs.</li>
<li>Security problem.</li>
</ol>
<p>Using eval on Json is the only time when its correct to use eval.</p>
<p>Use <code>parseJson</code> method!</p>
<h3 id="new_Function_function">new Function function</h3><p><code>new Function(parameters, body)</code></p>
<p>when a script tag or an eventhandler on the page,<br>brower call ‘eval’ to do with it.</p>
<ul>
<li><p><code>eval</code> calls the <code>new Function(parameters, body)</code>.<br>The <code>Function</code> constructor takes zero or more parameter name strings, and a body string, and uses the Javasript compiler to produce a function object.</p>
</li>
<li><p>It should only be used to compile fresh source from a server.</p>
</li>
<li><p>It it closely related to <code>eval</code>.</p>
</li>
</ul>
<h3 id="Build-int_Type_Wrappers">Build-int Type Wrappers</h3><ul>
<li><p>Java has both <code>int</code> and <code>Integer</code> type, one is an simple value and the other is an object which wraps the simple value.<br>Two incompatible types which can both carry the same value with differing levels of efficiency and convenience.</p>
</li>
<li><p>Javasript copied this pattern to no advantage. Avoid it.</p>
</li>
<li></li>
<li>Avoid <code>new Boolean()</code></li>
<li>Avoid <code>new String()</code></li>
<li>Avoid <code>new Number()</code> </li>
</ul>
<h3 id="Confession">Confession</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">function object(o) &#123;&#10;    function F() &#123;&#125;&#10;    &#10;    F.prototype = o;&#10;&#10;    return new F();&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Augmentation">Augmentation</h3><p>*We can directly modify individual objects to give them just the characteristics we want.</p>
<p>*We can do this without having to create classes.</p>
<p>*We can then use our new object as the prototype for lots of new objects,<br>each of which can also be augmented.</p>
<p>Working with the Grain</p>
<ul>
<li><p>Classical patterns are less effective than prototypal patterns or parasitic patterns(talk in the advanced classes) .</p>
</li>
<li><p>Formal classes are not needed for reuse or extension.</p>
</li>
</ul>
<h3 id="(global)_Object">(global) Object</h3><ul>
<li><p>The object that dares not speak its name.</p>
</li>
<li><p>It is the container for all global variables and all built-in objects.</p>
</li>
<li><p>Sometimes <code>this</code> points to it.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var global = this;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>On browsers, <code>window</code> is the global <code>object</code>.</strong></p>
</li>
<li>On nodejs, <code>global</code> is the global <code>object</code>.</li>
</ul>
<p>They assigned to the global object a window member whose value is global object.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">global.window = global;</span><br></pre></td></tr></table></figure>
<p>window.something -&gt; global object -&gt; window</p>
<p>Instead of a linker, everything has been reslove in a global namespace<br>that namespace is the global object, and it is implemented as a Javasript object.</p>
<h3 id="Global_variables_are_evil">Global variables are evil</h3><ul>
<li><p>Functions within an application can clobber each other.</p>
</li>
<li><p>Cooperating applications can clobber each other.</p>
</li>
<li><p>Use of the global namespace must be minimized.</p>
</li>
</ul>
<h3 id="Implied_Global">Implied Global</h3><ul>
<li><p>Any var which is not properly declared is assumed to be global by default.</p>
</li>
<li><p>This makes it easy for people who do not know or care about encapsulation to be productive, but it makes applications less reliable.</p>
</li>
<li><p>JSLint is a tool which helps identify implied globals and other weaknesses.<br><a href="http://www.JSLint.com" target="_blank" rel="external">http://www.JSLint.com</a></p>
</li>
</ul>
<h2 id="Namespace">Namespace</h2><p>Every object is (on its own namespace) a separate namespace.</p>
<p>Use an object to organize your variables and functions.</p>
<p>The YAHOO Object.<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="dns"></span><br><span class="line">        YAHOO=&#123;&#125;<span class="comment">;</span></span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Encapsulate">Encapsulate</h2><ul>
<li><p>Function scope can create an encapsulation</p>
</li>
<li><p>Use an anonymous function to wrap your application.(talk about in advanced classes)</p>
</li>
</ul>
<p>Example</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">YAHOO.Trivia = function () &#123;&#10;// define your common vars here&#10;// define your common functions here&#10;    return &#123;&#10;        getNextPoser: function (cat, diff) &#123;&#10;            ...&#10;        &#125;,&#10;        showPoser: function () &#123;&#10;            ...&#10;        &#125;&#10;    &#125;;&#10;&#125;();</span><br></pre></td></tr></table></figure>
<h2 id="Thinking_about_type">Thinking about type</h2><ul>
<li><p>Trading type-safety for dynamism(n.（人的）活力； 精力，魄力； 劲头；).</p>
</li>
<li><p>Javasript has no cast operator. </p>
</li>
<li><p>Reflection is really easy, and usually unnecessary.</p>
</li>
<li><p>Why inheritance?<br>  Automatic casting<br>  Code reuse</p>
</li>
<li><p>Trading brittleness (n.脆性，脆度，脆弱性) for flexibility</p>
</li>
</ul>
<h2 id="Date">Date</h2><p>The <code>Date</code> function is based on Java’s Date class.</p>
<p>It was not Y2K ready.</p>
<h2 id="RegExp">RegExp</h2><ul>
<li>Regular expression pattern matcher</li>
<li>Patterns are enclosed in slashes</li>
<li>Example: a pattern that matches regular expressions</li>
</ul>
<p>/\/(\[^\x00-\xlf]|[(\[^\x00-\xlf]|[^\x00-\xlf\\/])<em>]|[^\x00-\xlf\\/[])+\/[gim]</em>/</p>
<ul>
<li>Bizarre notation, difficult to read</li>
</ul>
<h2 id="Threads">Threads</h2><ul>
<li><p>The language definition is neutral on threads.</p>
</li>
<li><p>Some language processors (like SpiderMonkey) provide thread support</p>
</li>
<li><p>Most application environments (like browsers) do not provide it</p>
</li>
<li><p>Threads are evil</p>
</li>
</ul>
<h2 id="Platforms">Platforms</h2><ul>
<li><p>Browsers</p>
</li>
<li><p>Windows Script Host and Dashboard</p>
</li>
<li><p>Yahoo!Widgets</p>
</li>
<li><p>DreamWeaver and Photoshop</p>
</li>
<li><p>Embedded</p>
</li>
</ul>
<h2 id="ActionScript">ActionScript</h2><ul>
<li>Empty strings are truthy</li>
<li>keywords are case insensitive</li>
<li>No Unicode support</li>
<li>No <code>RegExp</code></li>
<li>No <code>try</code></li>
<li>No statement labels</li>
<li><code>||</code> and <code>&amp;&amp;</code> return booleans</li>
<li>separate operators for strings and numbers </li>
</ul>
<h2 id="E4X">E4X</h2><ul>
<li>Extensions to ECMAScript for XML</li>
<li>Proposed by BEA</li>
<li>Allows <xml> literals</xml></li>
<li>Not compatible with ECMAScript Third Edition</li>
<li>Not widly accepted yet</li>
<li>Not in IE7</li>
</ul>
<h2 id="Style">Style</h2><ul>
<li>Progamming style isnt about personal taste.</li>
<li>It is about rigor in expression.</li>
<li>It is about clearness in presentation.</li>
<li>It is about product adaptability and longevity.</li>
<li>Good rules help us to keep the quality of our programs high.</li>
</ul>
<h2 id="Style_and_Javasript">Style and Javasript</h2><ul>
<li><p>Style is critically important for Javasript.</p>
</li>
<li><p>The dynamic nature of the language is considered by some to be “too soft”.<br>Discipline is necessary for balance.</p>
</li>
<li><p>Most of the world’s body of Javasript programs is crap.</p>
</li>
</ul>
<p>Code Conventions for the Javasript Programming Language</p>
<p><a href="http://Javasript.crockford.com/code.html" target="_blank" rel="external">http://Javasript.crockford.com/code.html</a></p>
<p>Semicolon insertion </p>
<ul>
<li>When the compiler sees an error, it attempts to replace an nearby linefeed(n.换行) with a semicolon and try again.</li>
<li>This should alarm you.</li>
<li>It can mask errors.</li>
<li>Always use the full, correct forms, including semicolons.</li>
</ul>
<p>Line Ending</p>
<p>Break a line after a punctuator:<br>,.;:{} ([=&lt;&gt;?!+-<em>/%~^|&amp;==!=&lt;=&gt;+=-=</em>=/=%=^=|=&amp;=&lt;&lt;&gt;&gt;||&amp;&amp;===!==&lt;&lt;= &gt;&gt;= &gt;&gt;&gt; &gt;&gt;&gt;=</p>
<p>Do not break after a name, string, number, or ) ] ++ —</p>
<p>Defense against copy/paste errors.</p>
<p>Comma</p>
<ul>
<li><p>Avoid tricky expressions using the comma operators.tags: Javasript</p>
</li>
<li><p>Do not use extra commas in array literals.</p>
</li>
<li><p>Good: [1, 2, 3]</p>
</li>
<li>Bad: [1, 2, 3,]</li>
</ul>
<p>Required Blocks</p>
<ul>
<li><p>Good:<br>if (a) {<br>  b();<br>}</p>
</li>
<li><p>Bad:<br>  if (a) b();</p>
</li>
</ul>
<p>Forbidden Blocks<br>Blocks do not have scope in Javasript</p>
<p>Blocks should only be used with structured statements<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">function&#10;if&#10;switch&#10;while&#10;for&#10;do&#10;try</span><br></pre></td></tr></table></figure></p>
<p>Variables</p>
<ul>
<li><p>Define all variables at the beginning of the function.</p>
</li>
<li><p>Javasript does not have block scope, so their is no advantage in declaring variables at the place of their first use.</p>
</li>
</ul>
<p>Expression Statements</p>
<p>Any expression can be used as a statement. That can mask errors.</p>
<p>Only assignement expressions and invocation expressions should be used as statements.</p>
<p>Good:<br>    foo();<br>Bad:<br>    foo &amp;&amp; foo();</p>
<p>switch Statement<br>Avoid <code>using</code> fallthrough.</p>
<p>Each clause should explicitly <code>break</code> or <code>return</code> or <code>throw</code>.</p>
<p>Assignment Expressions</p>
<p>Do not use assignment expressions in the condition parts of <code>if</code>, <code>while</code>, or <code>for</code>.</p>
<p>It is more likely that<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">if (a = b) &#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p>was intended to be<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">if (a == b) &#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p>Avoid tricky expressions.</p>
<p>== and !=<br>Be aware that == and != do type coercion.</p>
<p>Bad<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">if (a == null) &#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p>Good:<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">if (a === null) &#123; ... &#125;&#10;if (!a) &#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p>Labels<br>Use labels only on these statements:<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">do&#10;for&#10;switch&#10;while</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Never use <code>Javasript:</code> as a label.</li>
</ul>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/18/eloquentjavascriptch1note/" itemprop="url">
                Eloquent Javasript - Chapter 1 - Values, Types, and Operators (Notes)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-18T10:49:52+00:00" content="2015-08-18">
            2015-08-18
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p><img src="/gallery/bit-sea.png" alt="bit-sea"></p>
<p><a href="http://watchandcode.com/courses/eloquent-Javasript-the-annotated-version/lectures/203629" target="_blank" rel="external">Eloquent Javasript(The Annotated Version) - Chapter 1 - Values, Types, and Operators</a></p>
<h1 id="Javasript_Value_Types">Javasript Value Types</h1><ul>
<li>Numbers</li>
<li>Strings</li>
<li>Booleans</li>
<li>Undefined</li>
<li><p>Null</p>
</li>
<li><p>Objects</p>
</li>
<li>Functions</li>
<li>Arrays</li>
</ul>
<h3 id="Numbers">Numbers</h3><ul>
<li>64-bit floating point</li>
<li><p>IEEE-754(aka “Double”)</p>
</li>
<li><p>2<sup>64</sup> different numbers which is about <strong>18 quintillion</strong> (an 18 with 18 zeros after it).</p>
<p>  <strong>The actual maximum whole number that can be stored is more in the range of 9 quadrillion (15 zeros), which is still pleasantly huge.</strong></p>
<blockquote>
<p>Not all whole numbers below 18 quintillion fit in a Javasript number, though. </p>
<p>Those bits also store negative numbers, so one bit indicates the sign of the number. </p>
<p>To do this, some of the bits are used to store the position of the decimal point.</p>
</blockquote>
</li>
</ul>
<h5 id="Arithmetic">Arithmetic</h5><ul>
<li>The % symbol is used to represent the “<strong>Remainder</strong>“ operation, not “<em>modulo</em>“.</li>
</ul>
<h5 id="Special_numbers">Special numbers</h5><ul>
<li>Infinity - positive infinity</li>
<li>-Infinity - negative infinity</li>
<li>NaN - “not a number” which is a value of <strong>the number type</strong>.<ol>
<li>Result of undefined or erroneous operations</li>
<li>Toxic: any arithmetic operation with NaN as an input will have NaN as a result.</li>
<li>Nan is not equal to anything, including NaN<figure class="highlight"><table><tr><td class="code"><pre><span class="line">console.log(NaN == NaN)&#10;// &#8594; false</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<blockquote>
<p>NaN is supposed to denote the result of a nonsensical computation, and as such, it isn’t equal to the result of any other nonsensical computations.</p>
</blockquote>
<h3 id="Strings_-_anything_in_‘’_or_“”">Strings - anything in ‘’ or “”</h3><p>Backslash () - “<strong>escaping</strong>“ the character.</p>
<p>e.g.<br>\”, \n, \t means a tab character.</p>
<h4 id="Unary_operators">Unary operators</h4><p>Not all operators are symbols. Some are written as words.</p>
<p>e.g.<br>the <strong>typeof</strong> operator (produces a string value naming the type of the value)</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">console.log(typeof 4.5)&#10;// &#8594; number&#10;console.log(typeof &#34;x&#34;)&#10;// &#8594; string</span><br></pre></td></tr></table></figure>
<ul>
<li>Sequence of 0 or more 16-bit characters<ul>
<li>UCS-2, not quite UTF-16</li>
<li>No awareness of surrogate pairs</li>
</ul>
</li>
<li>No separate character type<ul>
<li>Characters are represented as strings with a length of 1</li>
</ul>
</li>
<li>Strings are immutable</li>
<li>Similar strings are equal (==)</li>
<li>String literals can use single or double quotes</li>
</ul>
<h3 id="Boolean_-_true_or_false">Boolean - true or false</h3><h5 id="Comparisons">Comparisons</h5><p>String comparison is based on the <strong>Unicode</strong> standard.<br>This standard assigns a number to virtually every character you would ever need.<br>When <strong>comparing strings</strong>, Javasript <strong>goes over them from left to right</strong>, comparing <strong>the numeric codes</strong> of the characters <strong>one by one</strong>.</p>
<h5 id="Logical_operators">Logical operators</h5><ul>
<li><p>The &amp;&amp; operator represents logical and. It is a binary operator, and its result is true only if both the values given to it are true.</p>
</li>
<li><p>The || operator denotes logical or. It produces true if either of the values given to it is true.</p>
</li>
<li><p>Not is written as an exclamation mark (!).</p>
</li>
<li><p>|| has the lowest precedence, then comes &amp;&amp;, then the comparison operators (&gt;, ==, and so on), and then the rest.</p>
</li>
<li><p>Ternary operator, operating on three values. It is written with a question mark and a colon, like this:</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">console.log(true ? 1 : 2);&#10;// &#8594; 1&#10;console.log(false ? 1 : 2);&#10;// &#8594; 2</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>The value on the left of the question</strong> mark “picks” which of the other two values will come out. </p>
<p><strong>When it is true, the middle value is chosen</strong>, and <strong>when it is false, the value on the right comes out.</strong></p>
</blockquote>
<h3 id="Undefined_values">Undefined values</h3><ul>
<li><p><strong>Null</strong> and <strong>Undefined</strong>, that are used to denote the absence of a meaningful value.</p>
</li>
<li><p>Many operations in the language that don’t produce a meaningful value yield <strong>undefined</strong> simply because they have to yield some value.</p>
</li>
<li><p>Treating <strong>Undefined</strong> and <strong>Null</strong> as <strong>interchangeable</strong>.</p>
</li>
</ul>
<h3 id="Automatic_type_conversion">Automatic type conversion</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">console.log(8 * null)&#10;// &#8594; 0&#10;console.log(&#34;5&#34; - 1)&#10;// &#8594; 4&#10;console.log(&#34;5&#34; + 1)&#10;// &#8594; 51&#10;console.log(&#34;five&#34; * 2)&#10;// &#8594; NaN&#10;console.log(false == 0)&#10;// &#8594; true</span><br></pre></td></tr></table></figure>
<p>When an operator is applied to the “wrong” type of value, Javasript will quietly convert that value to the type it wants, using a set of rules that often aren’t what you want or expect. This is called <strong>type coercion</strong>.</p>
<ol>
<li>Null on either side of Arithmetic will convert to be 0 if numeric on the other side.</li>
<li>String can be convert to be number alongside of “-“ convert to be number.</li>
<li>if Strings on either side of “+”, numeric values will be convert to be string and concatenated.</li>
<li>(Strings that can’t be convert to numeric , false, null, undefined) “*” numeric will be return “NaN”.</li>
</ol>
<p><strong>False</strong>, <strong>0</strong>, <strong>the empty string (“”)</strong>, <strong>undefined</strong>, <strong>null</strong> are all falsy values.</p>
<p>The rules for converting strings and numbers to Boolean values state that <strong>0</strong>, <strong>NaN</strong>, and <strong>the empty string (“”)</strong> count as <strong>false</strong>, while all the other values count as <strong>true</strong>. </p>
<p>For cases like this, where you do not want any automatic type conversions to happen, there are two extra operators: === and !==.</p>
<p>Recommend using the three-character comparison operators defensively to prevent unexpected type conversions.</p>
<p>When something that doesn’t map to a number in an obvious way (such as “five” or undefined) is converted to a number, the value <strong>NaN</strong> is produced.</p>
<p>Further arithmetic operations on NaN keep producing NaN, so if you find yourself getting one of those in an unexpected place, look for accidental type conversions.</p>
<p>When comparing values of the same type using ==, the outcome is easy to predict: you should get true when both values are the same, except in the case of <strong>NaN</strong>.</p>
<p>But when the types differ, Javasript uses a <strong>complicated</strong> and <strong>confusing</strong> set of rules to determine what to do. In most cases, it just tries to convert one of the values to the other value’s type. </p>
<p><strong>However, when null or undefined occurs on either side of the operator, it produces true only if both sides are one of null or undefined.</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">console.log(null == undefined);&#10;// &#8594; true&#10;console.log(null == 0);&#10;// &#8594; false</span><br></pre></td></tr></table></figure>
<p>When you want to test whether a value has <strong>a real value instead of null or undefined</strong>, you can simply compare it to null with the == (or !=) operator.</p>
<h3 id="Short-circuiting_of_logical_operators">Short-circuiting of logical operators</h3><p>The logical operators &amp;&amp; and || handle values of different types in a peculiar way. </p>
<p>They will <strong>convert the value on their left side to Boolean type</strong> in order to decide what to do, but depending on the operator and the result of that conversion, they return either the original left-hand value or the right-hand value.</p>
<p>The || operator, for example, will return the value to its left when that can be converted to true and will return the value on its right otherwise. This conversion works as you’d expect for Boolean values and should do something analogous for values of other types.</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">console.log(null || &#34;user&#34;)&#10;// &#8594; user&#10;console.log(&#34;Karl&#34; || &#34;user&#34;)&#10;// &#8594; Karl</span><br></pre></td></tr></table></figure>
<p>This functionality allows the || operator to be used as a way to fall back on a default value. If you give it an expression that might produce an empty value on the left, the value on the right will be used as a replacement in that case.</p>
<p>The &amp;&amp; operator works similarly, but the other way around. When the value to its left is something that converts to false, it returns that value, and otherwise it returns the value on its right.</p>
<p>Another important property of these two operators is that the expression to their right is evaluated only when necessary. In the case of true || X, no matter what X is—even if it’s an expression that does something terrible—the result will be true, and X is never evaluated. The same goes for false &amp;&amp; X, which is false and will ignore X. This is called <strong>short-circuit evaluation</strong>.</p>
<p>The conditional operator works in a similar way. The first expression is always evaluated, but the second or third value, the one that is not picked, is not.</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/">&laquo;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/">&raquo;</a>
  </nav>

 </div>

        

        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="css/images/1035498.gif" alt="Chandler" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Chandler</p>
        </div>
        <p class="site-description motion-element" itemprop="description">Chandler's Blog</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">33</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">categories</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">26</span>
              <span class="site-state-item-name">tags</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chandler</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
